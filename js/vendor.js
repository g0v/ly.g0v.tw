(function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},n={},o=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var n,o,i=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var r=0,a=n.length;a>r;r++)o=n[r],".."===o?i.pop():"."!==o&&""!==o&&i.push(o);return i.join("/")},r=function(e){return e.split("/").slice(0,-1).join("/")},a=function(t){return function(n){var o=r(t),a=i(o,n);return e.require(a)}},s=function(e,t){var o={id:e,exports:{}};t(o.exports,a(e),o);var i=n[e]=o.exports;return i},l=function(e){var r=i(e,".");if(o(n,r))return n[r];if(o(t,r))return s(r,t[r]);var a=i(r,"./index");if(o(n,a))return n[a];if(o(t,a))return s(a,t[a]);throw Error('Cannot find module "'+e+'"')},c=function(e,n){if("object"==typeof e)for(var i in e)o(e,i)&&(t[i]=e[i]);else t[e]=n};e.require=l,e.require.define=c,e.require.register=c,e.require.brunch=!0}})(),function(e){for(var t,n=function(){},o="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");t=o.pop();)e[t]=e[t]||n}(window.console=window.console||{}),angular.module("monospaced.qrcode",[]).directive("qrcode",["$timeout","$window",function(e,t){var n=!!t.CanvasRenderingContext2D,o={L:"Low",M:"Medium",Q:"Quartile",H:"High"},i=function(e,t,n,o){for(var i=0;n>i;i++)for(var r=0;n>r;r++){var a=Math.ceil((r+1)*o)-Math.floor(r*o),s=Math.ceil((i+1)*o)-Math.floor(i*o);e.fillStyle=t.isDark(i,r)?"#000":"#fff",e.fillRect(Math.round(r*o),Math.round(i*o),a,s)}};return{restrict:"E",template:"<canvas></canvas>",transclude:!0,compile:function(t,r,a){var s=t[0],l=t.find("canvas")[0],c=Math.max(1,Math.min(parseInt(r.version,10),10))||4,u=r.errorCorrectionLevel in o?r.errorCorrectionLevel:"M",d=/^\s+|\s+$/g,f=qrcode(c,u);f.make();var g=f.getModuleCount(),p=parseInt(r.size,10)||2*g,h=p/g,m=function(e,t){e.addData(t),e.make(),n?i(v,e,g,h):s.innerHTML=e.createImgTag(h,0)};if(n){var v=l.getContext("2d");l.width=l.height=p}return r.text?(r.$observe("text",function(e){var t=e.replace(d,""),n=qrcode(c,u);m(n,t)}),void 0):function(t){a(t,function(t){e(function(){var e=t.text().replace(d,"");m(f,e)})})}}}}]),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),o=this.$window.scrollTop(),i=this.$element.offset(),r=this.options.offset,a=r.bottom,s=r.top,l="affix affix-top affix-bottom";"object"!=typeof r&&(a=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof a&&(a=r.bottom()),t=null!=this.unpin&&o+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=o?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?i.top-o:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}},e.fn.affix=function(n){return this.each(function(){var o=e(this),i=o.data("affix"),r="object"==typeof n&&n;i||o.data("affix",i=new t(this,r)),"string"==typeof n&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){o.trigger("closed").remove()}var o,i=e(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),o=e(r),t&&t.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(t=e.Event("close")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.on(e.support.transition.end,n):n())},e.fn.alert=function(t){return this.each(function(){var o=e(this),i=o.data("alert");i||o.data("alert",i=new n(this)),"string"==typeof t&&i[t].call(o)})},e.fn.alert.Constructor=n,e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,o=n.data(),i=n.is("input")?"val":"html";e+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var o=e(this),i=o.data("button"),r="object"==typeof n&&n;i||o.data("button",i=new t(this,r)),"toggle"==n?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),o=n.parent().children(),i=o.index(n),r=this;if(!(t>o.length-1||0>t))return this.sliding?this.$element.one("slid",function(){r.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(o[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var o,i=this.$element.find(".item.active"),r=n||i[t](),a=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),r=r.length?r:this.$element.find(".item")[l](),o=e.Event("slide",{relatedTarget:r[0]}),!r.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(o),o.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,i.addClass(s),r.addClass(s),this.$element.one(e.support.transition.end,function(){r.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(o),o.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}},e.fn.carousel=function(n){return this.each(function(){var o=e(this),i=o.data("carousel"),r=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:r.slide;i||o.data("carousel",i=new t(this,r)),"number"==typeof n?i.to(n):a?i[a]():r.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(document).on("click.carousel.data-api","[data-slide]",function(t){var n,o=e(this),i=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=e.extend({},i.data(),o.data());i.carousel(r),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,o,i;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),o=this.$parent&&this.$parent.find("> .accordion-group > .in"),o&&o.length){if(i=o.data("collapse"),i&&i.transitioning)return;o.collapse("hide"),i||o.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,o){var i=this,r=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(o)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var o=e(this),i=o.data("collapse"),r="object"==typeof n&&n;i||o.data("collapse",i=new t(this,r)),"string"==typeof n&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,o=e(this),i=o.attr("data-target")||t.preventDefault()||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=e(i).data("collapse")?"toggle":o.data();o[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(r)})}(window.jQuery),!function(e){"use strict";function t(){e(o).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,o=t.attr("data-target");return o||(o=t.attr("href"),o=o&&/#/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,"")),n=e(o),n.length||(n=t.parent()),n}var o="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var o,i,r=e(this);if(!r.is(".disabled, :disabled"))return o=n(r),i=o.hasClass("open"),t(),i||(o.toggleClass("open"),r.focus()),!1},keydown:function(t){var o,i,r,a,s;if(/(38|40|27)/.test(t.keyCode)&&(o=e(this),t.preventDefault(),t.stopPropagation(),!o.is(".disabled, :disabled"))){if(r=n(o),a=r.hasClass("open"),!a||a&&27==t.keyCode)return o.click();i=e("[role=menu] li:not(.divider) a",r),i.length&&(s=i.index(i.filter(":focus")),38==t.keyCode&&s>0&&s--,40==t.keyCode&&i.length-1>s&&s++,~s||(s=0),i.eq(s).focus())}}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),o=n.data("dropdown");o||n.data("dropdown",o=new i(this)),"string"==typeof t&&o[t].call(n)})},e.fn.dropdown.Constructor=i,e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",t).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",o,i.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",o+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),o?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var o=e(this),i=o.data("modal"),r=e.extend({},e.fn.modal.defaults,o.data(),"object"==typeof n&&n);i||o.data("modal",i=new t(this,r)),"string"==typeof n?i[n]():r.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),o=n.attr("href"),i=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},i.data(),n.data());t.preventDefault(),i.modal(r).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";function t(t,n){var o,i=e.proxy(this.process,this),r=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=r.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(o=e(t).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),o=/^#\w/.test(n)&&e(n);return o&&o.length&&[[o.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=n-this.$scrollElement.height(),i=this.offsets,r=this.targets,a=this.activeTarget;if(t>=o)return a!=(e=r.last()[0])&&this.activate(e);for(e=i.length;e--;)a!=r[e]&&t>=i[e]&&(!i[e+1]||i[e+1]>=t)&&this.activate(r[e])},activate:function(t){var n,o;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),o=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(o).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var o=e(this),i=o.data("scrollspy"),r="object"==typeof n&&n;i||o.data("scrollspy",i=new t(this,r)),"string"==typeof n&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,o,i=this.element,r=i.closest("ul:not(.dropdown-menu)"),a=i.attr("data-target");a||(a=i.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=r.find(".active:last a")[0],o=e.Event("show",{relatedTarget:t}),i.trigger(o),o.isDefaultPrevented()||(n=e(a),this.activate(i.parent("li"),r),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,o){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),o&&o()}var r=n.find("> .active"),a=o&&e.support.transition&&r.hasClass("fade");a?r.one(e.support.transition.end,i):i(),r.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var o=e(this),i=o.data("tab");i||o.data("tab",i=new t(this)),"string"==typeof n&&i[n]()})},e.fn.tab.Constructor=t,e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],o=[],i=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?o.push(t):i.push(t):n.push(t);return n.concat(o,i)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,o){return t=e(n.options.item).attr("data-value",o),t.find("a").html(n.highlighter(o)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(){var e=this;setTimeout(function(){e.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var o=e(this),i=o.data("typeahead"),r="object"==typeof n&&n;i||o.data("typeahead",i=new t(this,r)),"string"==typeof n&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||(t.preventDefault(),n.typeahead(n.data()))})}(window.jQuery),jade=function(e){function t(e){return null!=e}return Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),e.merge=function(e,n){var o=e["class"],i=n["class"];(o||i)&&(o=o||[],i=i||[],Array.isArray(o)||(o=[o]),Array.isArray(i)||(i=[i]),o=o.filter(t),i=i.filter(t),e["class"]=o.concat(i).join(" "));for(var r in n)"class"!=r&&(e[r]=n[r]);return e},e.attrs=function(t,n){var o=[],i=t.terse;delete t.terse;var r=Object.keys(t),a=r.length;if(a){o.push("");for(var s=0;a>s;++s){var l=r[s],c=t[l];"boolean"==typeof c||null==c?c&&(i?o.push(l):o.push(l+'="'+l+'"')):0==l.indexOf("data")&&"string"!=typeof c?o.push(l+"='"+JSON.stringify(c)+"'"):"class"==l&&Array.isArray(c)?o.push(l+'="'+e.escape(c.join(" "))+'"'):n&&n[l]?o.push(l+'="'+e.escape(c)+'"'):o.push(l+'="'+c+'"')}}return o.join(" ")},e.escape=function(e){return(e+"").replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(e,t,n){if(!t)throw e;var o=3,i=require("fs").readFileSync(t,"utf8"),r=i.split("\n"),a=Math.max(n-o,0),s=Math.min(r.length,n+o),o=r.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?"  > ":"    ")+o+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+n+"\n"+o+"\n\n"+e.message,e},e}({}),jQuery.noConflict(),function($){var version="2.2.0",tests=[],rubies,unicode=[],rendered="han-js-rendered",classes=[rendered],fontfaces=[],han=function(){$(document).on("ready",function(){classes.push((test_for_unicoderange()?"":"no-")+"unicoderange"),fontfaces.songti=test_for_fontface("Han Songti"),fontfaces.kaiti=test_for_fontface("Han Kaiti"),fontfaces.fangsong=test_for_fontface("Han Fangsong");for(var e in fontfaces)classes.push((fontfaces[e]?"":"no-")+"fontface-"+e);$("html").addClass(classes.join(" ")),init()})},init=function(range){if(range||!$("html").hasClass("no-han-init")){var range=range||"body";"body"===range||$(range).hasClass(rendered)?"body"!==range||$("html").hasClass(rendered)||$("html").addClass(rendered):$(range).addClass(rendered),$(range).find("ruby.pinyin").addClass("romanization"),$(range).find("ruby.zhuyin").addClass("mps"),$(range).find("ruby").each(function(){var html=$(this).html();if($(this).hasClass("mps")||tests.ruby()){if($(this).hasClass("mps")){var generic=$(this).css("font-family"),zhuyin_font=generic.match(/(sans-serif|monospace)$/)?"sans-serif":"serif",hanzi=unicode_set("hanzi"),shengmu=unicode.bopomofo.mps.shengmu,jieyin=unicode.bopomofo.mps.jieyin,yunmu=unicode.bopomofo.mps.yunmu,tone=unicode.bopomofo.tone.five,reg="/("+hanzi+")<rt>(.*)<\\/rt>/ig";html=html.replace(eval(reg),function(entire,character,mps){var form,yin,diao,data,zi;return form=mps.match(eval("/("+shengmu+")/"))?"shengmu":"",form+=mps.match(eval("/("+jieyin+")/"))?(""!==form?"-":"")+"jieyin":"",form+=mps.match(eval("/("+yunmu+")/"))?(""!==form?"-":"")+"yunmu":"",yin=mps.replace(eval("/("+tone+")/g"),""),diao=mps.match(/([\u02D9])/)?"0":mps.match(/([\u02CA])/)?"2":mps.match(/([\u02C5\u02C7])/)?"3":mps.match(/([\u02CB])/)?"4":"1",data='data-zy="'+yin+'" data-tone="'+diao+'" data-form="'+form+'"',zi='<span class="zi" '+data+">"+character+"</span>",zi+'<span class="zy">'+mps+"</span>"}),$(this).replaceWith($('<span class="han-js-zhuyin-rendered"></span>').addClass("zhuyin-"+zhuyin_font).html(html))}}else{var result=html.replace(/<rt>/gi,'</span><span class="rt"><span class="rt inner">').replace(/<\/rt>/gi,'</span></span></span><span class="rr"><span class="rb">');$(this).html('<span class="rr"><span class="rb">'+result+"</span>")}}),$("html").hasClass("han-la")&&$(range).each(function(){var hanzi=unicode_set("hanzi"),latin=unicode_set("latin")+"|"+unicode.punc[0],punc=unicode.punc;patterns=["/("+hanzi+")("+latin+"|"+punc[1]+")/ig","/("+latin+"|"+punc[2]+")("+hanzi+")/ig"],patterns.forEach(function(exp){findAndReplaceDOMText(this,{find:eval(exp),replace:"$1<hanla>$2"})},this),findAndReplaceDOMText(this,{find:"<hanla>",replace:function(){return _span("hanla")}}),this.normalize(),$("* > span.hanla:first-child").parent().each(function(){1==this.firstChild.nodeType&&($(this).before($('<span class="hanla"></span>')),$(this).find("span.hanla:first-child").remove())})}),$("html").hasClass("han-lab-underline")?$(range).find("u").charize("",!0,!0):$(range).find("u").each(function(){function e(e){"U"===e.nodeName&&$(e).addClass("adjacent")}function t(n){if("WBR"===n.nodeName||8==n.nodeType){var n=n.nextSibling;t(n),e(n)}}var n=this.nextSibling;t(n),e(n)}),$(range).find("em").charize({latin:tests.textemphasis()?"none":"individual"}),tests.quotes()||$(range).find("q q").each(function(){0!=$(this).parents("q").length%2&&$(this).addClass("double")})}},unicode_set=function(e){var t=e.match(/[hanzi|latin]/)?!0:!1,n=t?unicode[e].join("|"):unicode[e];return n},_span=function(e){var t=document.createElement("span");return t.className=e,t},findAndReplaceDOMText=function(e,t){var t=t;return t.filterElements=function(e){var t=e.nodeName.toLowerCase(),n=1==e.nodeType?e.getAttribute("class"):"",o=n&&null!=n.match(/han-js-charized/)?!0:!1;return"style"!==t&&"script"!==t&&!o},window.findAndReplaceDOMText(e,t)},inject_element_with_styles=function(e,t){var n,o,i,r=document.documentElement,a=document.createElement("div"),s=document.body,l=s||document.createElement("body");return n=['<style id="han-support">',e,"</style>"].join(""),(s?a:l).innerHTML+=n,l.appendChild(a),s||(l.style.background="",l.style.overflow="hidden",i=r.style.overflow,r.style.overflow="hidden",r.appendChild(l)),o=t(a,e),s?a.parentNode.removeChild(a):(l.parentNode.removeChild(l),r.style.overflow=i),!!o},write_on_canvas=function(e,t){var n=document.createElement("canvas");n.width="50",n.height="20",n.style.display="none",n.className="han_support_tests",document.body.appendChild(n);var o=n.getContext("2d");return o.textBaseline="top",o.font="15px "+t+", sans-serif",o.fillStyle="black",o.strokeStyle="black",o.fillText(e,0,0),o},test_for_fontface=function(e,t,n){if(!tests.fontface())return!1;var e=e,t=t||"sans-serif",n=n||"Ëæ≠Q";try{for(var o,i=write_on_canvas(n,t),e=write_on_canvas(n,e),r=1;20>=r;r++)for(var a=1;50>=a;a++){var s=i.getImageData(a,r,1,1).data,l=e.getImageData(a,r,1,1).data,c=[];if(c.sans=s[3],c.test=l[3],"undefined"!==o&&c.test!=c.sans)o=!0;else if(o)break;20==a&&20==r&&(o||(o=!1))}return $("canvas.han_support_tests").remove(),o}catch(u){return!1}};test_for_unicoderange=function(){return!test_for_fontface("han-unicode-range",'Arial, "Droid Sans"',"a")},unicode.latin=["[A-Za-z0-9√Ä-√øƒÄ-≈ø∆Ä-…è·∏Ä-·ªø]"],unicode.punc=["[@&;=_,.?!$%^*-+/]","[(\\['\"<‚Äò‚Äú]","[)\\]'\">‚Äù‚Äô]"],unicode.hanzi=["[‰∏Ä-Èøø]","[„êÄ-‰∂µÈæ¶-ÈæªÔ©∞-Ô´ôÈæº-ÈøÉ„Äá„ÅÄ-„Çû„Ç°-„É∫„ÉΩ„ÉæÔ®é-Ô®èÔ®ëÔ®ì-Ô®îÔ®üÔ®°Ô®£-Ô®§Ô®ß-Ô®©]","[Ì°Ä-Ì°®][Ì∞Ä-Ìøø]|Ì°©[Ì∞Ä-Ìªü]","Ì°≠[Ì∞Ä-Ìºø]|[Ì°™-Ì°¨][Ì∞Ä-Ìøø]|Ì°©[ÌºÄ-Ìøø]","Ì°≠[ÌΩÄ-Ìøø]|Ì°Æ[Ì∞Ä-Ì∞ü]","[„áÄ-„á£]"],unicode.biaodian=["[¬∑„ÉªÔ∏∞„ÄÅÔºå„ÄÇÔºöÔºõÔºüÔºÅ‚Äî„Éº‚ãØ‚Ä¶Ôºé¬∑Ôºè]","[„Äå„ÄéÔºà„Äî„Äê„Ää„Äà‚Äú‚Äò]","[„Äç„ÄèÔºâ„Äï„Äë„Äã„Äâ‚Äô‚Äù]"],unicode.bopomofo=[],unicode.bopomofo.mps=[],unicode.bopomofo.mps[0]="[„ÑÖ-„Ñ≠]",unicode.bopomofo.mps.shengmu="[„ÑÖ-„Ñô„Ñ™-„Ñ¨]",unicode.bopomofo.mps.jieyin="[„Ñß-„Ñ©]",unicode.bopomofo.mps.yunmu="[„Ñö-„Ñ¶„Ñ≠]",unicode.bopomofo.extend="[„Ü†-„Ü∫]",unicode.bopomofo.tone=[],unicode.bopomofo.tone.five="[ÀôÀäÀÖÀáÀã]",unicode.bopomofo.tone.extend="[À™À´]",tests.columnwidth=function(){var e=$('<div style="display: none; column-width: 200px; -webkit-column-width: 200px;">tester</div>'),t=/^200px$/.test(e.css("-webkit-column-width"))||/^200px$/.test(e.css("-moz-column-width"))||/^200px$/.test(e.css("-ms-column-width"))||/^200px$/.test(e.css("column-width"))?!0:!1;return t},tests.fontface=function(){var e;return inject_element_with_styles('@font-face {font-family:"font";src:url("https://")}',function(t,n){var o=document.getElementById("han-support"),i=o.sheet||o.styleSheet,r=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(r)&&0===r.indexOf(n.split(" ")[0])}),e},tests.ruby=function(){function e(e,t){var n;return window.getComputedStyle?n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t):e.currentStyle&&(n=e.currentStyle[t]),n}if(null!=rubies)return rubies;var t=document.createElement("ruby"),n=document.createElement("rt"),o=document.createElement("rp"),i=document.documentElement,r="display";return t.appendChild(o),t.appendChild(n),i.appendChild(t),rubies="none"==e(o,r)||"ruby"==e(t,r)&&"ruby-text"==e(n,r)?!0:!1,i.removeChild(t),t=null,n=null,o=null,rubies},tests.textemphasis=function(){var e=$('<span style="display: none; text-emphasis: dot; -moz-text-emphasis: dot; -ms-text-emphasis: dot; -webkit-text-emphasis: dot;">tester</span>'),t=/^dot$/.test(e.css("-webkit-text-emphasis-style"))||/^dot$/.test(e.css("text-emphasis-style"))||/^dot$/.test(e.css("-moz-text-emphasis-style"))||/^dot$/.test(e.css("-ms-text-emphasis-style"))?!0:!1;return t},tests.quotes=function(){var e=$("<q style=\"display: none; quotes: '‚Äú' '‚Äù' '‚Äò' '‚Äô'\">tester</q>"),t=/^"‚Äú" "‚Äù" "‚Äò" "‚Äô"$/.test(e.css("quotes"));return t},tests.writingmode=function(){var e=$('<div style="display: none; writing-mode: tb-rl; -moz-writing-mode: tb-rl; -ms-writing-mode: tb-rl; -webkit-writing-mode: vertical-rl;">tester</div>'),t=/^tb-rl$/.test(e.css("writing-mode"))||/^vertical-rl$/.test(e.css("-webkit-writing-mode"))||/^tb-rl$/.test(e.css("-moz-writing-mode"))||/^tb-rl$/.test(e.css("-ms-writing-mode"))?!0:!1;return t},$.fn.extend({hanInit:function(){return init(this)},bitouwei:function(){return this.each(function(){$(this).addClass("han-js-bitouwei-rendered");var tou=unicode.biaodian[0]+unicode.biaodian[2],wei=unicode.biaodian[1],start=unicode.punc[0]+unicode.punc[2],end=unicode.punc[1];tou=tou.replace(/\]\[/g,""),start=start.replace(/\]\[/g,""),findAndReplaceDOMText(this,{find:eval("/("+wei+")("+unicode_set("hanzi")+")("+tou+")/ig"),wrap:_span("bitouwei bitouweidian")}),findAndReplaceDOMText(this,{find:eval("/("+unicode_set("hanzi")+")("+tou+")/ig"),wrap:_span("bitouwei bitoudian")}),findAndReplaceDOMText(this,{find:eval("/("+wei+")("+unicode_set("hanzi")+")/ig"),wrap:_span("bitouwei biweidian")}),findAndReplaceDOMText(this,{find:eval("/("+end+")("+unicode_set("latin")+"+)("+start+")/ig"),wrap:_span("bitouwei bitouweidian")}),findAndReplaceDOMText(this,{find:eval("/("+unicode_set("latin")+"+)("+start+")/ig"),wrap:_span("bitouwei bitoudian")}),findAndReplaceDOMText(this,{find:eval("/("+end+")("+unicode_set("latin")+"+)/ig"),wrap:_span("bitouwei biweidian")})
})},charize:function(glyph,charClass,innerSpan){var glyph=glyph||{},charClass=1==charClass?!0:!1;return glyph={cjk:glyph.cjk||"individual",bitouwei:0==glyph.bitouwei?!1:!0,latin:glyph.latin||"group"},this.each(function(){glyph.bitouwei&&$(this).bitouwei(),"individual"===glyph.cjk&&findAndReplaceDOMText(this,{find:eval("/("+unicode_set("hanzi")+")/ig"),wrap:_span("char cjk")}),("individual"===glyph.cjk||"biaodian"===glyph.cjk)&&findAndReplaceDOMText(this,{find:eval("/("+unicode_set("biaodian")+")/ig"),wrap:_span("char cjk biaodian")}),"group"===glyph.cjk&&findAndReplaceDOMText(this,{find:eval("/("+unicode_set("hanzi")+"+|"+unicode_set("biaodian")+"+)/ig"),wrap:_span("char cjk")});var latin_regex="group"===glyph.latin?"/("+unicode_set("latin")+"+)/ig":"/("+unicode_set("latin")+")/ig";findAndReplaceDOMText(this,{find:eval(latin_regex),wrap:_span("char latin")}),findAndReplaceDOMText(this,{find:eval("/("+unicode_set("punc")+"+)/ig"),wrap:_span("char latin punc")}),findAndReplaceDOMText(this,{find:/([\s]+)/gi,wrap:_span("char space")}),innerSpan&&$(this).find(".char").each(function(){$(this).html($("<span>").text($(this).text()))}),charClass&&$(this).addClass("han-js-charized")})}});for(var feature in tests){if(classes.push((tests[feature]()?"":"no-")+feature),!tester)var tester="";tester+="	"+feature+": tests['"+feature+"'](),\n"}!function(window){eval("tester = ({\n"+tester.replace(/\n$/gi,"\nunicoderange: test_for_unicoderange, \nfont: test_for_fontface\n}")+")")}(),han(),window.han={unicode:unicode_set,support:tester}}(jQuery),window.findAndReplaceDOMText=function(){function e(e){return(e+"").replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function t(){return n.apply(null,arguments)||o.apply(null,arguments)}function n(e,n,i,r,a){if(n&&!n.nodeType&&2>=arguments.length)return!1;var s="function"==typeof i;s&&(i=function(e){return function(t,n){return e(t.text,n.startIndex)}}(i));var l=o(n,{find:e,wrap:s?null:i,replace:s?i:"$"+(r||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(r>0){var n=e[r];e.index+=e[0].indexOf(n),e[0]=n}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},filterElements:a});return t.revert=function(){return l.revert()},!0}function o(e,t){return new i(e,t)}function i(e,t){t.portionMode=t.portionMode||r,this.node=e,this.options=t,this.prepMatch=t.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}var r="retain",a="first",s=document;return{}.toString,t.Finder=i,i.prototype={search:function(){var t,n=0,o=this.options.find,i=this.getAggregateText(),r=[];if(o="string"==typeof o?RegExp(e(o),"g"):o,o.global)for(;t=o.exec(i);)r.push(this.prepMatch(t,n++));else(t=i.match(o))&&r.push(this.prepMatch(t,0));return r},prepMatch:function(e,t){if(!e[0])throw Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},getAggregateText:function(){function e(n){if(3===n.nodeType)return n.data;if(t&&!t(n))return"";var o="";if(n=n.firstChild)do o+=e(n);while(n=n.nextSibling);return o}var t=this.options.filterElements;return e(this.node)},processMatches:function(){var e,t,n,o=this.matches,i=this.node,r=this.options.filterElements,a=[],s=i,l=o.shift(),c=0,u=0,d=0;e:for(;;){if(3===s.nodeType&&(!t&&s.length+c>=l.endIndex?t={node:s,index:d++,text:s.data.substring(l.startIndex-c,l.endIndex-c),indexInMatch:c-l.startIndex,indexInNode:l.startIndex-c,endIndexInNode:l.endIndex-c,isEnd:!0}:e&&a.push({node:s,index:d++,text:s.data,indexInMatch:c-l.startIndex,indexInNode:0}),!e&&s.length+c>l.startIndex&&(e={node:s,index:d++,indexInMatch:0,indexInNode:l.startIndex-c,endIndexInNode:l.endIndex-c,text:s.data.substring(l.startIndex-c,l.endIndex-c)}),c+=s.data.length),n=1===s.nodeType&&r&&!r(s),e&&t){if(s=this.replaceMatch(l,e,a,t),c-=t.node.data.length-t.endIndexInNode,e=null,t=null,a=[],l=o.shift(),d=0,u++,!l)break}else if(!n&&(s.firstChild||s.nextSibling)){s=s.firstChild||s.nextSibling;continue}for(;;){if(s.nextSibling){s=s.nextSibling;break}if(s.parentNode===i)break e;s=s.parentNode}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(e,t,n){var o=this.options.portionMode;return o===a&&t.indexInMatch>0?"":(e=e.replace(/\$(\d+|&|`|')/g,function(e,t){var o;switch(t){case"&":o=n[0];break;case"`":o=n.input.substring(0,n.startIndex);break;case"'":o=n.input.substring(n.endIndex);break;default:o=n[+t]}return o}),o===a?e:t.isEnd?e.substring(t.indexInMatch):e.substring(t.indexInMatch,t.indexInMatch+t.text.length))},getPortionReplacementNode:function(e,t,n){var o=this.options.replace||"$&",i=this.options.wrap;if(i&&i.nodeType){var r=s.createElement("div");r.innerHTML=i.outerHTML||(new XMLSerializer).serializeToString(i),i=r.firstChild}if("function"==typeof o)return o=o(e,t,n),o&&o.nodeType?o:s.createTextNode(o+"");var a="string"==typeof i?s.createElement(i):i;return o=s.createTextNode(this.prepareReplacementString(o,e,t,n)),a?(a.appendChild(o),a):o},replaceMatch:function(e,t,n,o){var i,r,a=t.node,l=o.node;if(a===l){var c=a;t.indexInNode>0&&(i=s.createTextNode(c.data.substring(0,t.indexInNode)),c.parentNode.insertBefore(i,c));var u=this.getPortionReplacementNode(o,e);return c.parentNode.insertBefore(u,c),o.endIndexInNode<c.length&&(r=s.createTextNode(c.data.substring(o.endIndexInNode)),c.parentNode.insertBefore(r,c)),c.parentNode.removeChild(c),this.reverts.push(function(){i===u.previousSibling&&i.parentNode.removeChild(i),r===u.nextSibling&&r.parentNode.removeChild(r),u.parentNode.replaceChild(c,u)}),u}i=s.createTextNode(a.data.substring(0,t.indexInNode)),r=s.createTextNode(l.data.substring(o.endIndexInNode));for(var d=this.getPortionReplacementNode(t,e),f=[],g=0,p=n.length;p>g;++g){var h=n[g],m=this.getPortionReplacementNode(h,e);h.node.parentNode.replaceChild(m,h.node),this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(h,m)),f.push(m)}var v=this.getPortionReplacementNode(o,e);return a.parentNode.insertBefore(i,a),a.parentNode.insertBefore(d,a),a.parentNode.removeChild(a),l.parentNode.insertBefore(v,l),l.parentNode.insertBefore(r,l),l.parentNode.removeChild(l),this.reverts.push(function(){i.parentNode.removeChild(i),d.parentNode.replaceChild(a,d),r.parentNode.removeChild(r),v.parentNode.replaceChild(l,v)}),v}},t}();var CryptoJS=CryptoJS||function(e,t){var n={},o=n.lib={},i=o.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),r=o.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,e=e.sigBytes;if(this.clamp(),o%4)for(var i=0;e>i;i++)t[o+i>>>2]|=(255&n[i>>>2]>>>24-8*(i%4))<<24-8*((o+i)%4);else if(n.length>65535)for(i=0;e>i;i+=4)t[o+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],o=0;t>o;o+=4)n.push(0|4294967296*e.random());return r.create(n,t)}}),a=n.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],o=0;e>o;o++){var i=255&t[o>>>2]>>>24-8*(o%4);n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;t>o;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-4*(o%8);return r.create(n,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],o=0;e>o;o++)n.push(String.fromCharCode(255&t[o>>>2]>>>24-8*(o%4)));return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;t>o;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-8*(o%4);return r.create(n,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},u=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=r.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0),t=s*a,i=e.min(4*t,i);if(t){for(var l=0;t>l;l+=a)this._doProcessBlock(o,l);l=o.splice(0,t),n.sigBytes-=i}return r.create(l,i)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=u.extend({init:function(){this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,n){return e.create(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return d.HMAC.create(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);(function(e){function t(e,t,n,o,i,r,a){return e=e+(t&n|~t&o)+i+a,(e<<r|e>>>32-r)+t}function n(e,t,n,o,i,r,a){return e=e+(t&o|n&~o)+i+a,(e<<r|e>>>32-r)+t}function o(e,t,n,o,i,r,a){return e=e+(t^n^o)+i+a,(e<<r|e>>>32-r)+t}function i(e,t,n,o,i,r,a){return e=e+(n^(t|~o))+i+a,(e<<r|e>>>32-r)+t}var r=CryptoJS,a=r.lib,s=a.WordArray,a=a.Hasher,l=r.algo,c=[];(function(){for(var t=0;64>t;t++)c[t]=0|4294967296*e.abs(e.sin(t+1))})(),l=l.MD5=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var a=0;16>a;a++){var s=r+a,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}for(var s=this._hash.words,l=s[0],u=s[1],d=s[2],f=s[3],a=0;64>a;a+=4)16>a?(l=t(l,u,d,f,e[r+a],7,c[a]),f=t(f,l,u,d,e[r+a+1],12,c[a+1]),d=t(d,f,l,u,e[r+a+2],17,c[a+2]),u=t(u,d,f,l,e[r+a+3],22,c[a+3])):32>a?(l=n(l,u,d,f,e[r+(a+1)%16],5,c[a]),f=n(f,l,u,d,e[r+(a+6)%16],9,c[a+1]),d=n(d,f,l,u,e[r+(a+11)%16],14,c[a+2]),u=n(u,d,f,l,e[r+a%16],20,c[a+3])):48>a?(l=o(l,u,d,f,e[r+(3*a+5)%16],4,c[a]),f=o(f,l,u,d,e[r+(3*a+8)%16],11,c[a+1]),d=o(d,f,l,u,e[r+(3*a+11)%16],16,c[a+2]),u=o(u,d,f,l,e[r+(3*a+14)%16],23,c[a+3])):(l=i(l,u,d,f,e[r+3*a%16],6,c[a]),f=i(f,l,u,d,e[r+(3*a+7)%16],10,c[a+1]),d=i(d,f,l,u,e[r+(3*a+14)%16],15,c[a+2]),u=i(u,d,f,l,e[r+(3*a+5)%16],21,c[a+3]));s[0]=0|s[0]+l,s[1]=0|s[1]+u,s[2]=0|s[2]+d,s[3]=0|s[3]+f},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;for(t[o>>>5]|=128<<24-o%32,t[(o+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash.words,t=0;4>t;t++)n=e[t],e[t]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}}),r.MD5=a._createHelper(l),r.HmacMD5=a._createHmacHelper(l)})(Math),function(e,t){"use strict";var n=6,o=4,i="asc",r="desc",a="_ng_field_",s="_ng_depth_",l="_ng_hidden_",c="_ng_column_",u=/CUSTOM_FILTERS/g,d=/COL_FIELD/g,f=/DISPLAY_CELL_TEMPLATE/g,g=/EDITABLE_CELL_TEMPLATE/g,p=/<.+>/;e.ngGrid={},e.ngGrid.i18n={};var h=angular.module("ngGrid.services",[]),m=angular.module("ngGrid.directives",[]),v=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var b=function(e,t,o,i){if(void 0===e.selectionProvider.selectedItems)return!0;var r,a=o.which||o.keyCode,s=!1,l=!1,c=e.selectionProvider.lastClickedRow.rowIndex,u=e.columns.filter(function(e){return e.visible}),d=e.columns.filter(function(e){return e.pinned});if(e.col&&(r=u.indexOf(e.col)),37!=a&&38!=a&&39!=a&&40!=a&&9!=a&&13!=a)return!0;if(e.enableCellSelection){9==a&&o.preventDefault();var f=e.showSelectionCheckbox?1==e.col.index:0==e.col.index,g=1==e.$index||0==e.$index,p=e.$index==e.renderedColumns.length-1||e.$index==e.renderedColumns.length-2,h=u.indexOf(e.col)==u.length-1,m=d.indexOf(e.col)==d.length-1;if(37==a||9==a&&o.shiftKey){var v=0;f||(r-=1),g?f&&9==a&&o.shiftKey?(v=i.$canvas.width(),r=u.length-1,l=!0):v=i.$viewport.scrollLeft()-e.col.width:d.length>0&&(v=i.$viewport.scrollLeft()-u[r].width),i.$viewport.scrollLeft(v)}else(39==a||9==a&&!o.shiftKey)&&(p?h&&9==a&&!o.shiftKey?(i.$viewport.scrollLeft(0),r=e.showSelectionCheckbox?1:0,s=!0):i.$viewport.scrollLeft(i.$viewport.scrollLeft()+e.col.width):m&&i.$viewport.scrollLeft(0),h||(r+=1))}var b;b=e.configGroups.length>0?i.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):i.filteredRows;var y=0;if(0!=c&&(38==a||13==a&&o.shiftKey||9==a&&o.shiftKey&&l)?y=-1:c!=b.length-1&&(40==a||13==a&&!o.shiftKey||9==a&&s)&&(y=1),y){var w=b[c+y];w.beforeSelectionChange(w,o)&&(w.continueSelection(o),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-n-2?i.$viewport.scrollTop(i.$viewport.scrollTop()+e.rowHeight):n+2>=e.selectionProvider.lastClickedRow.renderedRowIndex&&i.$viewport.scrollTop(i.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(u[r]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var o=[],i=arguments[1],r=0;n>r;r++)if(r in t){var a=t[r];e.call(i,a,r,t)&&o.push(a)}return o}),v.filter("checkmark",function(){return function(e){return e?"‚úî":"‚úò"}}),v.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),h.factory("$domUtilityService",["$utilityService",function(e){var n={},o={},i=function(){var e=t("<div></div>");e.appendTo("body"),e.height(100).width(100).css("position","absolute").css("overflow","scroll"),e.append('<div style="height: 400px; width: 400px;"></div>'),n.ScrollH=e.height()-e[0].clientHeight,n.ScrollW=e.width()-e[0].clientWidth,e.empty(),e.attr("style",""),e.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),n.LetterW=e.children().first().width(),e.remove()};return n.eventStorage={},n.AssignGridContainers=function(e,o,i){i.$root=t(o),i.$topPanel=i.$root.find(".ngTopPanel"),i.$groupPanel=i.$root.find(".ngGroupPanel"),i.$headerContainer=i.$topPanel.find(".ngHeaderContainer"),e.$headerContainer=i.$headerContainer,i.$headerScroller=i.$topPanel.find(".ngHeaderScroller"),i.$headers=i.$headerScroller.children(),i.$viewport=i.$root.find(".ngViewport"),i.$canvas=i.$viewport.find(".ngCanvas"),i.$footerPanel=i.$root.find(".ngFooterPanel"),e.$watch(function(){return i.$viewport.scrollLeft()},function(e){return i.$headerContainer.scrollLeft(e)}),n.UpdateGridLayout(e,i)},n.getRealWidth=function(e){var n=0,o={visibility:"hidden",display:"block"},i=e.parents().andSelf().not(":visible");return t.swap(i[0],o,function(){n=e.outerWidth()}),n},n.UpdateGridLayout=function(e,t){var o=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=n.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),e.adjustScrollTop(o,!0)},n.numberOfGrids=0,n.BuildStyles=function(o,i,r){var a,s=i.config.rowHeight,l=i.$styleSheet,c=i.gridId,u=o.columns,d=0,f=0;i.config.inlineAggregate&&(f=125*i.config.groups.length),l||(l=t("#"+c),l[0]||(l=t("<style id='"+c+"' type='text/css' rel='stylesheet' />").appendTo(i.$root))),l.empty();var g=o.totalRowWidth();a="."+c+" .ngCanvas { width: "+g+"px; }"+"."+c+" .ngRow { width: "+g+"px; left: "+f+"px; }"+"."+c+" .ngCanvas { width: "+g+"px; }"+"."+c+" .ngHeaderScroller { width: "+(g+n.ScrollH)+"px; left: "+f+"px; }";for(var p=0;u.length>p;p++){var h=u[p];if(h.visible!==!1){var m=h.pinned?i.$viewport.scrollLeft()+d:d;a+="."+c+" .col"+p+" { width: "+h.width+"px; left: "+m+"px; height: "+s+"px }"+"."+c+" .colt"+p+" { width: "+h.width+"px; }",d+=h.width}}e.isIe?l[0].styleSheet.cssText=a:l[0].appendChild(document.createTextNode(a)),i.$styleSheet=l,r&&(o.adjustScrollLeft(i.$viewport.scrollLeft()),n.digest(o))},n.setColLeft=function(t,n,i){if(i.$styleSheet){var r=o[t.index];r||(r=o[t.index]=RegExp(".col"+t.index+" { width: [0-9]+px; left: [0-9]+px"));var a=i.$styleSheet.html(),s=a.replace(r,".col"+t.index+" { width: "+t.width+"px; left: "+n+"px");e.isIe?setTimeout(function(){i.$styleSheet.html(s)}):i.$styleSheet.html(s)}},n.setColLeft.immediate=1,n.RebuildGrid=function(e,t){n.UpdateGridLayout(e,t),t.config.maintainColumnRatios&&t.configureColumnWidths(),e.adjustScrollLeft(t.$viewport.scrollLeft()),n.BuildStyles(e,t,!0)},n.digest=function(e){e.$root.$$phase||e.$digest()},n.ScrollH=17,n.ScrollW=17,n.LetterW=10,i(),n}]),h.factory("$sortService",["$parse",function(e){var t={};return t.colSortFnCache={},t.guessSortFn=function(e){var n=typeof e;switch(n){case"number":return t.sortNumber;case"boolean":return t.sortBool;case"string":return e.match(/^-?[¬£$¬§]?[\d,.]+%?$/)?t.sortNumberStr:t.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?t.sortDate:t.basicSort}},t.basicSort=function(e,t){return e==t?0:t>e?-1:1},t.sortNumber=function(e,t){return e-t},t.sortNumberStr=function(e,t){var n,o,i=!1,r=!1;return n=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(n)&&(i=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(r=!0),i&&r?0:i?1:r?-1:n-o},t.sortAlpha=function(e,t){var n=e.toLowerCase(),o=t.toLowerCase();return n==o?0:o>n?-1:1},t.sortDate=function(e,t){var n=e.getTime(),o=t.getTime();return n==o?0:o>n?-1:1},t.sortBool=function(e,t){return e&&t?0:e||t?e?1:-1:0},t.sortData=function(n,o){if(o&&n){var r,a,s=n.fields.length,l=n.fields,c=o.slice(0);o.sort(function(o,u){for(var d,f=0,g=0;0==f&&s>g;){r=n.columns[g],a=n.directions[g],d=t.getSortFn(r,c);var p=e(l[g])(o),h=e(l[g])(u);!p&&0!=p||!h&&0!=h?h||p?p?h||(f=-1):f=1:f=0:f=d(p,h),g++}return a===i?f:0-f})}},t.Sort=function(e,n){t.isSorting||(t.isSorting=!0,t.sortData(e,n),t.isSorting=!1)},t.getSortFn=function(n,o){var i,r=void 0;if(t.colSortFnCache[n.field])r=t.colSortFnCache[n.field];else if(void 0!=n.sortingAlgorithm)r=n.sortingAlgorithm,t.colSortFnCache[n.field]=n.sortingAlgorithm;else{if(i=o[0],!i)return r;r=t.guessSortFn(e(n.field)(i)),r?t.colSortFnCache[n.field]=r:r=t.sortAlpha}return r},t}]),h.factory("$utilityService",["$parse",function(n){var o=/function (.{1,})\(/,i={visualLength:function(e){var n=document.getElementById("testDataLength");return n||(n=document.createElement("SPAN"),n.id="testDataLength",n.style.visibility="hidden",document.body.appendChild(n)),t(n).css("font",t(e).css("font")),n.innerHTML=t(e).text(),n.offsetWidth},forIn:function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},evalProperty:function(e,t){return n(t)(e)},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},getElementsByClassName:function(e){for(var t=[],n=RegExp("\\b"+e+"\\b"),o=document.getElementsByTagName("*"),i=0;o.length>i;i++){var r=o[i].className;n.test(r)&&t.push(o[i])}return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(t,n){var o=e.ngGrid.i18n[n];for(var i in o)t.i18n[i]=o[i]},getInstanceType:function(e){var t=o.exec(""+e.constructor);return t&&t.length>1?t[1]:""},ieVersion:function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return e>4?e:void 0}()};return t.extend(i,{isIe:function(){return void 0!==i.ieVersion}()}),i}]);var y=function(e,t,n,o){var i=this;i.rowIndex=0,i.offsetTop=i.rowIndex*n,i.entity=e,i.label=e.gLabel,i.field=e.gField,i.depth=e.gDepth,i.parent=e.parent,i.children=e.children,i.aggChildren=e.aggChildren,i.aggIndex=e.aggIndex,i.collapsed=o,i.isAggRow=!0,i.offsetLeft=25*e.gDepth,i.aggLabelFilter=e.aggLabelFilter,i.toggleExpand=function(){i.collapsed=i.collapsed?!1:!0,i.orig&&(i.orig.collapsed=i.collapsed),i.notifyChildren()},i.setExpand=function(e){i.collapsed=e,i.notifyChildren()},i.notifyChildren=function(){for(var e=Math.max(t.aggCache.length,i.children.length),n=0;e>n;n++)if(i.aggChildren[n]&&(i.aggChildren[n].entity[l]=i.collapsed,i.collapsed&&i.aggChildren[n].setExpand(i.collapsed)),i.children[n]&&(i.children[n][l]=i.collapsed),n>i.aggIndex&&t.aggCache[n]){var o=t.aggCache[n],r=30*i.children.length;o.offsetTop=i.collapsed?o.offsetTop-r:o.offsetTop+r}t.renderedChange()},i.aggClass=function(){return i.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},i.totalChildren=function(){if(i.aggChildren.length>0){var e=0,t=function(n){n.aggChildren.length>0?angular.forEach(n.aggChildren,function(e){t(e)}):e+=n.children.length};return t(i),e}return i.children.length},i.copy=function(){var e=new y(i.entity,t,n,o);return e.orig=i,e}},w=function(e,n,o,a,s,l){var c=this,d=e.colDef,f=500,g=0,h=null;c.colDef=e.colDef,c.width=d.width,c.groupIndex=0,c.isGroupedBy=!1,c.minWidth=d.minWidth?d.minWidth:50,c.maxWidth=d.maxWidth?d.maxWidth:9e3,c.enableCellEdit=e.enableCellEdit||d.enableCellEdit,c.headerRowHeight=e.headerRowHeight,c.displayName=d.displayName||d.field,c.index=e.index,c.isAggCol=e.isAggCol,c.cellClass=d.cellClass,c.sortPriority=void 0,c.cellFilter=d.cellFilter?d.cellFilter:"",c.field=d.field,c.aggLabelFilter=d.cellFilter||d.aggLabelFilter,c.visible=l.isNullOrUndefined(d.visible)||d.visible,c.sortable=!1,c.resizable=!1,c.pinnable=!1,c.pinned=e.enablePinning&&d.pinned,c.originalIndex=c.index,c.groupable=l.isNullOrUndefined(d.groupable)||d.groupable,e.enableSort&&(c.sortable=l.isNullOrUndefined(d.sortable)||d.sortable),e.enableResize&&(c.resizable=l.isNullOrUndefined(d.resizable)||d.resizable),e.enablePinning&&(c.pinnable=l.isNullOrUndefined(d.pinnable)||d.pinnable),c.sortDirection=void 0,c.sortingAlgorithm=d.sortFn,c.headerClass=d.headerClass,c.cursor=c.sortable?"pointer":"default",c.headerCellTemplate=d.headerCellTemplate||s.get("headerCellTemplate.html"),c.cellTemplate=d.cellTemplate||s.get("cellTemplate.html").replace(u,c.cellFilter?"|"+c.cellFilter:""),c.enableCellEdit&&(c.cellEditTemplate=s.get("cellEditTemplate.html"),c.editableCellTemplate=d.editableCellTemplate||s.get("editableCellTemplate.html")),d.cellTemplate&&!p.test(d.cellTemplate)&&(c.cellTemplate=t.ajax({type:"GET",url:d.cellTemplate,async:!1}).responseText),c.enableCellEdit&&d.editableCellTemplate&&!p.test(d.editableCellTemplate)&&(c.editableCellTemplate=t.ajax({type:"GET",url:d.editableCellTemplate,async:!1}).responseText),d.headerCellTemplate&&!p.test(d.headerCellTemplate)&&(c.headerCellTemplate=t.ajax({type:"GET",url:d.headerCellTemplate,async:!1}).responseText),c.colIndex=function(){var e=c.pinned?"pinned ":"";return e+="col"+c.index+" colt"+c.index,c.cellClass&&(e+=" "+c.cellClass),e},c.groupedByClass=function(){return c.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},c.toggleVisible=function(){c.visible=!c.visible},c.showSortButtonUp=function(){return c.sortable?c.sortDirection===r:c.sortable},c.showSortButtonDown=function(){return c.sortable?c.sortDirection===i:c.sortable},c.noSortVisible=function(){return!c.sortDirection},c.sort=function(t){if(!c.sortable)return!0;var n=c.sortDirection===i?r:i;return c.sortDirection=n,e.sortCallback(c,t),!1},c.gripClick=function(){g++,1===g?h=setTimeout(function(){g=0},f):(clearTimeout(h),e.resizeOnDataCallback(c),g=0)},c.gripOnMouseDown=function(e){return e.ctrlKey&&!c.pinned?(c.toggleVisible(),a.BuildStyles(n,o),!0):(e.target.parentElement.style.cursor="col-resize",c.startMousePosition=e.clientX,c.origWidth=c.width,t(document).mousemove(c.onMouseMove),t(document).mouseup(c.gripOnMouseUp),!1)},c.onMouseMove=function(e){var t=e.clientX-c.startMousePosition,i=t+c.origWidth;return c.width=c.minWidth>i?c.minWidth:i>c.maxWidth?c.maxWidth:i,a.BuildStyles(n,o),!1},c.gripOnMouseUp=function(e){return t(document).off("mousemove",c.onMouseMove),t(document).off("mouseup",c.gripOnMouseUp),e.target.parentElement.style.cursor="default",n.adjustScrollLeft(0),a.digest(n),!1},c.copy=function(){var t=new w(e,n,o,a,s);return t.isClone=!0,t.orig=c,t},c.setVars=function(e){c.orig=e,c.width=e.width,c.groupIndex=e.groupIndex,c.isGroupedBy=e.isGroupedBy,c.displayName=e.displayName,c.index=e.index,c.isAggCol=e.isAggCol,c.cellClass=e.cellClass,c.cellFilter=e.cellFilter,c.field=e.field,c.aggLabelFilter=e.aggLabelFilter,c.visible=e.visible,c.sortable=e.sortable,c.resizable=e.resizable,c.pinnable=e.pinnable,c.pinned=e.pinned,c.originalIndex=e.originalIndex,c.sortDirection=e.sortDirection,c.sortingAlgorithm=e.sortingAlgorithm,c.headerClass=e.headerClass,c.headerCellTemplate=e.headerCellTemplate,c.cellTemplate=e.cellTemplate,c.cellEditTemplate=e.cellEditTemplate}},x=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},C=function(e){var t,n=this;n.selectInputElement=function(e){var t=e.nodeName.toLowerCase();("input"==t||"textarea"==t)&&e.select()},n.focusCellElement=function(n,o){if(n.selectionProvider.lastClickedRow){var i=void 0!=o?o:t,r=n.selectionProvider.lastClickedRow.clone?n.selectionProvider.lastClickedRow.clone.elm:n.selectionProvider.lastClickedRow.elm;if(void 0!=i&&r){var a=angular.element(r[0].children).filter(function(){return 8!=this.nodeType}),s=Math.max(Math.min(n.renderedColumns.length-1,i),0);e.config.showSelectionCheckbox&&angular.element(a[s]).scope()&&0==angular.element(a[s]).scope().col.index&&(s=1),a[s]&&a[s].children[0].focus(),t=i}}};var o=function(e,t){e.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"==t?"-moz-none":t,"-ms-user-select":t,"user-select":t})};n.selectionHandlers=function(t,n){var i=!1;n.bind("keydown",function(r){if(16==r.keyCode)return o(n,"none",r),!0;if(!i){i=!0;var a=b(t,n,r,e);return i=!1,a}return!0}),n.bind("keyup",function(e){return 16==e.keyCode&&o(n,"text",e),!0})}},T=function(n,o,i,r){var a=this;a.colToMove=void 0,a.groupToMove=void 0,a.assignEvents=function(){n.config.jqueryUIDraggable&&!n.config.enablePinning?n.$groupPanel.droppable({addClasses:!1,drop:function(e){a.onGroupDrop(e)}}):(n.$groupPanel.on("mousedown",a.onGroupMouseDown).on("dragover",a.dragOver).on("drop",a.onGroupDrop),n.$headerScroller.on("mousedown",a.onHeaderMouseDown).on("dragover",a.dragOver),n.config.enableColumnReordering&&!n.config.enablePinning&&n.$headerScroller.on("drop",a.onHeaderDrop),n.config.enableRowReordering&&n.$viewport.on("mousedown",a.onRowMouseDown).on("dragover",a.dragOver).on("drop",a.onRowDrop)),o.$watch("renderedColumns",function(){r(a.setDraggables)})},a.dragStart=function(e){e.dataTransfer.setData("text","")},a.dragOver=function(e){e.preventDefault()},a.setDraggables=function(){if(n.config.jqueryUIDraggable)n.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){a.onHeaderMouseDown(e)}}).droppable({drop:function(e){a.onHeaderDrop(e)}});else{var e=n.$root.find(".ngHeaderSortColumn");angular.forEach(e,function(e){e.setAttribute("draggable","true"),e.addEventListener&&e.addEventListener("dragstart",a.dragStart)}),-1!=navigator.userAgent.indexOf("MSIE")&&n.$root.find(".ngHeaderSortColumn").bind("selectstart",function(){return this.dragDrop(),!1})}},a.onGroupMouseDown=function(e){var o=t(e.target);if("ngRemoveGroup"!=o[0].className){var i=angular.element(o).scope();i&&(n.config.jqueryUIDraggable||(o.attr("draggable","true"),this.addEventListener&&this.addEventListener("dragstart",a.dragStart),-1!=navigator.userAgent.indexOf("MSIE")&&o.bind("selectstart",function(){return this.dragDrop(),!1})),a.groupToMove={header:o,groupName:i.group,index:i.$index})}else a.groupToMove=void 0},a.onGroupDrop=function(e){e.stopPropagation();var i,r;a.groupToMove?(i=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"==i.context.className?(o.configGroups.splice(a.groupToMove.index,1),o.configGroups.push(a.groupToMove.groupName)):(r=angular.element(i).scope(),r&&a.groupToMove.index!=r.$index&&(o.configGroups.splice(a.groupToMove.index,1),o.configGroups.splice(r.$index,0,a.groupToMove.groupName))),a.groupToMove=void 0,n.fixGroupIndexes()):a.colToMove&&(-1==o.configGroups.indexOf(a.colToMove.col)&&(i=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"==i.context.className||"ngGroupPanelDescription ng-binding"==i.context.className?o.groupBy(a.colToMove.col):(r=angular.element(i).scope(),r&&o.removeGroup(r.$index))),a.colToMove=void 0),o.$$phase||o.$apply()},a.onHeaderMouseDown=function(e){var n=t(e.target).closest(".ngHeaderSortColumn"),o=angular.element(n).scope();o&&(a.colToMove={header:n,col:o.col})},a.onHeaderDrop=function(e){if(a.colToMove&&!a.colToMove.col.pinned){var r=t(e.target).closest(".ngHeaderSortColumn"),s=angular.element(r).scope();if(s){if(a.colToMove.col==s.col)return;o.columns.splice(a.colToMove.col.index,1),o.columns.splice(s.col.index,0,a.colToMove.col),n.fixColumnIndexes(),i.BuildStyles(o,n,!0),a.colToMove=void 0}}},a.onRowMouseDown=function(e){var n=t(e.target).closest(".ngRow"),o=angular.element(n).scope();o&&(n.attr("draggable","true"),i.eventStorage.rowToMove={targetRow:n,scope:o})},a.onRowDrop=function(e){var o=t(e.target).closest(".ngRow"),r=angular.element(o).scope();if(r){var a=i.eventStorage.rowToMove;if(a.scope.row==r.row)return;n.changeRowOrder(a.scope.row,r.row),n.searchProvider.evalFilter(),i.eventStorage.rowToMove=void 0,i.digest(r.$root)}},a.assignGridEventHandlers=function(){-1===n.config.tabIndex?(n.$viewport.attr("tabIndex",i.numberOfGrids),i.numberOfGrids++):n.$viewport.attr("tabIndex",n.config.tabIndex),t(e).resize(function(){i.RebuildGrid(o,n)}),t(n.$root.parent()).on("resize",function(){i.RebuildGrid(o,n)})},a.assignGridEventHandlers(),a.assignEvents()},S=function(e,t){e.maxRows=function(){var e=Math.max(t.config.totalServerItems,t.data.length);return e},e.multiSelect=t.config.enableRowSelection&&t.config.multiSelect,e.selectedItemCount=t.selectedItemCount,e.maxPages=function(){return Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var n=e.pagingOptions.currentPage;t.config.totalServerItems>0?e.pagingOptions.currentPage=Math.min(n+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var t=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(t-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var t=e.maxPages();e.pagingOptions.currentPage=t},e.cantPageForward=function(){var n=e.pagingOptions.currentPage,o=e.maxPages();return t.config.totalServerItems>0?!(o>n):1>t.data.length},e.cantPageToLast=function(){return t.config.totalServerItems>0?e.cantPageForward():!0},e.cantPageBackward=function(){var t=e.pagingOptions.currentPage;return!(t>1)}},k=function(i,r,a,s,c,u,d,f,g,h,m){var v={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowReordering:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50},b=this;
b.maxCanvasHt=0,b.config=t.extend(v,e.ngGrid.config,r),b.config.showSelectionCheckbox=b.config.showSelectionCheckbox&&b.config.enableColumnHeavyVirt===!1,b.config.enablePinning=b.config.enablePinning&&b.config.enableColumnHeavyVirt===!1,b.config.selectWithCheckboxOnly=b.config.selectWithCheckboxOnly&&b.config.showSelectionCheckbox!==!1,b.config.pinSelectionCheckbox=b.config.enablePinning,"string"==typeof r.columnDefs&&(b.config.columnDefs=i.$eval(r.columnDefs)),b.rowCache=[],b.rowMap=[],b.gridId="ng"+d.newId(),b.$root=null,b.$groupPanel=null,b.$topPanel=null,b.$headerContainer=null,b.$headerScroller=null,b.$headers=null,b.$viewport=null,b.$canvas=null,b.rootDim=b.config.gridDim,b.data=[],b.lateBindColumns=!1,b.filteredRows=[],b.initTemplates=function(){var e=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],t=[];return e.forEach(function(e){t.push(b.getTemplate(e))}),m.all(t)},b.getTemplate=function(e){var t=b.config[e],n=b.gridId+e+".html",o=m.defer();if(t&&!p.test(t))h.get(t,{cache:u}).success(function(e){u.put(n,e),o.resolve()}).error(function(){o.reject("Could not load template: "+t)});else if(t)u.put(n,t),o.resolve();else{var i=e+".html";u.put(n,u.get(i)),o.resolve()}return o.promise},"object"==typeof b.config.data&&(b.data=b.config.data),b.calcMaxCanvasHeight=function(){return b.config.groups.length>0?b.rowFactory.parsedData.filter(function(e){return b.config.inlineAggregate&&e.isAggRow&&!e.collapsed?!1:!e[l]}).length*b.config.rowHeight:b.filteredRows.length*b.config.rowHeight},b.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0},b.setRenderedRows=function(e){i.renderedRows.length=e.length;for(var t=0;e.length>t;t++)!i.renderedRows[t]||e[t].isAggRow||i.renderedRows[t].isAggRow?(i.renderedRows[t]=e[t].copy(),i.renderedRows[t].collapsed=e[t].collapsed,e[t].isAggRow||i.renderedRows[t].setVars(e[t])):i.renderedRows[t].setVars(e[t]),i.renderedRows[t].rowIndex=e[t].rowIndex,i.renderedRows[t].offsetTop=e[t].offsetTop,i.renderedRows[t].selected=e[t].selected,e[t].renderedRowIndex=t;b.refreshDomSizes(),i.$emit("ngGridEventRows",e)},b.minRowsToRender=function(){var e=i.viewportDimHeight()||1;return Math.floor(e/b.config.rowHeight)},b.refreshDomSizes=function(){var e=new x;e.outerWidth=b.elementDims.rootMaxW,e.outerHeight=b.elementDims.rootMaxH,b.rootDim=e,b.maxCanvasHt=b.calcMaxCanvasHeight()},b.buildColumnDefsFromData=function(){b.config.columnDefs=[];var e=b.data[0];return e?(d.forIn(e,function(e,t){-1==b.config.excludeProperties.indexOf(t)&&b.config.columnDefs.push({field:t})}),void 0):(b.lateBoundColumns=!0,void 0)},b.buildColumns=function(){var e=b.config.columnDefs,t=[];if(e||(b.buildColumnDefsFromData(),e=b.config.columnDefs),b.config.showSelectionCheckbox&&t.push(new w({colDef:{field:"‚úî",width:b.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:u.get(i.gridId+"checkboxHeaderTemplate.html"),cellTemplate:u.get(i.gridId+"checkboxCellTemplate.html"),pinned:b.config.pinSelectionCheckbox},index:0,headerRowHeight:b.config.headerRowHeight,sortCallback:b.sortData,resizeOnDataCallback:b.resizeOnData,enableResize:b.config.enableColumnResize,enableSort:b.config.enableSorting,enablePinning:b.config.enablePinning},i,b,s,u,d)),e.length>0){var n=b.config.showSelectionCheckbox?b.config.groups.length+1:b.config.groups.length;i.configGroups.length=0,angular.forEach(e,function(e,o){o+=n;var r=new w({colDef:e,index:o,headerRowHeight:b.config.headerRowHeight,sortCallback:b.sortData,resizeOnDataCallback:b.resizeOnData,enableResize:b.config.enableColumnResize,enableSort:b.config.enableSorting,enablePinning:b.config.enablePinning,enableCellEdit:b.config.enableCellEdit},i,b,s,u,d),a=b.config.groups.indexOf(e.field);-1!=a&&(r.isGroupedBy=!0,i.configGroups.splice(a,0,r),r.groupIndex=i.configGroups.length),t.push(r)}),i.columns=t}},b.configureColumnWidths=function(){var e=b.config.columnDefs,t=b.config.showSelectionCheckbox?i.configGroups.length+1:i.configGroups.length,n=(e.length+t,[]),o=[],r=0,a=0;if(a+=b.config.showSelectionCheckbox?25:0,angular.forEach(e,function(e,s){s+=t;var l=!1,c=void 0;if(d.isNullOrUndefined(e.width)?e.width="*":(l=isNaN(e.width)?d.endsWith(e.width,"%"):!1,c=l?e.width:parseInt(e.width,10)),isNaN(c)){if(c=e.width,"auto"==c){i.columns[s].width=e.minWidth,a+=i.columns[s].width;var u=i.columns[s];return f(function(){b.resizeOnData(u,!0)}),void 0}if(-1!=c.indexOf("*"))return e.visible!==!1&&(r+=c.length),e.index=s,n.push(e),void 0;if(l)return e.index=s,o.push(e),void 0;throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}e.visible!==!1&&(a+=i.columns[s].width=parseInt(e.width,10))}),n.length>0){b.config.maintainColumnRatios===!1?angular.noop():b.config.maintainColumnRatios=!0;var l=b.rootDim.outerWidth-a;l-=b.config.groups.length*(b.config.inlineAggregate?125:25);var c=Math.floor(l/r);angular.forEach(n,function(e){var t=e.width.length;i.columns[e.index].width=c*t;var n=1;b.maxCanvasHt>i.viewportDimHeight()&&(n+=s.ScrollW),i.columns[e.index].width-=n,e.visible!==!1&&(a+=i.columns[e.index].width)})}o.length>0&&angular.forEach(o,function(e){var t=e.width;i.columns[e.index].width=Math.floor(b.rootDim.outerWidth*(parseInt(t.slice(0,-1),10)/100))})},b.init=function(){return b.initTemplates().then(function(){i.selectionProvider=new $(b,i,g),i.domAccessProvider=new C(b),b.rowFactory=new A(b,i,s,u,d),b.searchProvider=new E(i,b,c),b.styleProvider=new I(i,b),i.$watch("configGroups",function(e){var t=[];angular.forEach(e,function(e){t.push(e.field||e)}),b.config.groups=t,b.rowFactory.filteredRowsChanged(),i.$emit("ngGridEventGroups",e)},!0),i.$watch("columns",function(e){s.BuildStyles(i,b,!0),i.$emit("ngGridEventColumns",e)},!0),i.$watch(function(){return r.i18n},function(e){d.seti18n(i,e)}),b.maxCanvasHt=b.calcMaxCanvasHeight(),b.config.sortInfo.fields&&b.config.sortInfo.fields.length>0&&(b.getColsFromFields(),b.sortActual())})},b.resizeOnData=function(e){var n=e.minWidth,o=d.getElementsByClassName("col"+e.index);angular.forEach(o,function(e,o){var i;if(0===o){var r=t(e).find(".ngHeaderText");i=d.visualLength(r)+10}else{var a=t(e).find(".ngCellText");i=d.visualLength(a)+10}i>n&&(n=i)}),e.width=e.longest=Math.min(e.maxWidth,n+7),s.BuildStyles(i,b,!0)},b.lastSortedColumns=[],b.changeRowOrder=function(e,t){var n=b.rowCache.indexOf(e),o=b.rowCache.indexOf(t);b.rowCache.splice(n,1),b.rowCache.splice(o,0,e),i.$emit("ngGridEventChangeOrder",b.rowCache)},b.sortData=function(e,n){if(n&&n.shiftKey&&b.config.sortInfo){var o=b.config.sortInfo.columns.indexOf(e);-1===o?(1==b.config.sortInfo.columns.length&&(b.config.sortInfo.columns[0].sortPriority=1),b.config.sortInfo.columns.push(e),e.sortPriority=b.config.sortInfo.columns.length,b.config.sortInfo.fields.push(e.field),b.config.sortInfo.directions.push(e.sortDirection),b.lastSortedColumns.push(e)):b.config.sortInfo.directions[o]=e.sortDirection}else{var r=t.isArray(e);b.config.sortInfo.columns.length=0,b.config.sortInfo.fields.length=0,b.config.sortInfo.directions.length=0;var a=function(e){b.config.sortInfo.columns.push(e),b.config.sortInfo.fields.push(e.field),b.config.sortInfo.directions.push(e.sortDirection),b.lastSortedColumns.push(e)};r?(b.clearSortingData(),angular.forEach(e,function(e,t){e.sortPriority=t+1,a(e)})):(b.clearSortingData(e),e.sortPriority=void 0,a(e))}b.sortActual(),b.searchProvider.evalFilter(),i.$emit("ngGridEventSorted",b.config.sortInfo)},b.getColsFromFields=function(){b.config.sortInfo.columns?b.config.sortInfo.columns.length=0:b.config.sortInfo.columns=[],angular.forEach(i.columns,function(e){var t=b.config.sortInfo.fields.indexOf(e.field);return-1!=t&&(e.sortDirection=b.config.sortInfo.directions[t]||"asc",b.config.sortInfo.columns.push(e)),!1})},b.sortActual=function(){if(!b.config.useExternalSorting){var e=b.data.slice(0);angular.forEach(e,function(e,t){var n=b.rowMap[t];if(void 0!=n){var o=b.rowCache[t];void 0!=o&&(e.preSortSelected=o.selected,e.preSortIndex=t)}}),a.Sort(b.config.sortInfo,e),angular.forEach(e,function(e,t){b.rowCache[t].entity=e,b.rowCache[t].selected=e.preSortSelected,b.rowMap[e.preSortIndex]=t,delete e.preSortSelected,delete e.preSortIndex})}},b.clearSortingData=function(e){e?(angular.forEach(b.lastSortedColumns,function(t){e.index!=t.index&&(t.sortDirection="",t.sortPriority=null)}),b.lastSortedColumns[0]=e,b.lastSortedColumns.length=1):(angular.forEach(b.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),b.lastSortedColumns=[])},b.fixColumnIndexes=function(){for(var e=0;i.columns.length>e;e++)i.columns[e].visible!==!1&&(i.columns[e].index=e)},b.fixGroupIndexes=function(){angular.forEach(i.configGroups,function(e,t){e.groupIndex=t+1})},i.elementsNeedMeasuring=!0,i.columns=[],i.renderedRows=[],i.renderedColumns=[],i.headerRow=null,i.rowHeight=b.config.rowHeight,i.jqueryUITheme=b.config.jqueryUITheme,i.showSelectionCheckbox=b.config.showSelectionCheckbox,i.enableCellSelection=b.config.enableCellSelection,i.footer=null,i.selectedItems=b.config.selectedItems,i.multiSelect=b.config.multiSelect,i.showFooter=b.config.showFooter,i.footerRowHeight=i.showFooter?b.config.footerRowHeight:0,i.showColumnMenu=b.config.showColumnMenu,i.showMenu=!1,i.configGroups=[],i.gridId=b.gridId,i.enablePaging=b.config.enablePaging,i.pagingOptions=b.config.pagingOptions,i.i18n={},d.seti18n(i,b.config.i18n),i.adjustScrollLeft=function(e){for(var t=0,n=0,o=i.columns.length,r=[],a=!b.config.enableColumnHeavyVirt,l=0,c=function(e){a?r.push(e):i.renderedColumns[l]?i.renderedColumns[l].setVars(e):i.renderedColumns[l]=e.copy(),l++},u=0;o>u;u++){var d=i.columns[u];if(d.visible!==!1){var f=d.width+t;if(d.pinned){c(d);var g=u>0?e+n:e;s.setColLeft(d,g,b),n+=d.width}else f>=e&&e+b.rootDim.outerWidth>=t&&c(d);t+=d.width}}a&&(i.renderedColumns=r)},b.prevScrollTop=0,b.prevScrollIndex=0,i.adjustScrollTop=function(e,t){if(b.prevScrollTop!==e||t){e>0&&b.$viewport[0].scrollHeight-e<=b.$viewport.outerHeight()&&i.$emit("ngGridEventScroll");var r,a=Math.floor(e/b.config.rowHeight);if(b.filteredRows.length>b.config.virtualizationThreshold){if(e>b.prevScrollTop&&b.prevScrollIndex+o>a)return;if(b.prevScrollTop>e&&a>b.prevScrollIndex-o)return;r=new P(Math.max(0,a-n),a+b.minRowsToRender()+n)}else{var s=i.configGroups.length>0?b.rowFactory.parsedData.length:b.data.length;r=new P(0,Math.max(s,b.minRowsToRender()+n))}b.prevScrollTop=e,b.rowFactory.UpdateViewableRange(r),b.prevScrollIndex=a}},i.toggleShowMenu=function(){i.showMenu=!i.showMenu},i.toggleSelectAll=function(e){i.selectionProvider.toggleSelectAll(e)},i.totalFilteredItemsLength=function(){return b.filteredRows.length},i.showGroupPanel=function(){return b.config.showGroupPanel},i.topPanelHeight=function(){return b.config.showGroupPanel===!0?b.config.headerRowHeight+32:b.config.headerRowHeight},i.viewportDimHeight=function(){return Math.max(0,b.rootDim.outerHeight-i.topPanelHeight()-i.footerRowHeight-2)},i.groupBy=function(e){if(!(1>b.data.length)&&e.groupable&&e.field){e.sortDirection||e.sort({shiftKey:i.configGroups.length>0?!0:!1});var t=i.configGroups.indexOf(e);-1==t?(e.isGroupedBy=!0,i.configGroups.push(e),e.groupIndex=i.configGroups.length):i.removeGroup(t),b.$viewport.scrollTop(0),s.digest(i)}},i.removeGroup=function(e){var t=i.columns.filter(function(t){return t.groupIndex==e+1})[0];t.isGroupedBy=!1,t.groupIndex=0,i.columns[e].isAggCol&&(i.columns.splice(e,1),i.configGroups.splice(e,1),b.fixGroupIndexes()),0===i.configGroups.length&&(b.fixColumnIndexes(),s.digest(i)),i.adjustScrollLeft(0)},i.togglePin=function(e){for(var t=e.index,n=0,o=0;i.columns.length>o&&i.columns[o].pinned;o++)n++;e.pinned&&(n=Math.max(e.originalIndex,n-1)),e.pinned=!e.pinned,i.columns.splice(t,1),i.columns.splice(n,0,e),b.fixColumnIndexes(),s.BuildStyles(i,b,!0),b.$viewport.scrollLeft(b.$viewport.scrollLeft()-e.width)},i.totalRowWidth=function(){for(var e=0,t=i.columns,n=0;t.length>n;n++)t[n].visible!==!1&&(e+=t[n].width);return e},i.headerScrollerDim=function(){var e=i.viewportDimHeight(),t=b.maxCanvasHt,n=t>e,o=new x;return o.autoFitHeight=!0,o.outerWidth=i.totalRowWidth(),n?o.outerWidth+=b.elementDims.scrollW:b.elementDims.scrollH>=t-e&&(o.outerWidth+=b.elementDims.scrollW),o}},P=function(e,t){this.topRow=e,this.bottomRow=t},D=function(e,t,n,o,i){var r=this,a=t.enableRowSelection;r.jqueryUITheme=t.jqueryUITheme,r.rowClasses=t.rowClasses,r.entity=e,r.selectionProvider=n,r.selected=n.getSelection(e),r.cursor=a?"pointer":"default",r.setSelection=function(e){r.selectionProvider.setSelection(r,e),r.selectionProvider.lastClickedRow=r},r.continueSelection=function(e){r.selectionProvider.ChangeSelection(r,e)},r.ensureEntity=function(e){r.entity!=e&&(r.entity=e,r.selected=r.selectionProvider.getSelection(r.entity))},r.toggleSelected=function(e){if(!a&&!t.enableCellSelection)return!0;var n=e.target||e;return"checkbox"==n.type&&"ngSelectionCell ng-scope"!=n.parentElement.className?!0:t.selectWithCheckboxOnly&&"checkbox"!=n.type?(r.selectionProvider.lastClickedRow=r,!0):(r.beforeSelectionChange(r,e)&&r.continueSelection(e),!1)},r.rowIndex=o,r.offsetTop=r.rowIndex*t.rowHeight,r.rowDisplayIndex=0,r.alternatingRowClass=function(){var e=0===r.rowIndex%2,t={ngRow:!0,selected:r.selected,even:e,odd:!e,"ui-state-default":r.jqueryUITheme&&e,"ui-state-active":r.jqueryUITheme&&!e};return t},r.beforeSelectionChange=t.beforeSelectionChangeCallback,r.afterSelectionChange=t.afterSelectionChangeCallback,r.getProperty=function(e){return i.evalProperty(r.entity,e)},r.copy=function(){return r.clone=new D(e,t,n,o,i),r.clone.isClone=!0,r.clone.elm=r.elm,r.clone.orig=r,r.clone},r.setVars=function(e){e.clone=r,r.entity=e.entity,r.selected=e.selected}},A=function(e,t,o,i,r){var u=this;u.aggCache={},u.parentCache=[],u.dataChanged=!0,u.parsedData=[],u.rowConfig={},u.selectionProvider=t.selectionProvider,u.rowHeight=30,u.numberOfAggregates=0,u.groupedData=void 0,u.rowHeight=e.config.rowHeight,u.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},u.renderedRange=new P(0,e.minRowsToRender()+n),u.buildEntityRow=function(e,t){return new D(e,u.rowConfig,u.selectionProvider,t,r)},u.buildAggregateRow=function(t,n){var o=u.aggCache[t.aggIndex];return o||(o=new y(t,u,u.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),u.aggCache[t.aggIndex]=o),o.rowIndex=n,o.offsetTop=n*u.rowConfig.rowHeight,o},u.UpdateViewableRange=function(e){u.renderedRange=e,u.renderedChange()},u.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)})),u.dataChanged=!0,e.config.groups.length>0&&u.getGrouping(e.config.groups),u.UpdateViewableRange(u.renderedRange)},u.renderedChange=function(){if(!u.groupedData||1>e.config.groups.length)return u.renderedChangeNoGroups(),e.refreshDomSizes(),void 0;u.wasGrouped=!0,u.parentCache=[];var t=0,n=0,o=u.parsedData.filter(function(e){return e.isAggRow?e.parent&&e.parent.collapsed?!1:(++n,!0):(e[l]||(e.rowIndex=t++),!e[l])});u.totalRows=o.length;for(var i=[],r=e.config.inlineAggregate,a=0,s=u.renderedRange.topRow;u.renderedRange.bottomRow>s;s++)o[s]&&(o[s].offsetTop=(s-a)*e.config.rowHeight,r&&o[s].isAggRow&&!o[s].collapsed&&++a,i.push(o[s]));e.setRenderedRows(i)},u.renderedChangeNoGroups=function(){for(var t=[],n=u.renderedRange.topRow;u.renderedRange.bottomRow>n;n++)e.filteredRows[n]&&(e.filteredRows[n].rowIndex=n,e.filteredRows[n].offsetTop=n*e.config.rowHeight,t.push(e.filteredRows[n]));e.setRenderedRows(t)},u.fixRowCache=function(){var t=e.data.length,n=t-e.rowCache.length;if(0>n)e.rowCache.length=e.rowMap.length=t;else for(var o=e.rowCache.length;t>o;o++)e.rowCache[o]=e.rowFactory.buildEntityRow(e.data[o],o)},u.parseGroupData=function(e){if(e.values)for(var t=0;e.values.length>t;t++)u.parentCache[u.parentCache.length-1].children.push(e.values[t]),u.parsedData.push(e.values[t]);else for(var n in e)if(n!=a&&n!=s&&n!=c&&e.hasOwnProperty(n)){var o=u.buildAggregateRow({gField:e[a],gLabel:n,gDepth:e[s],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:u.numberOfAggregates,aggLabelFilter:e[c].aggLabelFilter},0);u.numberOfAggregates++,o.parent=u.parentCache[o.depth-1],o.parent&&(o.parent.collapsed=!1,o.parent.aggChildren.push(o)),u.parsedData.push(o),u.parentCache[o.depth]=o,u.parseGroupData(e[n])}},u.getGrouping=function(n){u.aggCache=[],u.numberOfAggregates=0,u.groupedData={};for(var d=e.filteredRows,f=n.length,g=t.columns,p=0;d.length>p;p++){var h=d[p].entity;if(!h)return;d[p][l]=e.config.groupsCollapsedByDefault;for(var m=u.groupedData,v=0;n.length>v;v++){var b=n[v],y=g.filter(function(e){return e.field==b})[0],x=r.evalProperty(h,b);x=x?""+x:"null",m[x]||(m[x]={}),m[a]||(m[a]=b),m[s]||(m[s]=v),m[c]||(m[c]=y),m=m[x]}m.values||(m.values=[]),m.values.push(d[p])}for(var C=0;n.length>C;C++)!g[C].isAggCol&&f>=C&&g.splice(0,0,new w({colDef:{field:"",width:e.config.inlineAggregate?0:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},t,e,o,i,r));o.BuildStyles(t,e,!0),e.fixColumnIndexes(),t.adjustScrollLeft(0),u.parsedData.length=0,u.parseGroupData(u.groupedData),u.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&u.getGrouping(e.config.groups)},E=function(e,n,o){var i=this,r=[];i.extFilter=n.config.filterOptions.useExternalFilter,e.showFilter=n.config.showFilter,e.filterText="",i.fieldMap={},i.evalFilter=function(){var e=function(e){for(var t=0,n=r.length;n>t;t++){var s,l=r[t];if(!l.column){for(var c in e)if(e.hasOwnProperty(c)){var u=i.fieldMap[c];if(!u)continue;var d=null,f=null;u&&u.cellFilter&&(f=u.cellFilter.split(":"),d=o(f[0]));var g=e[c];if(null!=g){if("function"==typeof d){var p=""+d("object"==typeof g?a(g,u.field):g,f[1]);s=l.regex.test(p)}else s=l.regex.test("object"==typeof g?""+a(g,u.field):""+g);if(g&&s)return!0}}return!1}var h=i.fieldMap[l.columnDisplay];if(!h)return!1;var m=h.cellFilter.split(":"),v=h.cellFilter?o(m[0]):null,b=e[l.column]||e[h.field.split(".")[0]];if(null==b)return!1;if("function"==typeof v){var y=""+v("object"==typeof b?a(b,h.field):b,m[1]);s=l.regex.test(y)}else s=l.regex.test("object"==typeof b?""+a(b,h.field):""+b);if(!b||!s)return!1}return!0};n.filteredRows=0===r.length?n.rowCache:n.rowCache.filter(function(t){return e(t.entity)});for(var t=0;n.filteredRows.length>t;t++)n.filteredRows[t].rowIndex=t;n.rowFactory.filteredRowsChanged()};var a=function(e,t){if("object"!=typeof e||"string"!=typeof t)return e;var n=t.split("."),o=e;if(n.length>1){for(var i=1,r=n.length;r>i;i++)if(o=o[n[i]],!o)return e;return o}return e},s=function(e,t){try{return RegExp(e,t)}catch(n){return RegExp(e.replace(/(\^|\$|\(|\)|\<|\>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},l=function(e){r=[];var n;if(n=t.trim(e))for(var o=n.split(";"),i=0;o.length>i;i++){var a=o[i].split(":");if(a.length>1){var l=t.trim(a[0]),c=t.trim(a[1]);l&&c&&r.push({column:l,columnDisplay:l.replace(/\s+/g,"").toLowerCase(),regex:s(c,"i")})}else{var u=t.trim(a[0]);u&&r.push({column:"",regex:s(u,"i")})}}};e.$watch(function(){return n.config.filterOptions.filterText},function(t){e.filterText=t}),e.$watch("filterText",function(t){i.extFilter||(e.$emit("ngGridEventFilter",t),l(t),i.evalFilter())}),i.extFilter||e.$watch("columns",function(e){for(var t=0;e.length>t;t++){var n=e[t];n.field&&(i.fieldMap[n.field.split(".")[0]]=n),n.displayName&&(i.fieldMap[n.displayName.toLowerCase().replace(/\s+/g,"")]=n)}})},$=function(e,t,n){var o=this;o.multi=e.config.multiSelect,o.selectedItems=e.config.selectedItems,o.selectedIndex=e.config.selectedIndex,o.lastClickedRow=void 0,o.ignoreSelectedItemChanges=!1,o.pKeyParser=n(e.config.primaryKey),o.ChangeSelection=function(n,i){var r=i.which||i.keyCode,a=40===r||38===r;if(!i||i.keyCode&&!a||i.ctrlKey||i.shiftKey||o.toggleSelectAll(!1,!0),i&&i.shiftKey&&!i.keyCode&&o.multi&&e.config.enableRowSelection){if(o.lastClickedRow){var s;s=t.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var l=n.rowIndex,c=o.lastClickedRow.rowIndex;if(o.lastClickedRow=n,l==c)return!1;c>l?(l^=c,c=l^c,l^=c,l--):c++;for(var u=[];l>=c;c++)u.push(s[c]);if(u[u.length-1].beforeSelectionChange(u,i)){for(var d=0;u.length>d;d++){var f=u[d],g=f.selected;f.selected=!g,f.clone&&(f.clone.selected=f.selected);var p=o.selectedItems.indexOf(f.entity);-1===p?o.selectedItems.push(f.entity):o.selectedItems.splice(p,1)}u[u.length-1].afterSelectionChange(u,i)}return!0}}else o.multi?(!i.keyCode||a)&&o.setSelection(n,!n.selected):o.lastClickedRow==n?o.setSelection(o.lastClickedRow,e.config.keepLastSelected?!0:!n.selected):(o.lastClickedRow&&o.setSelection(o.lastClickedRow,!1),o.setSelection(n,!n.selected));return o.lastClickedRow=n,!0},o.getSelection=function(t){var n=!1;if(e.config.primaryKey){var i=o.pKeyParser(t);angular.forEach(o.selectedItems,function(e){i==o.pKeyParser(e)&&(n=!0)})}else n=-1!==o.selectedItems.indexOf(t);return n},o.setSelection=function(t,n){if(e.config.enableRowSelection){if(n)-1===o.selectedItems.indexOf(t.entity)&&(!o.multi&&o.selectedItems.length>0&&o.toggleSelectAll(!1,!0),o.selectedItems.push(t.entity));else{var i=o.selectedItems.indexOf(t.entity);-1!=i&&o.selectedItems.splice(i,1)}t.selected=n,t.orig&&(t.orig.selected=n),t.clone&&(t.clone.selected=n),t.afterSelectionChange(t)}},o.toggleSelectAll=function(t,n){if(n||e.config.beforeSelectionChange(e.filteredRows,t)){var i=o.selectedItems.length;i>0&&(o.selectedItems.length=0);for(var r=0;e.filteredRows.length>r;r++)e.filteredRows[r].selected=t,e.filteredRows[r].clone&&(e.filteredRows[r].clone.selected=t),t&&o.selectedItems.push(e.filteredRows[r].entity);n||e.config.afterSelectionChange(e.filteredRows,t)}}},I=function(e,t){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(t){var n={top:t.offsetTop+"px",height:e.rowHeight+"px"};return t.isAggRow&&(n.left=t.offsetLeft),n},e.canvasStyle=function(){return{height:""+t.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}},e.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};m.directive("ngCellHasFocus",["$domUtilityService",function(e){var t=function(t,n){t.isFocused=!0,e.digest(t);var o=angular.element(n[0].children).filter(function(){return 8!=this.nodeType}),i=angular.element(o[0].children[0]);i.length>0&&(angular.element(i).focus(),t.domAccessProvider.selectInputElement(i[0]),angular.element(i).bind("blur",function(){return t.isFocused=!1,e.digest(t),!0}))};return function(e,n){var o=!1;e.editCell=function(){setTimeout(function(){t(e,n)},0)},n.bind("mousedown",function(){return n.focus(),!0}),n.bind("focus",function(){return o=!0,!0}),n.bind("blur",function(){return o=!1,!0}),n.bind("keydown",function(i){return o&&37!=i.keyCode&&38!=i.keyCode&&39!=i.keyCode&&40!=i.keyCode&&9!=i.keyCode&&!i.shiftKey&&13!=i.keyCode&&t(e,n),27==i.keyCode&&n.focus(),!0})}}]),m.directive("ngCellText",function(){return function(e,t){t.bind("mouseover",function(e){e.preventDefault(),t.css({cursor:"text"})}),t.bind("mouseleave",function(e){e.preventDefault(),t.css({cursor:"default"})})}}),m.directive("ngCell",["$compile","$domUtilityService",function(e,t){var n={scope:!1,compile:function(){return{pre:function(t,n){var o,i=t.col.cellTemplate.replace(d,"$eval('row.entity.' + col.field)");t.col.enableCellEdit?(o=t.col.cellEditTemplate,o=o.replace(f,i),o=o.replace(g,t.col.editableCellTemplate.replace(d,"$eval('row.entity.' + col.field)"))):o=i;var r=e(o)(t);t.enableCellSelection&&-1==r[0].className.indexOf("ngSelectionCell")&&(r[0].setAttribute("tabindex",0),r.addClass("ngCellElement")),n.append(r)},post:function(e,n){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,n),e.$on("ngGridEventDigestCell",function(){t.digest(e)})}}}};return n}]),m.directive("ngGridFooter",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,o){0===o.children().length&&o.append(e(t.get(n.gridId+"footerTemplate.html"))(n))}}}};return n}]),m.directive("ngGridMenu",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,o){0===o.children().length&&o.append(e(t.get(n.gridId+"menuTemplate.html"))(n))}}}};return n}]),m.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(e,n,o,i,r,a,s,l,c,u){var d={scope:!0,compile:function(){return{pre:function(d,f,g){var p=t(f),h=d.$eval(g.ngGrid);h.gridDim=new x({outerHeight:t(p).height(),outerWidth:t(p).width()});var m=new k(d,h,i,r,n,o,a,s,l,c,u);return m.init().then(function(){if("string"==typeof h.columnDefs?d.$parent.$watch(h.columnDefs,function(e){return e?(m.lateBoundColumns=!1,d.columns=[],m.config.columnDefs=e,m.buildColumns(),m.configureColumnWidths(),m.eventProvider.assignEvents(),r.RebuildGrid(d,m),void 0):(m.refreshDomSizes(),m.buildColumns(),void 0)},!0):m.buildColumns(),"string"==typeof h.data){var n=function(e){m.data=t.extend([],e),m.rowFactory.fixRowCache(),angular.forEach(m.data,function(e,t){var n=m.rowMap[t]||t;m.rowCache[n]&&m.rowCache[n].ensureEntity(e),m.rowMap[n]=t}),m.searchProvider.evalFilter(),m.configureColumnWidths(),m.refreshDomSizes(),m.config.sortInfo.fields.length>0&&(m.getColsFromFields(),m.sortActual(),m.searchProvider.evalFilter(),d.$emit("ngGridEventSorted",m.config.sortInfo)),d.$emit("ngGridEventData",m.gridId)};d.$parent.$watch(h.data,n),d.$parent.$watch(h.data+".length",function(){n(d.$eval(h.data))})}return m.footerController=new S(d,m),f.addClass("ngGrid").addClass(""+m.gridId),h.enableHighlighting||f.addClass("unselectable"),h.jqueryUITheme&&f.addClass("ui-widget"),f.append(e(o.get("gridTemplate.html"))(d)),r.AssignGridContainers(d,f,m),m.eventProvider=new T(m,d,r,s),h.selectRow=function(e,t){m.rowCache[e]&&(m.rowCache[e].clone&&m.rowCache[e].clone.setSelection(t?!0:!1),m.rowCache[e].setSelection(t?!0:!1))},h.selectItem=function(e,t){h.selectRow(m.rowMap[e],t)},h.selectAll=function(e){d.toggleSelectAll(e)},h.groupBy=function(e){if(e)d.groupBy(d.columns.filter(function(t){return t.field==e})[0]);else{var n=t.extend(!0,[],d.configGroups);angular.forEach(n,d.groupBy)}},h.sortBy=function(e){var t=d.columns.filter(function(t){return t.field==e})[0];t&&t.sort()},h.gridId=m.gridId,h.ngGrid=m,h.$gridScope=d,h.$gridServices={SortService:i,DomUtilityService:r},d.$on("ngGridEventDigestGrid",function(){r.digest(d.$parent)}),d.$on("ngGridEventDigestGridParent",function(){r.digest(d.$parent)}),d.$evalAsync(function(){d.adjustScrollLeft(0)}),angular.forEach(h.plugins,function(e){"function"==typeof e&&(e=e.call(this)),e.init(d.$new(),m,h.$gridServices),h.plugins[a.getInstanceType(e)]=e}),"function"==h.init&&h.init(m,d),null})}}}};return d}]),m.directive("ngHeaderCell",["$compile",function(e){var t={scope:!1,compile:function(){return{pre:function(t,n){n.append(e(t.col.headerCellTemplate)(t))}}}};return t}]),m.directive("ngIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,o){var i,r;e.$watch(o.ngIf,function(o){i&&(i.remove(),i=void 0),r&&(r.$destroy(),r=void 0),o&&(r=e.$new(),n(r,function(e){i=e,t.after(e)}))})}}}}]),m.directive("ngInput",["$parse",function(e){return function(t,n,o){var i=e(t.$eval(o.ngInput)),r=i.assign,a=i(t.row.entity);n.val(a),n.bind("keyup",function(){var e=n.val();t.$root.$$phase||t.$apply(function(){r(t.row.entity,e)})}),n.bind("keydown",function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:e.stopPropagation();break;case 27:t.$root.$$phase||t.$apply(function(){r(t.row.entity,a),n.val(a),n.blur()});default:}return!0})}}]),m.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,t,n){var o={scope:!1,compile:function(){return{pre:function(o,i){if(o.row.elm=i,o.row.clone&&(o.row.clone.elm=i),o.row.isAggRow){var r=n.get(o.gridId+"aggregateTemplate.html");r=o.row.aggLabelFilter?r.replace(u,"| "+o.row.aggLabelFilter):r.replace(u,""),i.append(e(r)(o))}else i.append(e(n.get(o.gridId+"rowTemplate.html"))(o));o.$on("ngGridEventDigestRow",function(){t.digest(o)})}}}};return o}]),m.directive("ngViewport",[function(){return function(e,t){var n,o,i=0;t.bind("scroll",function(t){var r=t.target.scrollLeft,a=t.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(r),e.adjustScrollLeft(r),e.adjustScrollTop(a),e.$root.$$phase||e.$digest(),o=r,i=i,n=!1,!0}),t.bind("mousewheel DOMMouseScroll",function(){return n=!0,t.focus(),!0}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,t)}}]),e.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},e.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-t√™te de colonne ici et d√©posez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"√âl√©ments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Premi√®re page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page pr√©c√©dente",ngPagerLastTitle:"Derni√®re page"},e.ngGrid.i18n.ge={ngAggregateLabel:"artikel",ngGroupPanelDescription:"Ziehen Sie eine Spalten√ºberschrift hier und legen Sie es der Gruppe nach dieser Spalte.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten ausw√§hlen:",ngShowingItemsLabel:"Zeige Artikel:",ngTotalItemsLabel:"Meiste Artikel:",ngSelectedItemsLabel:"Ausgew√§hlte Artikel:",ngPageSizeLabel:"Gr√∂√üe Seite:",ngPagerFirstTitle:"Erste Page",ngPagerNextTitle:"N√§chste Page",ngPagerPrevTitle:"Vorherige Page",ngPagerLastTitle:"Letzte Page"},e.ngGrid.i18n.sp={ngAggregateLabel:"Art√≠culos",ngGroupPanelDescription:"Arrastre un encabezado de columna aqu√≠ y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Art√≠culos Mostrando:",ngTotalItemsLabel:"Art√≠culos Totales:",ngSelectedItemsLabel:"Art√≠culos Seleccionados:",ngPageSizeLabel:"Tama√±o de P√°gina:",ngPagerFirstTitle:"Primera P√°gina",ngPagerNextTitle:"P√°gina Siguiente",ngPagerPrevTitle:"P√°gina Anterior",ngPagerLastTitle:"√öltima P√°gina"},e.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"Êù°ÁõÆ",ngGroupPanelDescription:"ÊãñÊõ≥Ë°®Â§¥Âà∞Ê≠§Â§Ñ‰ª•ËøõË°åÂàÜÁªÑ",ngSearchPlaceHolder:"ÊêúÁ¥¢...",ngMenuText:"Êï∞ÊçÆÂàÜÁªÑ‰∏éÈÄâÊã©ÂàóÔºö",ngShowingItemsLabel:"ÂΩìÂâçÊòæÁ§∫Êù°ÁõÆÔºö",ngTotalItemsLabel:"Êù°ÁõÆÊÄªÊï∞Ôºö",ngSelectedItemsLabel:"ÈÄâ‰∏≠Êù°ÁõÆÔºö",ngPageSizeLabel:"ÊØèÈ°µÊòæÁ§∫Êï∞Ôºö",ngPagerFirstTitle:"ÂõûÂà∞È¶ñÈ°µ",ngPagerNextTitle:"‰∏ã‰∏ÄÈ°µ",ngPagerPrevTitle:"‰∏ä‰∏ÄÈ°µ",ngPagerLastTitle:"ÂâçÂæÄÂ∞æÈ°µ"},e.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"Á≠Ü",ngGroupPanelDescription:"ÊãñÊãâË°®È†≠Âà∞Ê≠§Ëôï‰ª•ÈÄ≤Ë°åÂàÜÁµÑ",ngSearchPlaceHolder:"ÊêúÂ∞ã...",ngMenuText:"ÈÅ∏ÊìáÊ¨Ñ‰ΩçÔºö",ngShowingItemsLabel:"ÁõÆÂâçÈ°ØÁ§∫Á≠ÜÊï∏Ôºö",ngTotalItemsLabel:"Á∏ΩÁ≠ÜÊï∏Ôºö",ngSelectedItemsLabel:"ÈÅ∏ÂèñÁ≠ÜÊï∏Ôºö",ngPageSizeLabel:"ÊØèÈ†ÅÈ°ØÁ§∫Ôºö",ngPagerFirstTitle:"Á¨¨‰∏ÄÈ†Å",ngPagerNextTitle:"‰∏ã‰∏ÄÈ†Å",ngPagerPrevTitle:"‰∏ä‰∏ÄÈ†Å",ngPagerLastTitle:"ÊúÄÂæåÈ†Å"},angular.module("ngGrid").run(["$templateCache",function(e){e.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>    <div class="{{row.aggClass()}}"></div></div>'),e.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="editCell()">	<div ng-if="!isFocused">	DISPLAY_CELL_TEMPLATE	</div>	<div ng-if="isFocused">	EDITABLE_CELL_TEMPLATE	</div></div>'),e.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),e.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),e.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected)"/>'),e.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" />'),e.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">    <div class="ngTotalSelectContainer" >        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>        </div>        <div class="ngFooterSelectedItems" ng-show="multiSelect">            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>        </div>    </div>    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>            </select>        </div>        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">            <button class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>            <button class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>            <input class="ngPagerCurrent" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>            <button class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>            <button class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>        </div>    </div></div>'),e.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>        <ul ng-show="configGroups.length > 0" class="ngGroupList">            <li class="ngGroupItem" ng-repeat="group in configGroups">                <span class="ngGroupElement">                    <span class="ngGroupName">{{group.displayName}}                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>                    </span>                    <span ng-hide="$last" class="ngGroupArrow"></span>                </span>            </li>        </ul>    </div>    <div class="ngHeaderContainer" ng-style="headerStyle()">        <div class="ngHeaderScroller" ng-style="headerScrollerStyle()" ng-include="gridId + \'headerRowTemplate.html\'"></div>    </div>    <div ng-grid-menu></div></div><div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">    <div class="ngCanvas" ng-style="canvasStyle()">        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>    </div></div><div ng-grid-footer></div>'),e.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }">    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>    <div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div>    <div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div>    <div class="ngSortPriority">{{col.sortPriority}}</div>    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div></div><div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>'),e.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell" ng-header-cell></div>'),e.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">    <div class="ngHeaderButtonArrow"></div></div><div ng-show="showMenu" class="ngColMenu">    <div ng-show="showFilter">        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>    </div>    <div ng-show="showColumnMenu">        <span class="ngMenuText">{{i18n.ngMenuText}}</span>        <ul class="ngColList">            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>				<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>				<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>                      </li>        </ul>    </div></div>'),e.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}" ng-cell></div>')
}])}(window,jQuery);var qrcode=function(){function e(t,n){if(t.length===void 0)throw Error(t.length+"/"+n);var o=function(){for(var e=0;t.length>e&&0==t[e];)e+=1;for(var o=Array(t.length-e+n),i=0;t.length-e>i;i+=1)o[i]=t[i+e];return o}(),i={};return i.getAt=function(e){return o[e]},i.getLength=function(){return o.length},i.multiply=function(t){for(var n=Array(i.getLength()+t.getLength()-1),o=0;i.getLength()>o;o+=1)for(var r=0;t.getLength()>r;r+=1)n[o+r]^=a.gexp(a.glog(i.getAt(o))+a.glog(t.getAt(r)));return e(n,0)},i.mod=function(t){if(0>i.getLength()-t.getLength())return i;for(var n=a.glog(i.getAt(0))-a.glog(t.getAt(0)),o=Array(i.getLength()),r=0;i.getLength()>r;r+=1)o[r]=i.getAt(r);for(var r=0;t.getLength()>r;r+=1)o[r]^=a.gexp(a.glog(t.getAt(r))+n);return e(o,0).mod(t)},i}var t=function(t,n){var i=236,a=17,u=t,d=o[n],f=null,g=0,h=null,m=[],v={},b=function(e,t){g=4*u+17,f=function(e){for(var t=Array(e),n=0;e>n;n+=1){t[n]=Array(e);for(var o=0;e>o;o+=1)t[n][o]=null}return t}(g),y(0,0),y(g-7,0),y(0,g-7),C(),x(),S(e,t),u>=7&&T(e),null==h&&(h=D(u,d,m)),k(h,t)},y=function(e,t){for(var n=-1;7>=n;n+=1)if(!(-1>=e+n||e+n>=g))for(var o=-1;7>=o;o+=1)-1>=t+o||t+o>=g||(f[e+n][t+o]=n>=0&&6>=n&&(0==o||6==o)||o>=0&&6>=o&&(0==n||6==n)||n>=2&&4>=n&&o>=2&&4>=o?!0:!1)},w=function(){for(var e=0,t=0,n=0;8>n;n+=1){b(!0,n);var o=r.getLostPoint(v);(0==n||e>o)&&(e=o,t=n)}return t},x=function(){for(var e=8;g-8>e;e+=1)null==f[e][6]&&(f[e][6]=0==e%2);for(var t=8;g-8>t;t+=1)null==f[6][t]&&(f[6][t]=0==t%2)},C=function(){for(var e=r.getPatternPosition(u),t=0;e.length>t;t+=1)for(var n=0;e.length>n;n+=1){var o=e[t],i=e[n];if(null==f[o][i])for(var a=-2;2>=a;a+=1)for(var s=-2;2>=s;s+=1)f[o+a][i+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s?!0:!1}},T=function(e){for(var t=r.getBCHTypeNumber(u),n=0;18>n;n+=1){var o=!e&&1==(1&t>>n);f[Math.floor(n/3)][n%3+g-8-3]=o}for(var n=0;18>n;n+=1){var o=!e&&1==(1&t>>n);f[n%3+g-8-3][Math.floor(n/3)]=o}},S=function(e,t){for(var n=d<<3|t,o=r.getBCHTypeInfo(n),i=0;15>i;i+=1){var a=!e&&1==(1&o>>i);6>i?f[i][8]=a:8>i?f[i+1][8]=a:f[g-15+i][8]=a}for(var i=0;15>i;i+=1){var a=!e&&1==(1&o>>i);8>i?f[8][g-i-1]=a:9>i?f[8][15-i-1+1]=a:f[8][15-i-1]=a}f[g-8][8]=!e},k=function(e,t){for(var n=-1,o=g-1,i=7,a=0,s=r.getMaskFunction(t),l=g-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;2>c;c+=1)if(null==f[o][l-c]){var u=!1;e.length>a&&(u=1==(1&e[a]>>>i));var d=s(o,l-c);d&&(u=!u),f[o][l-c]=u,i-=1,-1==i&&(a+=1,i=7)}if(o+=n,0>o||o>=g){o-=n,n=-n;break}}},P=function(t,n){for(var o=0,i=0,a=0,s=Array(n.length),l=Array(n.length),c=0;n.length>c;c+=1){var u=n[c].dataCount,d=n[c].totalCount-u;i=Math.max(i,u),a=Math.max(a,d),s[c]=Array(u);for(var f=0;s[c].length>f;f+=1)s[c][f]=255&t.getBuffer()[f+o];o+=u;var g=r.getErrorCorrectPolynomial(d),p=e(s[c],g.getLength()-1),h=p.mod(g);l[c]=Array(g.getLength()-1);for(var f=0;l[c].length>f;f+=1){var m=f+h.getLength()-l[c].length;l[c][f]=m>=0?h.getAt(m):0}}for(var v=0,f=0;n.length>f;f+=1)v+=n[f].totalCount;for(var b=Array(v),y=0,f=0;i>f;f+=1)for(var c=0;n.length>c;c+=1)s[c].length>f&&(b[y]=s[c][f],y+=1);for(var f=0;a>f;f+=1)for(var c=0;n.length>c;c+=1)l[c].length>f&&(b[y]=l[c][f],y+=1);return b},D=function(e,t,n){for(var o=s.getRSBlocks(e,t),c=l(),u=0;n.length>u;u+=1){var d=n[u];c.put(d.getMode(),4),c.put(d.getLength(),r.getLengthInBits(d.getMode(),e)),d.write(c)}for(var f=0,u=0;o.length>u;u+=1)f+=o[u].dataCount;if(c.getLengthInBits()>8*f)throw Error("code length overflow. ("+c.getLengthInBits()+">"+8*f+")");for(8*f>=c.getLengthInBits()+4&&c.put(0,4);0!=c.getLengthInBits()%8;)c.putBit(!1);for(;;){if(c.getLengthInBits()>=8*f)break;if(c.put(i,8),c.getLengthInBits()>=8*f)break;c.put(a,8)}return P(c,o)};return v.addData=function(e){var t=c(e);m.push(t),h=null},v.isDark=function(e,t){if(0>e||e>=g||0>t||t>=g)throw Error(e+","+t);return f[e][t]},v.getModuleCount=function(){return g},v.make=function(){b(!1,w())},v.createTableTag=function(e,t){e=e||2,t=t===void 0?4*e:t;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+t+"px;",n+='">',n+="<tbody>";for(var o=0;v.getModuleCount()>o;o+=1){n+="<tr>";for(var i=0;v.getModuleCount()>i;i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=v.isDark(o,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},v.createImgTag=function(e,t){e=e||2,t=t===void 0?4*e:t;var n=v.getModuleCount()*e+2*t,o=t,i=n-t;return p(n,n,function(t,n){if(t>=o&&i>t&&n>=o&&i>n){var r=Math.floor((t-o)/e),a=Math.floor((n-o)/e);return v.isDark(a,r)?0:1}return 1})},v};t.stringToBytes=function(e){for(var t=[],n=0;e.length>n;n+=1){var o=e.charCodeAt(n);t.push(255&o)}return t},t.createStringToBytes=function(e,t){var n=function(){for(var n=f(e),o=function(){var e=n.read();if(-1==e)throw Error();return e},i=0,r={};;){var a=n.read();if(-1==a)break;var s=o(),l=o(),c=o(),u=String.fromCharCode(a<<8|s),d=l<<8|c;r[u]=d,i+=1}if(i!=t)throw Error(i+" != "+t);return r}(),o="?".charCodeAt(0);return function(e){for(var t=[],i=0;e.length>i;i+=1){var r=e.charCodeAt(i);if(128>r)t.push(r);else{var a=n[e.charAt(i)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(o)}}return t}};var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],o=1335,r=7973,s=21522,l={},c=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t};return l.getBCHTypeInfo=function(e){for(var t=e<<10;c(t)-c(o)>=0;)t^=o<<c(t)-c(o);return(e<<10|t)^s},l.getBCHTypeNumber=function(e){for(var t=e<<12;c(t)-c(r)>=0;)t^=r<<c(t)-c(r);return e<<12|t},l.getPatternPosition=function(e){return t[e-1]},l.getMaskFunction=function(e){switch(e){case i.PATTERN000:return function(e,t){return 0==(e+t)%2};case i.PATTERN001:return function(e){return 0==e%2};case i.PATTERN010:return function(e,t){return 0==t%3};case i.PATTERN011:return function(e,t){return 0==(e+t)%3};case i.PATTERN100:return function(e,t){return 0==(Math.floor(e/2)+Math.floor(t/3))%2};case i.PATTERN101:return function(e,t){return 0==e*t%2+e*t%3};case i.PATTERN110:return function(e,t){return 0==(e*t%2+e*t%3)%2};case i.PATTERN111:return function(e,t){return 0==(e*t%3+(e+t)%2)%2};default:throw Error("bad maskPattern:"+e)}},l.getErrorCorrectPolynomial=function(t){for(var n=e([1],0),o=0;t>o;o+=1)n=n.multiply(e([1,a.gexp(o)],0));return n},l.getLengthInBits=function(e,t){if(t>=1&&10>t)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw Error("mode:"+e)}else if(27>t)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw Error("mode:"+e)}else{if(!(41>t))throw Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw Error("mode:"+e)}}},l.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,o=0;t>o;o+=1)for(var i=0;t>i;i+=1){for(var r=0,a=e.isDark(o,i),s=-1;1>=s;s+=1)if(!(0>o+s||o+s>=t))for(var l=-1;1>=l;l+=1)0>i+l||i+l>=t||(0!=s||0!=l)&&a==e.isDark(o+s,i+l)&&(r+=1);r>5&&(n+=3+r-5)}for(var o=0;t-1>o;o+=1)for(var i=0;t-1>i;i+=1){var c=0;e.isDark(o,i)&&(c+=1),e.isDark(o+1,i)&&(c+=1),e.isDark(o,i+1)&&(c+=1),e.isDark(o+1,i+1)&&(c+=1),(0==c||4==c)&&(n+=3)}for(var o=0;t>o;o+=1)for(var i=0;t-6>i;i+=1)e.isDark(o,i)&&!e.isDark(o,i+1)&&e.isDark(o,i+2)&&e.isDark(o,i+3)&&e.isDark(o,i+4)&&!e.isDark(o,i+5)&&e.isDark(o,i+6)&&(n+=40);for(var i=0;t>i;i+=1)for(var o=0;t-6>o;o+=1)e.isDark(o,i)&&!e.isDark(o+1,i)&&e.isDark(o+2,i)&&e.isDark(o+3,i)&&e.isDark(o+4,i)&&!e.isDark(o+5,i)&&e.isDark(o+6,i)&&(n+=40);for(var u=0,i=0;t>i;i+=1)for(var o=0;t>o;o+=1)e.isDark(o,i)&&(u+=1);var d=Math.abs(100*u/t/t-50)/5;return n+=10*d},l}(),a=function(){for(var e=Array(256),t=Array(256),n=0;8>n;n+=1)e[n]=1<<n;for(var n=8;256>n;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(var n=0;255>n;n+=1)t[e[n]]=n;var o={};return o.glog=function(e){if(1>e)throw Error("glog("+e+")");return t[e]},o.gexp=function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return e[t]},o}(),s=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={},i=function(t,n){switch(n){case o.L:return e[4*(t-1)+0];case o.M:return e[4*(t-1)+1];case o.Q:return e[4*(t-1)+2];case o.H:return e[4*(t-1)+3];default:return void 0}};return n.getRSBlocks=function(e,n){var o=i(e,n);if(o===void 0)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+n);for(var r=o.length/3,a=[],s=0;r>s;s+=1)for(var l=o[3*s+0],c=o[3*s+1],u=o[3*s+2],d=0;l>d;d+=1)a.push(t(c,u));return a},n}(),l=function(){var e=[],t=0,n={};return n.getBuffer=function(){return e},n.getAt=function(t){var n=Math.floor(t/8);return 1==(1&e[n]>>>7-t%8)},n.put=function(e,t){for(var o=0;t>o;o+=1)n.putBit(1==(1&e>>>t-o-1))},n.getLengthInBits=function(){return t},n.putBit=function(n){var o=Math.floor(t/8);o>=e.length&&e.push(0),n&&(e[o]|=128>>>t%8),t+=1},n},c=function(e){var o=n.MODE_8BIT_BYTE,i=t.stringToBytes(e),r={};return r.getMode=function(){return o},r.getLength=function(){return i.length},r.write=function(e){for(var t=0;i.length>t;t+=1)e.put(i[t],8)},r},u=function(){var e=[],t={};return t.writeByte=function(t){e.push(255&t)},t.writeShort=function(e){t.writeByte(e),t.writeByte(e>>>8)},t.writeBytes=function(e,n,o){n=n||0,o=o||e.length;for(var i=0;o>i;i+=1)t.writeByte(e[i+n])},t.writeString=function(e){for(var n=0;e.length>n;n+=1)t.writeByte(e.charCodeAt(n))},t.toByteArray=function(){return e},t.toString=function(){var t="";t+="[";for(var n=0;e.length>n;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"},t},d=function(){var e=0,t=0,n=0,o="",i={},r=function(e){o+=String.fromCharCode(a(63&e))},a=function(e){if(0>e);else{if(26>e)return 65+e;if(52>e)return 97+(e-26);if(62>e)return 48+(e-52);if(62==e)return 43;if(63==e)return 47}throw Error("n:"+e)};return i.writeByte=function(o){for(e=e<<8|255&o,t+=8,n+=1;t>=6;)r(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(r(e<<6-t),e=0,t=0),0!=n%3)for(var i=3-n%3,a=0;i>a;a+=1)o+="="},i.toString=function(){return o},i},f=function(e){var t=e,n=0,o=0,i=0,r={};r.read=function(){for(;8>i;){if(n>=t.length){if(0==i)return-1;throw Error("unexpected end of file./"+i)}var e=t.charAt(n);if(n+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(o=o<<6|a(e.charCodeAt(0)),i+=6)}var r=255&o>>>i-8;return i-=8,r};var a=function(e){if(e>=65&&90>=e)return e-65;if(e>=97&&122>=e)return e-97+26;if(e>=48&&57>=e)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw Error("c:"+e)};return r},g=function(e,t){var n=e,o=t,i=Array(e*t),r={};r.setPixel=function(e,t,o){i[t*n+e]=o},r.write=function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(o),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(o),e.writeByte(0);var t=2,i=s(t);e.writeByte(t);for(var r=0;i.length-r>255;)e.writeByte(255),e.writeBytes(i,r,255),r+=255;e.writeByte(i.length-r),e.writeBytes(i,r,i.length-r),e.writeByte(0),e.writeString(";")};var a=function(e){var t=e,n=0,o=0,i={};return i.write=function(e,i){if(0!=e>>>i)throw Error("length over");for(;n+i>=8;)t.writeByte(255&(e<<n|o)),i-=8-n,e>>>=8-n,o=0,n=0;o=e<<n|o,n+=i},i.flush=function(){n>0&&t.writeByte(o)},i},s=function(e){for(var t=1<<e,n=(1<<e)+1,o=e+1,r=l(),s=0;t>s;s+=1)r.add(String.fromCharCode(s));r.add(String.fromCharCode(t)),r.add(String.fromCharCode(n));var c=u(),d=a(c);d.write(t,o);var f=0,g=String.fromCharCode(i[f]);for(f+=1;i.length>f;){var p=String.fromCharCode(i[f]);f+=1,r.contains(g+p)?g+=p:(d.write(r.indexOf(g),o),4095>r.size()&&(r.size()==1<<o&&(o+=1),r.add(g+p)),g=p)}return d.write(r.indexOf(g),o),d.write(n,o),d.flush(),c.toByteArray()},l=function(){var e={},t=0,n={};return n.add=function(o){if(n.contains(o))throw Error("dup key:"+o);e[o]=t,t+=1},n.size=function(){return t},n.indexOf=function(t){return e[t]},n.contains=function(t){return e[t]!==void 0},n};return r},p=function(e,t,n,o){for(var i=g(e,t),r=0;t>r;r+=1)for(var a=0;e>a;a+=1)i.setPixel(a,r,n(a,r));var s=u();i.write(s);for(var l=d(),c=s.toByteArray(),f=0;c.length>f;f+=1)l.writeByte(c[f]);l.flush();var p="";return p+="<img",p+=' src="',p+="data:image/gif;base64,",p+=l,p+='"',p+=' width="',p+=e,p+='"',p+=' height="',p+=t,p+='"',o&&(p+=' alt="',p+=o,p+='"'),p+="/>"};return t}();(function(e,t,n,o){e.fn.accordion=function(t){var n,i=e(this),r=(new Date).getTime(),a=[],s=arguments[0],l="string"==typeof s,c=[].slice.call(arguments,1);return i.each(function(){var u,d=e.isPlainObject(t)?e.extend(!0,{},e.fn.accordion.settings,t):e.extend({},e.fn.accordion.settings),f=d.className,g=d.namespace,p=d.selector,h=d.error,m="."+g,v="module-"+g,b=i.selector||"",y=e(this),w=y.find(p.title),x=y.find(p.content),C=this,T=y.data(v);u={initialize:function(){u.debug("Initializing accordion with bound events",y),w.on("click"+m,u.event.click),u.instantiate()},instantiate:function(){T=u,y.data(v,u)},destroy:function(){u.debug("Destroying previous accordion for",y),y.removeData(v),w.off(m)},event:{click:function(){u.verbose("Title clicked",this);var t=e(this),n=w.index(t);u.toggle(n)},resetStyle:function(){u.verbose("Resetting styles on element",this),e(this).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")}},toggle:function(e){u.debug("Toggling content content at index",e);var t=w.eq(e),n=t.next(x),o=n.is(":visible");o?d.collapsible?u.close(e):u.debug("Cannot close accordion content collapsing is disabled"):u.open(e)},open:function(t){var n=w.eq(t),o=n.next(x),i=w.filter("."+f.active),r=i.next(w),a=i.size()>0;o.is(":animated")||(u.debug("Opening accordion content",n),d.exclusive&&a&&(i.removeClass(f.active),r.stop().children().animate({opacity:0},d.duration,u.event.resetStyle).end().slideUp(d.duration,d.easing,function(){r.removeClass(f.active).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")})),n.addClass(f.active),o.stop().children().attr("style","").removeAttr("style").end().slideDown(d.duration,d.easing,function(){o.addClass(f.active).attr("style","").removeAttr("style"),e.proxy(d.onOpen,o)(),e.proxy(d.onChange,o)()}))},close:function(t){var n=w.eq(t),o=n.next(x);u.debug("Closing accordion content",n),n.removeClass(f.active),o.removeClass(f.active).show().stop().children().animate({opacity:0},d.duration,u.event.resetStyle).end().slideUp(d.duration,d.easing,function(){o.attr("style","").removeAttr("style"),e.proxy(d.onClose,o)(),e.proxy(d.onChange,o)()})},setting:function(t,n){return u.debug("Changing setting",t,n),n===o?d[t]:(e.isPlainObject(t)?e.extend(!0,d,t):d[t]=n,o)},internal:function(t,n){return u.debug("Changing internal",t,n),n===o?u[t]:(e.isPlainObject(t)?e.extend(!0,u,t):u[t]=n,o)},debug:function(){d.debug&&(d.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,d.name+":"),u.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,d.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;d.performance&&(t=(new Date).getTime(),o=r||t,n=t-o,r=t,a.push({Element:C,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=d.name+":",n=0;r=!1,clearTimeout(u.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",b&&(t+=" '"+b+"'"),(console.group!==o||console.table!==o)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,r){var a,s,l;return i=i||c,r=C||r,"string"==typeof t&&T!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(T[i])&&n!=a)T=T[i];else{if(!e.isPlainObject(T[r])||n==a)return T[i]!==o?(s=T[i],!1):T[r]!==o?(s=T[r],!1):(u.error(h.method),!1);T=T[r]}})),e.isFunction(s)?l=s.apply(r,i):s!==o&&(l=s),e.isArray(n)?n.push(l):"string"==typeof n?n=[n,l]:l!==o&&(n=l),s}},l?(T===o&&u.initialize(),u.invoke(s)):(T!==o&&u.destroy(),u.initialize())}),n!==o?n:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!0,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,duration:500,easing:"easeInOutQuint",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active"},selector:{title:".title",content:".content"}},e.extend(e.easing,{easeInOutQuint:function(e,t,n,o,i){return 1>(t/=i/2)?o/2*t*t*t*t*t+n:o/2*((t-=2)*t*t*t*t+2)+n}})})(jQuery,window,document),function(e,t,n,o){e.api=e.fn.api=function(n){var i,r,a=e.extend(!0,{},e.api.settings,n),s="function"!=typeof this?this:e("<div/>"),l=a.stateContext?e(a.stateContext):e(s),c="object"==typeof this?e(s):l,u=this,d=(new Date).getTime(),f=[],g=c.selector||"",p=a.namespace+"-module",h=a.className,m=a.metadata,v=a.error,b=c.data(p),y=arguments[0],w=b!==o&&"string"==typeof y,x=[].slice.call(arguments,1);return i={initialize:function(){var n,r,s,u,d,f,g=(new Date).getTime(),p={},b={};return a.serializeForm&&e(this).toJSON()!==o&&(p=i.get.formData(),i.debug("Adding form data to API Request",p),e.extend(!0,a.data,p)),n=e.proxy(a.beforeSend,c)(a),n===o||n?(u=i.get.url(i.get.templateURL()))?(s=e.Deferred().always(function(){a.stateContext&&l.removeClass(h.loading),e.proxy(a.complete,c)()}).done(function(t){i.debug("API request successful"),"json"==a.dataType?t.error!==o?e.proxy(a.failure,l)(t.error,a,c):e.isArray(t.errors)?e.proxy(a.failure,l)(t.errors[0],a,c):e.proxy(a.success,l)(t,a,c):e.proxy(a.success,l)(t,a,c)}).fail(function(t,n,r){var s,c=a.error[n]!==o?a.error[n]:r;if(t!==o)if(t.readyState!==o&&4==t.readyState){if(200!=t.status&&r!==o&&""!==r)i.error(u.statusMessage+r);else if("error"==n&&"json"==a.dataType)try{s=e.parseJSON(t.responseText),s&&s.error!==o&&(c=s.error)}catch(u){i.error(u.JSONParse)}l.removeClass(h.loading).addClass(h.error),a.errorLength>0&&setTimeout(function(){l.removeClass(h.error)},a.errorLength),i.debug("API Request error:",c),e.proxy(a.failure,l)(c,a,this)}else i.debug("Request Aborted (Most likely caused by page change)")}),e.extend(!0,b,a,{success:function(){},failure:function(){},complete:function(){},type:a.method||a.type,data:d,url:u,beforeSend:a.beforeXHR}),a.stateContext&&l.addClass(h.loading),a.progress&&(i.verbose("Adding progress events"),e.extend(!0,b,{xhr:function(){var n=new t.XMLHttpRequest;return n.upload.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(1e4*(t.loaded/t.total))/100+"%",e.proxy(a.progress,l)(n,t))},!1),n.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(1e4*(t.loaded/t.total))/100+"%",e.proxy(a.progress,l)(n,t))},!1),n}})),i.verbose("Creating AJAX request with settings: ",b),f=e.ajax(b).always(function(){r=a.loadingLength-((new Date).getTime()-g),a.loadingDelay=0>r?0:r}).done(function(e){var t=this;setTimeout(function(){s.resolveWith(t,[e])},a.loadingDelay)}).fail(function(e,t,n){var o=this;"abort"!=t?setTimeout(function(){s.rejectWith(o,[e,t,n])},a.loadingDelay):l.removeClass(h.error).removeClass(h.loading)}),a.stateContext&&c.data(m.promise,s).data(m.xhr,f),o):(i.error(v.missingURL),i.reset(),o):(i.error(v.beforeSend),i.reset(),o)},get:{formData:function(){return c.closest("form").toJSON()},templateURL:function(){var e,t=c.data(a.metadata.action)||a.action||!1;return t&&(i.debug("Creating url for: ",t),a.api[t]!==o?e=a.api[t]:i.error(v.missingAction)),a.url&&(e=a.url,i.debug("Getting url",e)),e},url:function(t,n){var r;return t&&(r=t.match(a.regExpTemplate),n=n||a.urlData,r&&(i.debug("Looking for URL variables",r),e.each(r,function(a,s){var l=s.substr(2,s.length-3),u=e.isPlainObject(n)&&n[l]!==o?n[l]:c.data(l)!==o?c.data(l):n[l];if(i.verbose("Looking for variable",l,c,c.data(l),n[l]),u===!1)i.debug("Removing variable from URL",r),t=t.replace("/"+s,"");else{if(u===o||!u)return i.error(v.missingParameter+l),t=!1,!1;t=t.replace(s,u)}}))),t}},reset:function(){c.data(m.promise,!1).data(m.xhr,!1),l.removeClass(h.error).removeClass(h.loading)},setting:function(t,n){return n===o?a[t]:(e.isPlainObject(t)?e.extend(!0,a,t):a[t]=n,o)},internal:function(t,n){return n===o?i[t]:(e.isPlainObject(t)?e.extend(!0,i,t):i[t]=n,o)},debug:function(){a.debug&&(a.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,a.name+":"),i.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),i.verbose.apply(console,arguments)))},error:function(){i.error=Function.prototype.bind.call(console.error,console,a.name+":"),i.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;a.performance&&(t=(new Date).getTime(),o=d||t,n=t-o,d=t,f.push({Element:u,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,100)},display:function(){var t=a.name+":",n=0;d=!1,clearTimeout(i.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",g&&(t+=" '"+g+"'"),(console.group!==o||console.table!==o)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,a){var s,l,c;return n=n||x,a=u||a,"string"==typeof t&&b!==o&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var a=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(b[r])&&n!=s)b=b[r];else{if(!e.isPlainObject(b[a])||n==s)return b[r]!==o?(l=b[r],!1):b[a]!==o?(l=b[a],!1):(i.error(v.method),!1);b=b[a]}})),e.isFunction(l)?c=l.apply(a,n):l!==o&&(c=l),e.isArray(r)?r.push(c):"string"==typeof r?r=[r,c]:c!==o&&(r=c),l}},w?(b===o&&i.initialize(),i.invoke(y)):(b!==o&&i.destroy(),i.initialize()),r!==o?r:this},e.fn.apiButton=function(t){return e(this).each(function(){var n,o=e(this),i=e(this).selector||"",r=e.isFunction(t)?e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this,success:t}):e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this},t);n={initialize:function(){r.context&&""!==i?e(r.context).on(i,"click."+r.namespace,n.click):o.on("click."+r.namespace,n.click)},click:function(){r.filter&&0!==e(this).filter(r.filter).size()||e.proxy(e.api,this)(r)}},n.initialize()}),this},e.api.settings={name:"API",namespace:"api",debug:!0,verbose:!0,performance:!0,api:{},beforeSend:function(e){return e},beforeXHR:function(){},success:function(){},complete:function(){},failure:function(){},progress:!1,error:{missingAction:"API action used but no url was defined",missingURL:"URL not specified for the API action",missingParameter:"Missing an essential URL parameter: ",timeout:"Your request timed out",error:"There was an error with your request",parseError:"There was an error parsing your request",JSONParse:"JSON could not be parsed during error handling",statusMessage:"Server gave an error: ",beforeSend:"The before send function has aborted the request",exitConditions:"API Request Aborted. Exit conditions met"},className:{loading:"loading",error:"error"},metadata:{action:"action",promise:"promise",xhr:"xhr"},regExpTemplate:/\{\$([A-z]+)\}/g,action:!1,url:!1,urlData:!1,serializeForm:!1,stateContext:!1,method:"get",data:{},dataType:"json",cache:!0,loadingLength:200,errorLength:2e3},e.fn.apiButton.settings={filter:".disabled, .loading",context:!1,stateContext:!1}}(jQuery,window,document),function(e,t,n,o){e.fn.colorize=function(t){var n=e.extend(!0,{},e.fn.colorize.settings,t),i=arguments||!1;return e(this).each(function(t){var r,a,s,l,c,u,d,f,g=e(this),p=e("<canvas />")[0],h=e("<canvas />")[0],m=e("<canvas />")[0],v=new Image,b=n.colors,y=(n.paths,n.namespace),w=n.error,x=g.data("module-"+y);return f={checkPreconditions:function(){return f.debug("Checking pre-conditions"),!e.isPlainObject(b)||e.isEmptyObject(b)?(f.error(w.undefinedColors),!1):!0},async:function(e){n.async?setTimeout(e,0):e()},getMetadata:function(){f.debug("Grabbing metadata"),l=g.data("image")||n.image||o,c=g.data("name")||n.name||t,u=n.width||g.width(),d=n.height||g.height(),(0===u||0===d)&&f.error(w.undefinedSize)},initialize:function(){f.debug("Initializing with colors",b),f.checkPreconditions()&&f.async(function(){f.getMetadata(),f.canvas.create(),f.draw.image(function(){f.draw.colors(),f.canvas.merge()}),g.data("module-"+y,f)})},redraw:function(){f.debug("Redrawing image"),f.async(function(){f.canvas.clear(),f.draw.colors(),f.canvas.merge()})},change:{color:function(e,t){return f.debug("Changing color",e),b[e]===o?(f.error(w.missingColor),!1):(b[e]=t,f.redraw(),o)}},canvas:{create:function(){f.debug("Creating canvases"),p.width=u,p.height=d,h.width=u,h.height=d,m.width=u,m.height=d,r=p.getContext("2d"),a=h.getContext("2d"),s=m.getContext("2d"),g.append(p),r=g.children("canvas")[0].getContext("2d")},clear:function(){f.debug("Clearing canvas"),s.fillStyle="#FFFFFF",s.fillRect(0,0,u,d)},merge:function(){return e.isFunction(r.blendOnto)?(r.putImageData(a.getImageData(0,0,u,d),0,0),s.blendOnto(r,"multiply"),o):(f.error(w.missingPlugin),o)}},draw:{image:function(e){f.debug("Drawing image"),e=e||function(){},l?(v.src=l,v.onload=function(){a.drawImage(v,0,0),e()}):(f.error(w.noImage),e())},colors:function(){f.debug("Drawing color overlays",b),e.each(b,function(e,t){n.onDraw(s,c,e,t)})}},debug:function(e,t){n.debug&&(t!==o?console.info(n.name+": "+e,t):console.info(n.name+": "+e))},error:function(e){console.warn(n.name+": "+e)},invoke:function(t,i,r){var a;return r=r||Array.prototype.slice.call(arguments,2),"string"==typeof t&&x!==o&&(t=t.split("."),e.each(t,function(t,o){return e.isPlainObject(x[o])?(x=x[o],!0):e.isFunction(x[o])?(a=x[o],!0):(f.error(n.error.method),!1)})),e.isFunction(a)?a.apply(i,r):!1}},x!==o&&i?("invoke"==i[0]&&(i=Array.prototype.slice.call(i,1)),f.invoke(i[0],this,Array.prototype.slice.call(i,1))):(f.initialize(),o)}),this},e.fn.colorize.settings={name:"Image Colorizer",debug:!0,namespace:"colorize",onDraw:function(){},async:!0,colors:{},metadata:{image:"image",name:"name"},error:{noImage:"No tracing image specified",undefinedColors:"No default colors specified.",missingColor:"Attempted to change color that does not exist",missingPlugin:"Blend onto plug-in must be included",undefinedHeight:"The width or height of image canvas could not be automatically determined. Please specify a height."}}}(jQuery,window,document),function(e,t,n,o){e.fn.form=function(t,i){var r,a=e(this),s=e.extend(!0,{},e.fn.form.settings,i),l=e.extend({},e.fn.form.settings.defaults,t),c=s.namespace,u=s.metadata,d=s.selector,f=s.className,g=s.error,p="."+c,h="module-"+c,m=a.selector||"",v=(new Date).getTime(),b=[],y=arguments[0],w="string"==typeof y,x=[].slice.call(arguments,1);return a.each(function(){var t,i=e(this),c=e(this).find(d.field),C=e(this).find(d.group),T=e(this).find(d.message),S=(e(this).find(d.prompt),e(this).find(d.submit)),k=[],P=this,D=i.data(h);t={initialize:function(){t.verbose("Initializing form validation",i,l,s),s.keyboardShortcuts&&c.on("keydown"+p,t.event.field.keydown),i.on("submit"+p,t.validate.form),c.on("blur"+p,t.event.field.blur),S.on("click"+p,t.submit),c.on(t.get.changeEvent()+p,t.event.field.change),t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t),D=t,i.data(h,t)},destroy:function(){t.verbose("Destroying previous module",D),i.off(p).removeData(h)},refresh:function(){t.verbose("Refreshing selector cache"),c=i.find(d.field)},submit:function(){t.verbose("Submitting form",i),i.submit()},event:{field:{keydown:function(n){var i=e(this),r=n.which,a={enter:13,escape:27};return r==a.escape&&(t.verbose("Escape key pressed blurring field"),i.blur()),!n.ctrlKey&&r==a.enter&&i.is(d.input)?(t.debug("Enter key pressed, submitting form"),S.addClass(f.down),i.one("keyup"+p,t.event.field.keyup),n.preventDefault(),!1):o},keyup:function(){t.verbose("Doing keyboard shortcut form submit"),S.removeClass(f.down),t.submit()},blur:function(){var n=e(this),o=n.closest(C);o.hasClass(f.error)?(t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))):("blur"==s.on||"change"==s.on)&&t.validate.field(t.get.validation(n))},change:function(){var n=e(this),o=n.closest(C);o.hasClass(f.error)?(t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))):"change"==s.on&&t.validate.field(t.get.validation(n))}}},get:{changeEvent:function(){return n.createElement("input").oninput!==o?"input":n.createElement("input").onpropertychange!==o?"propertychange":"keyup"},field:function(n){return t.verbose("Finding field with identifier",n),c.filter("#"+n).size()>0?c.filter("#"+n):c.filter('[name="'+n+'"]').size()>0?c.filter('[name="'+n+'"]'):c.filter("[data-"+u.validate+'="'+n+'"]').size()>0?c.filter("[data-"+u.validate+'="'+n+'"]'):e("<input/>")},validation:function(n){var o;return e.each(l,function(e,i){t.get.field(i.identifier).get(0)==n.get(0)&&(o=i)}),o||!1}},has:{field:function(e){return t.verbose("Checking for existence of a field with identifier",e),c.filter("#"+e).size()>0?!0:c.filter('[name="'+e+'"]').size()>0?!0:c.filter("[data-"+u.validate+'="'+e+'"]').size()>0?!0:!1}},add:{prompt:function(n,i){var r=t.get.field(n.identifier),a=r.closest(C),l=a.find(d.prompt),c=0!==l.size();t.verbose("Adding inline error",n),a.addClass(f.error),s.inline&&(c||(l=s.templates.prompt(i),l.appendTo(a)),l.html(i[0]),c||(s.transition&&e.fn.transition!==o?(t.verbose("Displaying error with css transition",s.transition),l.transition(s.transition+" in",s.duration)):(t.verbose("Displaying error with fallback javascript animation"),l.fadeIn(s.duration))))},errors:function(e){t.debug("Adding form error messages",e),T.html(s.templates.error(e))}},remove:{prompt:function(n){var i=t.get.field(n.identifier),r=i.closest(C),a=r.find(d.prompt);r.removeClass(f.error),s.inline&&a.is(":visible")&&(t.verbose("Removing prompt for field",n),s.transition&&e.fn.transition!==o?a.transition(s.transition+" out",s.duration,function(){a.remove()}):a.fadeOut(s.duration,function(){a.remove()
}))}},validate:{form:function(n){var r=!0;return k=[],e.each(l,function(e,n){t.validate.field(n)||(r=!1)}),r?(t.debug("Form has no validation errors, submitting"),i.removeClass(f.error).addClass(f.success),e.proxy(s.onSuccess,this)(n),o):(t.debug("Form has errors"),i.addClass(f.error),s.inline||t.add.errors(k),e.proxy(s.onFailure,this)(k))},field:function(n){var i=t.get.field(n.identifier),r=!0,a=[];return n.rules!==o&&e.each(n.rules,function(e,o){t.has.field(n.identifier)&&!t.validate.rule(n,o)&&(t.debug("Field is invalid",n.identifier,o.type),a.push(o.prompt),r=!1)}),r?(t.remove.prompt(n,a),e.proxy(s.onValid,i)(),!0):(k=k.concat(a),t.add.prompt(n,a),e.proxy(s.onInvalid,i)(a),!1)},rule:function(n,r){var a,l,c=t.get.field(n.identifier),u=r.type,d=c.val(),f=/\[(.*?)\]/i,g=f.exec(u),p=!0;return g!==o&&null!==g?(a=g[1],l=u.replace(g[0],""),p=e.proxy(s.rules[l],i)(d,a)):p=e.proxy(s.rules[u],c)(d),p}},setting:function(n,i){return t.debug("Changing setting",n,i),i===o?s[n]:(e.isPlainObject(n)?e.extend(!0,s,n):s[n]=i,o)},internal:function(n,i){return t.debug("Changing internal",n,i),i===o?t[n]:(e.isPlainObject(n)?e.extend(!0,t,n):t[n]=i,o)},debug:function(){s.debug&&(s.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,s.name+":"),t.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,s.name+":"),t.error.apply(console,arguments)},performance:{log:function(e){var n,o,i;s.performance&&(n=(new Date).getTime(),i=v||n,o=n-i,v=n,b.push({Element:P,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":o})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,100)},display:function(){var n=s.name+":",i=0;v=!1,clearTimeout(t.performance.timer),e.each(b,function(e,t){i+=t["Execution Time"]}),n+=" "+i+"ms",m&&(n+=" '"+m+"'"),a.size()>1&&(n+=" ("+a.size()+")"),(console.group!==o||console.table!==o)&&b.length>0&&(console.groupCollapsed(n),console.table?console.table(b):e.each(b,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),b=[]}},invoke:function(n,i,a){var s,l,c;return i=i||x,a=P||a,"string"==typeof n&&D!==o&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(i,r){var a=i!=s?r+n[i+1].charAt(0).toUpperCase()+n[i+1].slice(1):n;if(e.isPlainObject(D[r])&&i!=s)D=D[r];else{if(!e.isPlainObject(D[a])||i==s)return D[r]!==o?(l=D[r],!1):D[a]!==o?(l=D[a],!1):(t.error(g.method),!1);D=D[a]}})),e.isFunction(l)?c=l.apply(a,i):l!==o&&(c=l),e.isArray(r)?r.push(c):"string"==typeof r?r=[r,c]:c!==o&&(r=c),l}},w?(D===o&&t.initialize(),t.invoke(y)):(D!==o&&t.destroy(),t.initialize())}),r!==o?r:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!0,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,transition:"scale",duration:150,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{validate:"validate"},selector:{message:".error.message",field:"input, textarea, select",group:".field",input:"input",prompt:".prompt",submit:".submit"},className:{error:"error",success:"success",down:"down",label:"ui label prompt"},error:{method:"The method you called is not defined."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{checked:function(){return e(this).filter(":checked").size()>0},empty:function(e){return!(e===o||""===e)},email:function(e){var t=RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?");return t.test(e)},length:function(e,t){return e!==o?e.length>=t:!1},not:function(e,t){return e!=t},contains:function(e,t){return-1!==e.search(t)},is:function(e,t){return e==t},maxLength:function(e,t){return e!==o?t>=e.length:!1},match:function(t,n){var i,r=e(this);return r.find("#"+n).size()>0?i=r.find("#"+n).val():r.find("[name="+n+"]").size()>0?i=r.find("[name="+n+"]").val():r.find('[data-validate="'+n+'"]').size()>0&&(i=r.find('[data-validate="'+n+'"]').val()),i!==o?""+t==""+i:!1},url:function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)}}}}(jQuery,window,document),function(e,t,n,o){e.fn.state=function(t){var n,i=e(this),r=e.extend(!0,{},e.fn.state.settings,t),a=i.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),f=r.error,g=r.metadata,p=r.className,h=r.namespace,m=r.states,v=r.text,b="."+h,y=h+"-module";return i.each(function(){var h,w=e(this),x=this,C=w.data(y);h={initialize:function(){h.verbose("Initializing module"),r.automatic&&h.add.defaults(),r.context&&""!==a?(h.allows("hover")&&e(x,r.context).on(a,"mouseenter"+b,h.enable.hover).on(a,"mouseleave"+b,h.disable.hover),h.allows("down")&&e(x,r.context).on(a,"mousedown"+b,h.enable.down).on(a,"mouseup"+b,h.disable.down),h.allows("focus")&&e(x,r.context).on(a,"focus"+b,h.enable.focus).on(a,"blur"+b,h.disable.focus),e(r.context).on(a,"mouseenter"+b,h.change.text).on(a,"mouseleave"+b,h.reset.text).on(a,"click"+b,h.toggle.state)):(h.allows("hover")&&w.on("mouseenter"+b,h.enable.hover).on("mouseleave"+b,h.disable.hover),h.allows("down")&&w.on("mousedown"+b,h.enable.down).on("mouseup"+b,h.disable.down),h.allows("focus")&&w.on("focus"+b,h.enable.focus).on("blur"+b,h.disable.focus),w.on("mouseenter"+b,h.change.text).on("mouseleave"+b,h.reset.text).on("click"+b,h.toggle.state)),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),C=h,w.data(y,h)},destroy:function(){h.verbose("Destroying previous module",C),w.off(b).removeData(y)},refresh:function(){h.verbose("Refreshing selector cache"),w=e(x)},add:{defaults:function(){var n=t&&e.isPlainObject(t.states)?t.states:{};e.each(r.defaults,function(t,i){h.is[t]!==o&&h.is[t]()&&(h.verbose("Adding default states",t,x),e.extend(r.states,i,n))})}},is:{active:function(){return w.hasClass(p.active)},loading:function(){return w.hasClass(p.loading)},inactive:function(){return!w.hasClass(p.active)},enabled:function(){return!w.is(r.filter.active)},disabled:function(){return w.is(r.filter.active)},textEnabled:function(){return!w.is(r.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")}},allow:function(e){h.debug("Now allowing state",e),m[e]=!0},disallow:function(e){h.debug("No longer allowing",e),m[e]=!1},allows:function(e){return m[e]||!1},enable:{state:function(e){h.allows(e)&&w.addClass(p[e])},focus:function(){w.addClass(p.focus)},hover:function(){w.addClass(p.hover)},down:function(){w.addClass(p.down)}},disable:{state:function(e){h.allows(e)&&w.removeClass(p[e])},focus:function(){w.removeClass(p.focus)},hover:function(){w.removeClass(p.hover)},down:function(){w.removeClass(p.down)}},toggle:{state:function(){var e=w.data(g.promise);h.allows("active")&&h.is.enabled()&&(h.refresh(),e!==o?h.listenTo(e):h.change.state())}},listenTo:function(t){h.debug("API request detected, waiting for state signal",t),t?(v.loading&&h.update.text(v.loading),e.when(t).then(function(){"resolved"==t.state()?(h.debug("API request succeeded"),r.activateTest=function(){return!0},r.deactivateTest=function(){return!0}):(h.debug("API request failed"),r.activateTest=function(){return!1},r.deactivateTest=function(){return!1}),h.change.state()})):(r.activateTest=function(){return!1},r.deactivateTest=function(){return!1})},change:{state:function(){h.debug("Determining state change direction"),h.is.inactive()?h.activate():h.deactivate(),r.sync&&h.sync(),e.proxy(r.onChange,x)()},text:function(){h.is.textEnabled()&&(h.is.active()?v.hover?(h.verbose("Changing text to hover text",v.hover),h.update.text(v.hover)):v.disable&&(h.verbose("Changing text to disable text",v.disable),h.update.text(v.disable)):v.hover?(h.verbose("Changing text to hover text",v.disable),h.update.text(v.hover)):v.enable&&(h.verbose("Changing text to enable text",v.enable),h.update.text(v.enable)))}},activate:function(){e.proxy(r.activateTest,x)()&&(h.debug("Setting state to active"),w.addClass(p.active),h.update.text(v.active)),e.proxy(r.onActivate,x)()},deactivate:function(){e.proxy(r.deactivateTest,x)()&&(h.debug("Setting state to inactive"),w.removeClass(p.active),h.update.text(v.inactive)),e.proxy(r.onDeactivate,x)()},sync:function(){h.verbose("Syncing other buttons to current state"),h.is.active()?i.not(w).state("activate"):i.not(w).state("deactivate")},get:{text:function(){return r.selector.text?w.find(r.selector.text).text():w.html()},textFor:function(e){return v[e]||!1}},flash:{text:function(e,t){var n=h.get.text();h.debug("Flashing text message",e,t),e=e||r.text.flash,t=t||r.flashDuration,h.update.text(e),setTimeout(function(){h.update.text(n)},t)}},reset:{text:function(){var e=v.active||w.data(g.storedText),t=v.inactive||w.data(g.storedText);h.is.textEnabled()&&(h.is.active()&&e?(h.verbose("Resetting active text",e),h.update.text(e)):t&&(h.verbose("Resetting inactive text",e),h.update.text(t)))}},update:{text:function(e){var t=h.get.text();e&&e!==t?(h.debug("Updating text",e),r.selector.text?w.data(g.storedText,e).find(r.selector.text).text(e):w.data(g.storedText,e).html(e)):h.debug("Text is already sane, ignoring update",e)}},setting:function(t,n){return h.debug("Changing setting",t,n),n===o?r[t]:(e.isPlainObject(t)?e.extend(!0,r,t):r[t]=n,o)},internal:function(t,n){return h.debug("Changing internal",t,n),n===o?h[t]:(e.isPlainObject(t)?e.extend(!0,h,t):h[t]=n,o)},debug:function(){r.debug&&(r.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,r.name+":"),h.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,r.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;r.performance&&(t=(new Date).getTime(),o=s||t,n=t-o,s=t,l.push({Element:x,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,100)},display:function(){var t=r.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),i.size()>1&&(t+=" ("+i.size()+")"),(console.group!==o||console.table!==o)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,r){var a,s,l;return i=i||d,r=x||r,"string"==typeof t&&C!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(C[i])&&n!=a)C=C[i];else{if(!e.isPlainObject(C[r])||n==a)return C[i]!==o?(s=C[i],!1):C[r]!==o?(s=C[r],!1):(h.error(f.method),!1);C=C[r]}})),e.isFunction(s)?l=s.apply(r,i):s!==o&&(l=s),e.isArray(n)?n.push(l):"string"==typeof n?n=[n,l]:l!==o&&(n=l),s}},u?(C===o&&h.initialize(),h.invoke(c)):(C!==o&&h.destroy(),h.initialize())}),n!==o?n:this},e.fn.state.settings={name:"State",debug:!0,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:3e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{focus:"focus",hover:"hover",down:"down",active:"active",loading:"loading"},selector:{text:!1},defaults:{input:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},button:{hover:!0,focus:!1,down:!0,active:!0,loading:!0}},states:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},text:{flash:!1,hover:!1,active:!1,inactive:!1,enable:!1,disable:!1}}}(jQuery,window,document),function(e,t,n,o){e.fn.chatroom=function(t){return e(this).each(function(){var n,i,r,a,s,l,c,u=e.extend(!0,{},e.fn.chatroom.settings,t),d=u.className,f=u.namespace,g=u.selector,p=u.error,h=e(this),m=h.find(g.expandButton),v=h.find(g.userListButton),b=h.find(g.userList),y=(h.find(g.room),h.find(g.userCount)),w=h.find(g.log),x=(h.find(g.message),h.find(g.messageInput)),C=h.find(g.messageButton),T=h.data("module"),S="",k={};c={width:{log:w.width(),userList:b.outerWidth()},initialize:function(){return Pusher===o&&c.error(p.pusher),u.key===o||u.channelName===o?(c.error(p.key),!1):u.endpoint.message||u.endpoint.authentication?(l=new Pusher(u.key),Pusher.channel_auth_endpoint=u.endpoint.authentication,n=l.subscribe(u.channelName),n.bind("pusher:subscription_succeeded",c.user.list.create),n.bind("pusher:subscription_error",c.error),n.bind("pusher:member_added",c.user.joined),n.bind("pusher:member_removed",c.user.left),n.bind("update_messages",c.message.receive),e.each(u.customEvents,function(e,t){n.bind(e,t)}),v.on("click."+f,c.event.toggleUserList),m.on("click."+f,c.event.toggleExpand),x.on("keydown."+f,c.event.input.keydown).on("keyup."+f,c.event.input.keyup),C.on("mouseenter."+f,c.event.hover).on("mouseleave."+f,c.event.hover).on("click."+f,c.event.submit),w.animate({scrollTop:w.prop("scrollHeight")},400),h.data("module",c).addClass(d.loading),o):(c.error(p.endpoint),!1)},refresh:function(){v.removeClass(d.active),c.width={log:w.width(),userList:b.outerWidth()},v.hasClass(d.active)&&c.user.list.hide(),h.data("module",c)},user:{updateCount:function(){u.userCount&&(k=h.data("users"),a=0,e.each(k,function(){a++}),y.html(u.templates.userCount(a)))},joined:function(t){k=h.data("users"),"anonymous"!=t.id&&k[t.id]===o&&(k[t.id]=t.info,u.randomColor&&t.info.color===o&&(t.info.color=u.templates.color(t.id)),S=u.templates.userList(t.info),t.info.isAdmin?e(S).prependTo(b):e(S).appendTo(b),u.partingMessages&&(w.append(u.templates.joined(t.info)),c.message.scroll.test()),c.user.updateCount())},left:function(e){k=h.data("users"),e!==o&&"anonymous"!==e.id&&(delete k[e.id],h.data("users",k),b.find("[data-id="+e.id+"]").remove(),u.partingMessages&&(w.append(u.templates.left(e.info)),c.message.scroll.test()),c.user.updateCount())},list:{create:function(t){k={},t.each(function(e){"anonymous"!==e.id&&"undefined"!==e.id&&(u.randomColor&&e.info.color===o&&(e.info.color=u.templates.color(e.id)),S=e.info.isAdmin?u.templates.userList(e.info)+S:S+u.templates.userList(e.info),k[e.id]=e.info)}),h.data("users",k).data("user",k[t.me.id]).removeClass(d.loading),b.html(S),c.user.updateCount(),e.proxy(u.onJoin,b.children())()},show:function(){w.animate({width:c.width.log-c.width.userList},{duration:u.speed,easing:u.easing,complete:c.message.scroll.move})},hide:function(){w.stop().animate({width:c.width.log},{duration:u.speed,easing:u.easing,complete:c.message.scroll.move})}}},message:{scroll:{test:function(){s=w.prop("scrollHeight")-w.height(),Math.abs(w.scrollTop()-s)<u.scrollArea&&c.message.scroll.move()},move:function(){s=w.prop("scrollHeight")-w.height(),w.scrollTop(s)}},send:function(t){c.utils.emptyString(t)||e.api({url:u.endpoint.message,method:"POST",data:{message:{content:t,timestamp:(new Date).getTime()}}})},receive:function(e){r=e.data,k=h.data("users"),i=h.data("user"),k[r.userID]!==o&&(i===o||i.id!=r.userID)&&(r.user=k[r.userID],c.message.display(r))},display:function(t){w.append(u.templates.message(t)),c.message.scroll.test(),e.proxy(u.onMessage,w.children().last())()}},expand:function(){h.addClass(d.expand),e.proxy(u.onExpand,h)(),c.refresh()},contract:function(){h.removeClass(d.expand),e.proxy(u.onContract,h)(),c.refresh()},event:{input:{keydown:function(e){13==e.which&&C.addClass(d.down)},keyup:function(e){13==e.which&&(C.removeClass(d.down),c.event.submit())}},submit:function(){var e=x.val(),t=h.data("user");t===o||c.utils.emptyString(e)||(c.message.send(e),c.message.display({user:t,text:e}),c.message.scroll.move(),x.val(""))},toggleExpand:function(){h.hasClass(d.expand)?(m.removeClass(d.active),c.contract()):(m.addClass(d.active),c.expand())},toggleUserList:function(){w.is(":animated")||(v.hasClass(d.active)?(v.removeClass("active"),c.user.list.hide()):(v.addClass(d.active),c.user.list.show()))}},utils:{emptyString:function(e){return"string"==typeof e?-1==e.search(/\S/):!1}},setting:function(t,n){return n===o?u[t]:(e.isPlainObject(t)?e.extend(!0,u,t):u[t]=n,o)},internal:function(t,n){return n===o?c[t]:(e.isPlainObject(t)?e.extend(!0,c,t):c[t]=n,o)},debug:function(){u.debug&&(u.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,u.name+":"),c.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),c.verbose.apply(console,arguments)))},error:function(){c.error=Function.prototype.bind.call(console.error,console,u.name+":"),c.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;u.performance&&(t=(new Date).getTime(),o=time||t,n=t-o,time=t,performance.push({Element:element,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,100)},display:function(){var t=u.name+":",n=0;time=!1,clearTimeout(c.performance.timer),e.each(performance,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",moduleSelector&&(t+=" '"+moduleSelector+"'"),t+=" ("+$allDropdowns.size()+")",(console.group!==o||console.table!==o)&&performance.length>0&&(console.groupCollapsed(t),console.table?console.table(performance):e.each(performance,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(t,n,i){var r,a;return n=n||queryArguments,i=element||i,"string"==typeof t&&T!==o&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(t,n){e.isPlainObject(T[n])&&t!=r?T=T[n]:T[n]!==o?a=T[n]:c.error(p.method)})),e.isFunction(a)?a.apply(i,n):a||!1}},methodInvoked?(T===o&&c.initialize(),c.invoke(query)):(T!==o&&c.destroy(),c.initialize())}),invokedResponse?invokedResponse:this},e.fn.chatroom.settings={name:"Chat",debug:!1,namespace:"chat",channel:"present-chat",onJoin:function(){},onMessage:function(){},onExpand:function(){},onContract:function(){},customEvents:{},partingMessages:!1,userCount:!0,randomColor:!0,speed:300,easing:"easeOutQuint",scrollArea:9999,endpoint:{message:!1,authentication:!1},error:{method:"The method you called is not defined",endpoint:"Please define a message and authentication endpoint.",key:"You must specify a pusher key and channel.",pusher:"You must include the Pusher library."},className:{expand:"expand",active:"active",hover:"hover",down:"down",loading:"loading"},selector:{userCount:".actions .message",userListButton:".actions .list.button",expandButton:".actions .expand.button",room:".room",userList:".room .list",log:".room .log",message:".room .log .message",author:".room log .message .author",messageInput:".talk input",messageButton:".talk .send.button"},templates:{userCount:function(e){return e+" users in chat"},color:function(){var e=["#000000","#333333","#666666","#999999","#CC9999","#CC6666","#CC3333","#993333","#663333","#CC6633","#CC9966","#CC9933","#999966","#CCCC66","#99CC66","#669933","#669966","#33A3CC","#336633","#33CCCC","#339999","#336666","#336699","#6666CC","#9966CC","#333399","#663366","#996699","#993366","#CC6699"];return e[Math.floor(Math.random()*e.length)]},message:function(e){var t="";return e.user.isAdmin?(e.user.color="#55356A",t+='<div class="admin message">',t+='<span class="quirky ui flag team"></span>'):t+='<div class="message">',t+="<p>",t+=e.user.color!==o?'<span class="author" style="color: '+e.user.color+';">'+e.user.name+"</span>: ":'<span class="author">'+e.user.name+"</span>: ",t+=""+e.text+" </p>"+"</div>"},joined:function(e){return typeof e.name!==o?'<div class="status">'+e.name+" has joined the chat.</div>":!1},left:function(e){return typeof e.name!==o?'<div class="status">'+e.name+" has left the chat.</div>":!1},userList:function(e){var t="";return e.isAdmin&&(e.color="#55356A"),t+='<div class="user" data-id="'+e.id+'">'+' <div class="image">'+'   <img src="'+e.avatarURL+'">'+" </div>",t+=e.color!==o?' <p><a href="/users/'+e.id+'" target="_blank" style="color: '+e.color+';">'+e.name+"</a></p>":' <p><a href="/users/'+e.id+'" target="_blank">'+e.name+"</a></p>",t+="</div>"}}}}(jQuery,window,document),function(e,t,n,o){e.fn.checkbox=function(t){var n,i=e(this),r=i.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return i.each(function(){var i,d=e.extend(!0,{},e.fn.checkbox.settings,t),f=d.className,g=d.namespace,p=d.error,h="."+g,m="module-"+g,v=e(this),b=e(this).next(d.selector.label).first(),y=e(this).find(d.selector.input),w=v.selector||"",x=v.data(m),C=this;i={initialize:function(){i.verbose("Initializing checkbox",d),d.context&&""!==w?(i.verbose("Adding delegated events"),e(C,d.context).on(w,"click"+h,i.toggle).on(w+" + "+d.selector.label,"click"+h,i.toggle)):(v.on("click"+h,i.toggle).data(m,i),b.on("click"+h,i.toggle)),i.instantiate()},instantiate:function(){i.verbose("Storing instance of module",i),x=i,v.data(m,i)},destroy:function(){i.verbose("Destroying previous module"),v.off(h).removeData(m)},is:{radio:function(){return v.hasClass(f.radio)}},can:{disable:function(){return"boolean"==typeof d.required?d.required:!i.is.radio()}},enable:function(){i.debug("Enabling checkbox",y),y.prop("checked",!0),e.proxy(d.onChange,y.get())(),e.proxy(d.onEnable,y.get())()},disable:function(){i.debug("Disabling checkbox"),y.prop("checked",!1),e.proxy(d.onChange,y.get())(),e.proxy(d.onDisable,y.get())()},toggle:function(){i.verbose("Determining new checkbox state"),y.prop("checked")!==o&&y.prop("checked")?i.can.disable()&&i.disable():i.enable()},setting:function(t,n){return n===o?d[t]:(e.isPlainObject(t)?e.extend(!0,d,t):d[t]=n,o)},internal:function(t,n){return n===o?i[t]:(e.isPlainObject(t)?e.extend(!0,i,t):i[t]=n,o)},debug:function(){d.debug&&(d.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,d.name+":"),i.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),i.verbose.apply(console,arguments)))},error:function(){i.error=Function.prototype.bind.call(console.error,console,d.name+":"),i.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;d.performance&&(t=(new Date).getTime(),o=a||t,n=t-o,a=t,s.push({Element:C,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,100)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(i.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==o||console.table!==o)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,r,a){var s,l,c;return r=r||u,a=C||a,"string"==typeof t&&x!==o&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var a=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(x[r])&&n!=s)x=x[r];else{if(!e.isPlainObject(x[a])||n==s)return x[r]!==o?(l=x[r],!1):x[a]!==o?(l=x[a],!1):(i.error(p.method),!1);x=x[a]}})),e.isFunction(l)?c=l.apply(a,r):l!==o&&(c=l),e.isArray(n)?n.push(c):"string"==typeof n?n=[n,c]:c!==o&&(n=c),l}},c?(x===o&&i.initialize(),i.invoke(l)):(x!==o&&i.destroy(),i.initialize())}),n!==o?n:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",verbose:!0,debug:!0,performance:!0,context:!1,required:"auto",onChange:function(){},onEnable:function(){},onDisable:function(){},error:{method:"The method you called is not defined."},selector:{input:"input[type=checkbox], input[type=radio]",label:"label"},className:{radio:"radio"}}}(jQuery,window,document),function(e,t,n,o){e.fn.dimmer=function(t){var i,r=e(this),a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return r.each(function(){var d,f,g,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),h=p.selector,m=p.namespace,v=p.className,b=p.error,y="."+m,w="module-"+m,x=r.selector||"",C="ontouchstart"in n.documentElement?"touchstart":"click",T=e(this),S=this,k=T.data(w);console.log(S,t),g={preinitialize:function(){g.is.dimmer()?(f=T.parent(),d=T):(f=T,d=g.has.dimmer()?f.children(h.dimmer).first():g.create())},initialize:function(){g.debug("Initializing dimmer",p),"hover"==p.on?f.on("mouseenter"+y,g.show).on("mouseleave"+y,g.hide):"click"==p.on&&f.on(C+y,g.toggle),g.is.page()&&(g.debug("Setting as a page dimmer",f),g.set.pageDimmer()),p.closable&&(g.verbose("Adding dimmer close event",d),d.on(C+y,g.event.click)),g.set.dimmable(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),k=g,T.data(w,k)},destroy:function(){g.verbose("Destroying previous module",d),T.removeData(w),f.off(y),d.off(y)},event:{click:function(t){g.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).size()||e(t.target).is(h.content))&&(g.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t).detach();g.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&d.append(n)},create:function(){return e(p.template.dimmer()).appendTo(f)},animate:{show:function(t){t=t||function(){},g.set.dimmed(),e.fn.transition!==o?d.transition(p.transition+" in",g.get.duration(),function(){g.set.active(),t()}):(g.verbose("Showing dimmer animation with javascript"),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(g.get.duration(),1,function(){d.removeAttr("style"),g.set.active(),t()}))},hide:function(t){t=t||function(){},g.remove.dimmed(),e.fn.transition!==o?(g.verbose("Hiding dimmer with css"),d.transition(p.transition+" out",g.get.duration(),function(){g.remove.active(),t()})):(g.verbose("Hiding dimmer with javascript"),d.stop().fadeOut(g.get.duration(),function(){d.removeAttr("style"),g.remove.active(),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof p.duration?g.is.active()?p.duration.hide:p.duration.show:p.duration}},has:{dimmer:function(){return T.children(h.dimmer).size()>0}},is:{dimmer:function(){return T.is(h.dimmer)},dimmable:function(){return T.is(h.dimmable)},active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.transition)},page:function(){return f.is("body")},enabled:function(){return!f.hasClass(v.disabled)},disabled:function(){return f.hasClass(v.disabled)},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{active:function(){d.removeClass(v.transition).addClass(v.active)},dimmable:function(){f.addClass(v.dimmable)},dimmed:function(){f.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)}},remove:{active:function(){d.removeClass(v.transition).removeClass(v.active)},dimmed:function(){f.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)}},show:function(t){g.debug("Showing dimmer",d,p),g.is.active()||g.is.animating()||!g.is.enabled()?g.debug("Dimmer is already shown or disabled"):(g.animate.show(t),e.proxy(p.onShow,S)(),e.proxy(p.onChange,S)())},hide:function(t){g.is.active()&&!g.is.animating()?(g.debug("Hiding dimmer",d),g.animate.hide(t),e.proxy(p.onHide,S)(),e.proxy(p.onChange,S)()):g.debug("Dimmer is not visible")},toggle:function(){g.verbose("Toggling dimmer visibility",d),g.is.active()?g.hide():g.show()},setting:function(t,n){return n===o?p[t]:(e.isPlainObject(t)?e.extend(!0,p,t):p[t]=n,o)},internal:function(t,n){return n===o?g[t]:(e.isPlainObject(t)?e.extend(!0,g,t):g[t]=n,o)},debug:function(){p.debug&&(p.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,p.name+":"),g.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,p.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;p.performance&&(t=(new Date).getTime(),o=a||t,n=t-o,a=t,s.push({Element:S,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=p.name+":",n=0;a=!1,clearTimeout(g.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",x&&(t+=" '"+x+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==o||console.table!==o)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var a,s,l;return n=n||u,r=S||r,"string"==typeof t&&k!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(k[i])&&n!=a)k=k[i];else{if(!e.isPlainObject(k[r])||n==a)return k[i]!==o?(s=k[i],!1):k[r]!==o?(s=k[r],!1):(g.error(b.method),!1);k=k[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==o&&(l=s),e.isArray(i)?i.push(l):"string"==typeof i?i=[i,l]:l!==o&&(i=l),s}},g.preinitialize(),c?(k===o&&g.initialize(),g.invoke(l)):(k!==o&&g.destroy(),g.initialize())}),i!==o?i:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",verbose:!0,debug:!0,performance:!0,transition:"fade",on:!1,closable:!0,duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".ui.dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",dimmable:"ui dimmable",dimmed:"dimmed",disabled:"disabled",pageDimmer:"page",hide:"hide",show:"show",transition:"transition"}}}(jQuery,window,document),function(e,t,n,o){e.fn.dropdown=function(t){var i,r=e(this),a=e(n),s=r.selector||"",l="ontouchstart"in n.documentElement,c=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,g=[].slice.call(arguments,1);return r.each(function(){var n,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dropdown.settings,t):e.extend({},e.fn.dropdown.settings),h=p.className,m=p.metadata,v=p.namespace,b=p.selector,y=p.error,w="."+v,x="module-"+v,C=e(this),T=C.find(b.item),S=C.find(b.text),k=C.find(b.input),P=C.children(b.menu),D=this,A=C.data(x);n={initialize:function(){n.debug("Initializing dropdown",p),n.set.selected(),l&&n.bind.touchEvents(),n.bind.mouseEvents(),a.one("mousemove"+w,n.set.hasMouse),n.instantiate()},instantiate:function(){n.verbose("Storing instance of dropdown",n),A=n,C.data(x,n)},destroy:function(){n.verbose("Destroying previous dropdown for",C),T.off(w),C.off(w).removeData(x)},bind:{touchEvents:function(){n.debug("Touch device detected binding touch events"),C.on("touchstart"+w,n.event.test.toggle),T.on("touchstart"+w,n.event.item.mouseenter).on("touchstart"+w,n.event.item.click)},mouseEvents:function(){n.verbose("Mouse detected binding mouse events"),"click"==p.on?C.on("click"+w,n.event.test.toggle):"hover"==p.on?C.on("mouseenter"+w,n.delay.show).on("mouseleave"+w,n.delay.hide):C.on(p.on+w,n.toggle),T.on("mouseenter"+w,n.event.item.mouseenter).on("mouseleave"+w,n.event.item.mouseleave).on("click"+w,n.event.item.click)
},intent:function(){n.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+w,n.event.test.touch).on("touchmove"+w,n.event.test.touch),a.on("click"+w,n.event.test.hide)}},unbind:{intent:function(){n.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+w),a.off("click"+w)}},event:{test:{toggle:function(e){n.determine.intent(e,n.toggle),e.preventDefault(),e.stopImmediatePropagation()},touch:function(e){n.determine.intent(e,function(){"touchstart"==e.type?n.timer=setTimeout(n.hide,p.delay.touch):"touchmove"==e.type&&clearTimeout(n.timer)}),e.stopPropagation()},hide:function(e){n.determine.intent(e,n.hide)}},item:{mouseenter:function(t){var o=e(this).find(b.menu),i=e(this).siblings(b.item).children(b.menu);o.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.animate.hide(!1,i),n.verbose("Showing sub-menu",o),n.animate.show(!1,o)},2*p.delay.show),t.preventDefault())},mouseleave:function(){var t=e(this).find(b.menu);t.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.verbose("Hiding sub-menu",t),n.animate.hide(!1,t)},p.delay.hide))},click:function(){var t=e(this),o=t.data(m.text)||t.text(),i=t.data(m.value)||o.toLowerCase();0===t.find(b.menu).size()&&(n.determine.selectAction(o,i),e.proxy(p.onChange,D)(i,o))}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,o){n.verbose("Determining action",p.action),e.isFunction(n.action[p.action])?(n.verbose("Triggering preset action",p.action,t,o),n.action[p.action](t,o)):e.isFunction(p.action)?(n.verbose("Triggering user action",p.action,t,o),p.action(t,o)):n.error(y.action)},intent:function(t,o){return n.debug("Determining whether event occurred in dropdown",t.target),o=o||function(){},0===e(t.target).closest(P).size()?(n.verbose("Triggering event",o),o(),!0):(n.verbose("Event occurred in dropdown, canceling callback"),!1)}},action:{nothing:function(){},hide:function(){n.hide()},activate:function(e,t){t=t||e,n.set.selected(t),n.set.value(t),n.hide()},auto:function(e,t){t=t||e,n.set.selected(t),n.set.value(t),n.hide()},changeText:function(e,t){t=t||e,n.set.selected(t),n.hide()},updateForm:function(e,t){t=t||e,n.set.selected(t),n.set.value(t),n.hide()}},get:{text:function(){return S.text()},value:function(){return k.val()},item:function(t){var i;return t=t||n.get.value()||n.get.text(),t?T.each(function(){var n=e(this),r=n.data(m.text)||n.text(),a=n.data(m.value)||r.toLowerCase();return a==t||r==t?(i=e(this),!1):o}):t=n.get.text(),i||!1}},set:{text:function(e){n.debug("Changing text",e,S),S.removeClass(h.placeholder),S.text(e)},value:function(e){n.debug("Adding selected value to hidden input",e,k),k.val(e)},active:function(){C.addClass(h.active)},visible:function(){C.addClass(h.visible)},selected:function(e){var t,o=n.get.item(e);o&&(n.debug("Setting selected menu item to",o),t=o.data(m.text)||o.text(),T.removeClass(h.active),o.addClass(h.active),n.set.text(t))}},remove:{active:function(){C.removeClass(h.active)},visible:function(){C.removeClass(h.visible)}},is:{selection:function(){return C.hasClass(h.selection)},visible:function(e){return e?e.is(":animated, :visible"):P.is(":animated, :visible")},hidden:function(e){return e?e.is(":not(:animated, :visible)"):P.is(":not(:animated, :visible)")}},can:{click:function(){return l||"click"==p.on},show:function(){return!C.hasClass(h.disabled)}},animate:{show:function(t,i){var r=i||P;t=t||function(){},n.is.hidden(r)&&(n.verbose("Doing menu show animation",r),"none"==p.transition?t():e.fn.transition!==o?r.transition({animation:p.transition+" in",duration:p.duration,complete:t,queue:!1}):"slide down"==p.transition?r.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},p.duration,"easeOutQuad",n.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==p.transition?r.hide().clearQueue().fadeIn(p.duration,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(y.transition))},hide:function(t,i){var r=i||P;t=t||function(){},n.is.visible(r)&&(n.verbose("Doing menu hide animation",r),e.fn.transition!==o?r.transition({animation:p.transition+" out",duration:p.duration,complete:t,queue:!1}):"none"==p.transition?t():"slide down"==p.transition?r.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",n.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==p.transition?r.show().clearQueue().fadeOut(150,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(y.transition))}},show:function(){n.debug("Checking if dropdown can show"),n.is.hidden()&&(n.hideOthers(),n.set.active(),n.animate.show(n.set.visible),n.can.click()&&n.bind.intent(),e.proxy(p.onShow,D)())},hide:function(){n.is.visible()&&(n.debug("Hiding dropdown"),n.can.click()&&n.unbind.intent(),n.remove.active(),n.animate.hide(n.remove.visible),e.proxy(p.onHide,D)())},delay:{show:function(){n.verbose("Delaying show event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.show,p.delay.show)},hide:function(){n.verbose("Delaying hide event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.hide,p.delay.hide)}},hideOthers:function(){n.verbose("Finding other dropdowns to hide"),r.not(C).has(b.menu+":visible").dropdown("hide")},toggle:function(){n.verbose("Toggling menu visibility"),n.is.hidden()?n.show():n.hide()},setting:function(t,n){return n===o?p[t]:(e.isPlainObject(t)?e.extend(!0,p,t):p[t]=n,o)},internal:function(t,i){return i===o?n[t]:(e.isPlainObject(t)?e.extend(!0,n,t):n[t]=i,o)},debug:function(){p.debug&&(p.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,p.name+":"),n.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,p.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,o,i;p.performance&&(t=(new Date).getTime(),i=c||t,o=t-i,c=t,u.push({Element:D,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":o})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=p.name+":",i=0;c=!1,clearTimeout(n.performance.timer),e.each(u,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(console.group!==o||console.table!==o)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,r,a){var s,l,c;return r=r||g,a=D||a,"string"==typeof t&&A!==o&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,r){var a=i!=s?r+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(A[r])&&i!=s)A=A[r];else{if(!e.isPlainObject(A[a])||i==s)return A[r]!==o?(l=A[r],!1):A[a]!==o?(l=A[a],!1):(n.error(y.method),!1);A=A[a]}})),e.isFunction(l)?c=l.apply(a,r):l!==o&&(c=l),e.isArray(i)?i.push(c):"string"==typeof i?i=[i,c]:c!==o&&(i=c),l}},f?(A===o&&n.initialize(),n.invoke(d)):(A!==o&&n.destroy(),n.initialize())}),i?i:this},e.fn.dropdown.settings={name:"Dropdown",namespace:"dropdown",verbose:!0,debug:!0,performance:!0,on:"click",action:"activate",delay:{show:200,hide:300,touch:50},transition:"slide down",duration:250,onChange:function(){},onShow:function(){},onHide:function(){},error:{action:"You called a dropdown action that was not defined",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{text:"text",value:"value"},selector:{menu:".menu",item:".menu > .item",text:"> .text",input:'> input[type="hidden"]'},className:{active:"active",placeholder:"default",disabled:"disabled",visible:"visible",selection:"selection"}}}(jQuery,window,document),function(e,t,n,o){e.fn.modal=function(i){var r,a=e(this),s=e(t),l=e(n),c=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,g=[].slice.call(arguments,1);return a.each(function(){var p,h,m,v,b=e.isPlainObject(i)?e.extend(!0,{},e.fn.modal.settings,i):e.extend({},e.fn.modal.settings),y=b.selector,w=b.className,x=b.namespace,C=b.error,T="."+x,S="module-"+x,k=a.selector||"",P=e(this),D=e(b.context),A=a.not(P),E=P.find(y.close),$=this,I=P.data(S);v={initialize:function(){v.verbose("Initializing dimmer",D),h=D.dimmer({closable:!1,show:.95*b.duration,hide:1.05*b.duration}).dimmer("add content",P),m=h.dimmer("get dimmer"),v.verbose("Attaching close events",E),E.on("click"+T,v.event.close),s.on("resize",function(){v.event.debounce(v.refresh,50)}),v.instantiate()},instantiate:function(){v.verbose("Storing instance of modal"),I=v,P.data(S,I)},destroy:function(){v.verbose("Destroying previous modal"),P.removeData(S).off(T),E.off(T),D.dimmer("destroy")},refresh:function(){v.remove.scrolling(),v.cacheSizes(),v.set.type(),v.set.position()},attachEvents:function(t,n){var o=e(t);n=e.isFunction(v[n])?v[n]:v.toggle,o.size()>0?(v.debug("Attaching modal events to element",t,n),o.off(T).on("click"+T,n)):v.error(C.notFound)},event:{close:function(){v.verbose("Closing element pressed"),e(this).is(y.approve)&&e.proxy(b.onApprove,$)(),e(this).is(y.deny)&&e.proxy(b.onDeny,$)(),v.hide()},click:function(e){v.verbose("Determining if event occured on dimmer",e),0===m.find(e.target).size()&&(v.hide(),e.stopImmediatePropagation())},debounce:function(e,t){clearTimeout(v.timer),v.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(b.closable?(v.debug("Escape key pressed hiding modal"),v.hide()):v.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){h.dimmer("is active")&&v.refresh()}},toggle:function(){v.is.active()?v.hide():v.show()},show:function(){v.showDimmer(),v.cacheSizes(),v.set.position(),v.hideAll(),b.transition&&e.fn.transition!==o?P.transition(b.transition+" in",b.duration,v.set.active):P.fadeIn(b.duration,b.easing,v.set.active),v.debug("Triggering dimmer"),e.proxy(b.onShow,$)()},showDimmer:function(){v.debug("Showing modal"),h.dimmer("show")},hide:function(){b.closable&&m.off("click"+T),h.dimmer("is active")&&h.dimmer("hide"),v.is.active()?(v.hideModal(),e.proxy(b.onHide,$)()):v.debug("Cannot hide modal, modal is not visible")},hideDimmer:function(){v.debug("Hiding dimmer"),h.dimmer("hide")},hideModal:function(){v.debug("Hiding modal"),v.remove.keyboardShortcuts(),b.transition&&e.fn.transition!==o?P.transition(b.transition+" out",b.duration,function(){v.remove.active(),v.restore.focus()}):P.fadeOut(b.duration,b.easing,function(){v.remove.active(),v.restore.focus()})},hideAll:function(){A.filter(":visible").modal("hide")},add:{keyboardShortcuts:function(){v.verbose("Adding keyboard shortcuts"),l.on("keyup"+T,v.event.keyboard)}},save:{focus:function(){p=e(n.activeElement).blur()}},restore:{focus:function(){p.size()>0&&p.focus()}},remove:{active:function(){P.removeClass(w.active)},keyboardShortcuts:function(){v.verbose("Removing keyboard shortcuts"),l.off("keyup"+T)},scrolling:function(){h.removeClass(w.scrolling),P.removeClass(w.scrolling)}},cacheSizes:function(){v.cache={height:P.outerHeight()+b.offset,contextHeight:"body"==b.context?e(t).height():h.height()},v.debug("Caching modal and container sizes",v.cache)},can:{fit:function(){return v.cache.height<v.cache.contextHeight}},is:{active:function(){return P.hasClass(w.active)}},set:{active:function(){v.add.keyboardShortcuts(),v.save.focus(),v.set.type(),P.addClass(w.active),b.closable&&m.on("click"+T,v.event.click)},scrolling:function(){h.addClass(w.scrolling),P.addClass(w.scrolling)},type:function(){v.can.fit()?(v.verbose("Modal fits on screen"),v.remove.scrolling()):(v.verbose("Modal cannot fit on screen setting to scrolling"),v.set.scrolling())},position:function(){v.verbose("Centering modal on page",v.cache,v.cache.height/2),v.can.fit()?P.css({top:"",marginTop:-(v.cache.height/2)}):P.css({marginTop:"1em",top:l.scrollTop()})}},setting:function(t,n){return n===o?b[t]:(e.isPlainObject(t)?e.extend(!0,b,t):b[t]=n,o)},internal:function(t,n){return n===o?v[t]:(e.isPlainObject(t)?e.extend(!0,v,t):v[t]=n,o)},debug:function(){b.debug&&(b.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,b.name+":"),v.debug.apply(console,arguments)))},verbose:function(){b.verbose&&b.debug&&(b.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,b.name+":"),v.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;b.performance&&(t=(new Date).getTime(),o=c||t,n=t-o,c=t,u.push({Element:$,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,100)},display:function(){var t=b.name+":",n=0;c=!1,clearTimeout(v.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",k&&(t+=" '"+k+"'"),(console.group!==o||console.table!==o)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,i){var a,s,l;return n=n||g,i=$||i,"string"==typeof t&&I!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(I[i])&&n!=a)I=I[i];else{if(!e.isPlainObject(I[r])||n==a)return I[i]!==o?(s=I[i],!1):I[r]!==o?(s=I[r],!1):(v.error(C.method),!1);I=I[r]}})),e.isFunction(s)?l=s.apply(i,n):s!==o&&(l=s),e.isArray(r)?r.push(l):"string"==typeof r?r=[r,l]:l!==o&&(r=l),s}},f?(I===o&&v.initialize(),v.invoke(d)):(I!==o&&v.destroy(),v.initialize())}),r!==o?r:this},e.fn.modal.settings={name:"Modal",namespace:"modal",verbose:!0,debug:!0,performance:!0,closable:!0,context:"body",duration:500,easing:"easeOutExpo",offset:0,transition:"scale",onShow:function(){},onHide:function(){},onApprove:function(){},onDeny:function(){},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve",deny:".actions .negative, .actions .cancel"},error:{method:"The method you called is not defined."},className:{active:"active",scrolling:"scrolling"}}}(jQuery,window,document),function(e,t,n,o){e.fn.nag=function(n){var i,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return e(this).each(function(){var f,g,p,h,m,v,b,y,w,x=e.extend(!0,{},e.fn.nag.settings,n),C=x.className,T=x.selector,S=x.error,k=x.namespace,P="."+k,D=k+"-module",A=e(this),E=A.find(T.close),$=e(x.context),I=this,R=A.data(D),z=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};w={initialize:function(){w.verbose("Initializing element"),f=A.offset(),g=A.outerHeight(),p=$.outerWidth(),h=$.outerHeight(),m=$.offset(),A.data(D,w),E.on("click"+P,w.dismiss),x.context==t&&"fixed"==x.position&&A.addClass(C.fixed),x.sticky&&(w.verbose("Adding scroll events"),"absolute"==x.position?$.on("scroll"+P,w.event.scroll).on("resize"+P,w.event.scroll):e(t).on("scroll"+P,w.event.scroll).on("resize"+P,w.event.scroll),e.proxy(w.event.scroll,this)()),x.displayTime>0&&setTimeout(w.hide,x.displayTime),w.should.show()?A.is(":visible")||w.show():w.hide()},destroy:function(){w.verbose("Destroying instance"),A.removeData(D).off(P),x.sticky&&$.off(P)},refresh:function(){w.debug("Refreshing cached calculations"),f=A.offset(),g=A.outerHeight(),p=$.outerWidth(),h=$.outerHeight(),m=$.offset()},show:function(){w.debug("Showing nag",x.animation.show),"fade"==x.animation.show?A.fadeIn(x.duration,x.easing):A.slideDown(x.duration,x.easing)},hide:function(){w.debug("Showing nag",x.animation.hide),"fade"==x.animation.show?A.fadeIn(x.duration,x.easing):A.slideUp(x.duration,x.easing)},onHide:function(){w.debug("Removing nag",x.animation.hide),A.remove(),x.onHide&&x.onHide()},stick:function(){if(w.refresh(),"fixed"==x.position){var n=e(t).prop("pageYOffset")||e(t).scrollTop(),o=A.hasClass(C.bottom)?m.top+(h-g)-n:m.top-n;A.css({position:"fixed",top:o,left:m.left,width:p-x.scrollBarWidth})}else A.css({top:b})},unStick:function(){A.css({top:""})},dismiss:function(e){x.storageMethod&&w.storage.set(x.storedKey,x.storedValue),w.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return x.persist?(w.debug("Persistent nag is set, can show nag"),!0):w.storage.get(x.storedKey)!=x.storedValue?(w.debug("Stored value is not set, can show nag",w.storage.get(x.storedKey)),!0):(w.debug("Stored value is set, cannot show nag",w.storage.get(x.storedKey)),!1)},stick:function(){return v=$.prop("pageYOffset")||$.scrollTop(),b=A.hasClass(C.bottom)?h-A.outerHeight()+v:v,b>f.top?!0:"fixed"==x.position?!0:!1}},storage:{set:function(n,i){w.debug("Setting stored value",n,i,x.storageMethod),"local"==x.storageMethod&&t.store!==o?t.store.set(n,i):e.cookie!==o?e.cookie(n,i):w.error(S.noStorage)},get:function(n){return w.debug("Getting stored value",n,x.storageMethod),"local"==x.storageMethod&&t.store!==o?t.store.get(n):e.cookie!==o?e.cookie(n):(w.error(S.noStorage),o)}},event:{scroll:function(){y!==o&&clearTimeout(y),y=setTimeout(function(){w.should.stick()?z(w.stick):w.unStick()},x.lag)}},setting:function(t,n){return w.debug("Changing setting",t,n),n===o?x[t]:(e.isPlainObject(t)?e.extend(!0,x,t):x[t]=n,o)},internal:function(t,n){return w.debug("Changing internal",t,n),n===o?w[t]:(e.isPlainObject(t)?e.extend(!0,w,t):w[t]=n,o)},debug:function(){x.debug&&(x.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,x.name+":"),w.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,x.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;x.performance&&(t=(new Date).getTime(),o=s||t,n=t-o,s=t,l.push({Element:I,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,100)},display:function(){var t=x.name+":",n=0;s=!1,clearTimeout(w.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==o||console.table!==o)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var a,s,l;return n=n||d,r=I||r,"string"==typeof t&&R!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(R[i])&&n!=a)R=R[i];else{if(!e.isPlainObject(R[r])||n==a)return R[i]!==o?(s=R[i],!1):R[r]!==o?(s=R[r],!1):(w.error(S.method),!1);R=R[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==o&&(l=s),e.isArray(i)?i.push(l):"string"==typeof i?i=[i,l]:l!==o&&(i=l),s}},u?(R===o&&w.initialize(),w.invoke(c)):(R!==o&&w.destroy(),w.initialize())}),i!==o?i:this},e.fn.nag.settings={name:"Nag",verbose:!0,debug:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},position:"fixed",scrollBarWidth:18,storageMethod:"cookie",storedKey:"nag",storedValue:"dismiss",sticky:!1,lag:0,context:t,error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".icon.close"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,t,n,o){e.fn.popup=function(i){var r,a=e(this),s=e(n),l=a.selector||"",c=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,g=[].slice.call(arguments,1);return a.each(function(){var n,a=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),p=a.selector,h=a.className,m=a.error,v=a.metadata,b=a.namespace,y="."+a.namespace,w="module-"+b,x=e(this),C=e(t),T=x.offsetParent(),S=a.inline?x.next(a.selector.popup):C.children(a.selector.popup).last(),k=0,P=this,D=x.data(w);n={initialize:function(){n.debug("Initializing module",x),"hover"==a.on?x.on("mouseenter"+y,n.event.mouseenter).on("mouseleave"+y,n.event.mouseleave):x.on(a.on+""+y,n.event[a.on]),C.on("resize"+y,n.event.resize),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),D=n,x.data(w,D)},refresh:function(){S=a.inline?x.next(p.popup):C.children(p.popup).last(),T=x.offsetParent()},destroy:function(){n.debug("Destroying previous module"),C.off(y),x.off(y).removeData(w)},event:{mouseenter:function(t){var o=this;n.timer=setTimeout(function(){e.proxy(n.toggle,o)(),e(o).hasClass(h.visible)&&t.stopPropagation()},a.delay)},mouseleave:function(){clearTimeout(n.timer),x.is(":visible")&&n.hide()},click:function(t){e.proxy(n.toggle,this)(),e(this).hasClass(h.visible)&&t.stopPropagation()},resize:function(){S.is(":visible")&&n.position()}},create:function(){n.debug("Creating pop-up html");var t=x.data(v.html)||a.html,o=x.data(v.variation)||a.variation,i=x.data(v.title)||a.title,r=x.data(v.content)||x.attr("title")||a.content;t||r||i?(t||(t=a.template({title:i,content:r})),S=e("<div/>").addClass(h.popup).addClass(o).html(t),a.inline?(n.verbose("Inserting popup element inline",S),S.insertAfter(x)):(n.verbose("Appending popup element to body",S),S.appendTo(e("body"))),e.proxy(a.onCreate,S)()):n.error(m.content)},remove:function(){n.debug("Removing popup"),S.remove()},get:{offstagePosition:function(){var o={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},i={width:S.width(),height:S.outerHeight(),position:S.offset()},r={},a=[];return i.position&&(r={top:i.position.top<o.top,bottom:i.position.top+i.height>o.bottom,right:i.position.left+i.width>o.right,left:i.position.left<o.left}),n.verbose("Checking if outside viewable area",i.position),e.each(r,function(e,t){t&&a.push(e)}),a.length>0?a.join(" "):!1},nextPosition:function(e){switch(e){case"top left":e="bottom left";break;case"bottom left":e="top right";break;case"top right":e="bottom right";break;case"bottom right":e="top center";break;case"top center":e="bottom center";break;case"bottom center":e="right center";break;case"right center":e="left center";break;case"left center":e="top center"}return e}},toggle:function(){x=e(this),n.debug("Toggling pop-up"),n.refresh(),x.hasClass(h.visible)||("click"==a.on&&n.hideAll(),n.show())},position:function(o,i){var r,s,l=(e(t).width(),e(t).height(),x.outerWidth()),c=x.outerHeight(),u=S.width(),d=S.outerHeight(),f=a.inline?x.position():x.offset(),g=a.inline?T.outerWidth():C.outerWidth(),p=a.inline?T.outerHeight():C.outerHeight();switch(o=o||x.data(v.position)||a.position,i=i||x.data(v.arrowOffset)||a.arrowOffset,n.debug("Calculating offset for position",o),o){case"top left":r={bottom:p-f.top+a.distanceAway,right:g-f.left-l-i,top:"auto",left:"auto"};break;case"top center":r={bottom:p-f.top+a.distanceAway,left:f.left+l/2-u/2+i,top:"auto",right:"auto"};break;case"top right":r={top:"auto",bottom:p-f.top+a.distanceAway,left:f.left+i};break;case"left center":r={top:f.top+c/2-d/2,right:g-f.left+a.distanceAway-i,left:"auto",bottom:"auto"};break;case"right center":r={top:f.top+c/2-d/2,left:f.left+l+a.distanceAway+i,bottom:"auto",right:"auto"};break;case"bottom left":r={top:f.top+c+a.distanceAway,right:g-f.left-l-i,left:"auto",bottom:"auto"};break;case"bottom center":r={top:f.top+c+a.distanceAway,left:f.left+l/2-u/2+i,bottom:"auto",right:"auto"};break;case"bottom right":r={top:f.top+c+a.distanceAway,left:f.left+i,bottom:"auto",right:"auto"}}return e.extend(r,{width:S.width()+1}),S.css(r).removeClass(h.position).addClass(o),s=n.get.offstagePosition(),s?(n.debug("Element is outside boundaries ",s),a.maxSearchDepth>k?(o=n.get.nextPosition(o),k++,n.debug("Trying new position: ",o),n.position(o)):(n.error(m.recursion),k=0,!1)):(n.debug("Position is on stage",o),k=0,!0)},show:function(){n.debug("Showing pop-up",a.transition),0===S.size()&&n.create(),n.position(),x.addClass(h.visible),a.transition&&e.fn.transition!==o?S.transition(a.transition+" in",a.duration):S.stop().fadeIn(a.duration,a.easing),"click"==a.on&&a.clicktoClose&&(n.debug("Binding popup close event"),s.on("click."+b,n.gracefully.hide)),e.proxy(a.onShow,S)()},hideAll:function(){e(p.popup).filter(":visible").popup("hide")},hide:function(){x.removeClass(h.visible),S.is(":visible")&&(n.debug("Hiding pop-up"),a.transition&&e.fn.transition!==o?S.transition(a.transition+" out",a.duration,n.reset):S.stop().fadeOut(a.duration,a.easing,n.reset)),"click"==a.on&&a.clicktoClose&&s.off("click."+b),e.proxy(a.onHide,S)()},reset:function(){n.verbose("Resetting inline styles"),S.attr("style","").removeAttr("style"),a.inline||n.remove()},gracefully:{hide:function(t){0===e(t.target).closest(p.popup).size()&&n.hide()}},setting:function(t,n){return n===o?a[t]:(e.isPlainObject(t)?e.extend(!0,a,t):a[t]=n,o)},internal:function(t,i){return i===o?n[t]:(e.isPlainObject(t)?e.extend(!0,n,t):n[t]=i,o)},debug:function(){a.debug&&(a.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,a.name+":"),n.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,a.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,o,i;a.performance&&(t=(new Date).getTime(),i=c||t,o=t-i,c=t,u.push({Element:P,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":o})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=a.name+":",i=0;c=!1,clearTimeout(n.performance.timer),e.each(u,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",l&&(t+=" '"+l+"'"),(console.group!==o||console.table!==o)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,i,a){var s,l,c;return i=i||g,a=P||a,"string"==typeof t&&D!==o&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,r){var a=i!=s?r+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(D[r])&&i!=s)D=D[r];else{if(!e.isPlainObject(D[a])||i==s)return D[r]!==o?(l=D[r],!1):D[a]!==o?(l=D[a],!1):(n.error(m.method),!1);D=D[a]}})),e.isFunction(l)?c=l.apply(a,i):l!==o&&(c=l),e.isArray(r)?r.push(c):"string"==typeof r?r=[r,c]:c!==o&&(r=c),l}},f?(D===o&&n.initialize(),n.invoke(d)):(D!==o&&n.destroy(),n.initialize())}),r!==o?r:this},e.fn.popup.settings={name:"Popup",debug:!0,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onShow:function(){},onHide:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",clicktoClose:!0,position:"top center",delay:150,inline:!0,duration:150,easing:"easeOutQuint",transition:"scale",distanceAway:0,arrowOffset:0,maxSearchDepth:10,error:{content:"Your popup has no content specified",method:"The method you called is not defined.",recursion:"Popup attempted to reposition element to fit, but could not find an adequate position."},metadata:{arrowOffset:"arrowOffset",content:"content",html:"html",position:"position",title:"title",variation:"variation"},className:{popup:"ui popup",visible:"visible",loading:"loading",position:"top left center bottom right"},selector:{popup:".ui.popup"},template:function(e){var t="";return typeof e!==o&&(typeof e.title!==o&&e.title&&(t+='<div class="header">'+e.title+'</div class="header">'),typeof e.content!==o&&e.content&&(t+='<div class="content">'+e.content+"</div>")),t}}}(jQuery,window,document),function(e,t,n,o){e.fn.rating=function(t){var n,i=e(this),r=i.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return i.each(function(){var d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),g=f.namespace,p=f.className,h=f.metadata,m=f.selector,v=f.error,b="."+g,y="module-"+g,w=this,x=e(this).data(y),C=e(this),T=C.find(m.icon);d={initialize:function(){d.verbose("Initializing rating module",f),f.interactive?d.enable():d.disable(),f.initialRating&&(d.debug("Setting initial rating"),d.setRating(f.initialRating)),C.data(h.rating)&&(d.debug("Rating found in metadata"),d.setRating(C.data(h.rating))),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",f),x=d,C.data(y,d)},destroy:function(){d.verbose("Destroying previous instance",x),C.removeData(y),T.off(b)},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(p.hover),C.addClass(p.hover),t.addClass(p.hover).prevAll().addClass(p.hover)},mouseleave:function(){C.removeClass(p.hover),T.removeClass(p.hover)},click:function(){var t=e(this),n=d.getRating(),o=T.index(t)+1;f.clearable&&n==o?d.clearRating():d.setRating(o)}},clearRating:function(){d.debug("Clearing current rating"),d.setRating(0)},getRating:function(){var e=T.filter("."+p.active).size();return d.verbose("Current rating retrieved",e),e},enable:function(){d.debug("Setting rating to interactive mode"),T.on("mouseenter"+b,d.event.mouseenter).on("mouseleave"+b,d.event.mouseleave).on("click"+b,d.event.click),C.addClass(p.active)},disable:function(){d.debug("Setting rating to read-only mode"),T.off(b),C.removeClass(p.active)},setRating:function(t){var n=t-1>=0?t-1:0,o=T.eq(n);C.removeClass(p.hover),T.removeClass(p.hover).removeClass(p.active),t>0&&(d.verbose("Setting current rating to",t),o.addClass(p.active).prevAll().addClass(p.active)),e.proxy(f.onRate,w)(t)},setting:function(t,n){return n===o?f[t]:(e.isPlainObject(t)?e.extend(!0,f,t):f[t]=n,o)},internal:function(t,n){return n===o?d[t]:(e.isPlainObject(t)?e.extend(!0,d,t):d[t]=n,o)},debug:function(){f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;f.performance&&(t=(new Date).getTime(),o=a||t,n=t-o,a=t,s.push({Element:w,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),i.size()>1&&(t+=" ("+i.size()+")"),(console.group!==o||console.table!==o)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,i,r){var a,s,l;return i=i||u,r=w||r,"string"==typeof t&&x!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(x[i])&&n!=a)x=x[i];else{if(!e.isPlainObject(x[r])||n==a)return x[i]!==o?(s=x[i],!1):x[r]!==o?(s=x[r],!1):(d.error(v.method),!1);x=x[r]}})),e.isFunction(s)?l=s.apply(r,i):s!==o&&(l=s),e.isArray(n)?n.push(l):"string"==typeof n?n=[n,l]:l!==o&&(n=l),s
}},c?(x===o&&d.initialize(),d.invoke(l)):(x!==o&&d.destroy(),d.initialize())}),n!==o?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",verbose:!0,debug:!0,performance:!0,initialRating:0,interactive:!0,clearable:!1,onRate:function(){},error:{method:"The method you called is not defined"},metadata:{rating:"rating"},className:{active:"active",hover:"hover",loading:"loading"},selector:{icon:".icon"}}}(jQuery,window,document),function(e,t,n,o){e.fn.search=function(n,i){var r,a=e(this),s=a.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return e(this).each(function(){var g,p=e.extend(!0,{},e.fn.search.settings,i),h=p.className,m=p.selector,v=p.error,b=p.namespace,y="."+b,w=b+"-module",x=e(this),C=x.find(m.prompt),T=x.find(m.searchButton),S=x.find(m.results),k=(x.find(m.result),x.find(m.category),this),P=x.data(w);g={initialize:function(){g.verbose("Initializing module");var e=C[0],t=e.oninput!==o?"input":e.onpropertychange!==o?"propertychange":"keyup";C.on("focus"+y,g.event.focus).on("blur"+y,g.event.blur).on("keydown"+y,g.handleKeyboard),p.automatic&&C.on(t+y,g.search.throttle),T.on("click"+y,g.search.query),S.on("click"+y,m.result,g.results.select),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),P=g,x.data(w,g)},destroy:function(){g.verbose("Destroying instance"),x.removeData(w)},event:{focus:function(){x.addClass(h.focus),g.results.show()},blur:function(){g.search.cancel(),x.removeClass(h.focus),g.results.hide()}},handleKeyboard:function(t){var n,o=x.find(m.result),i=x.find(m.category),r=t.which,a={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},s=h.active,l=o.index(o.filter("."+s)),c=o.size();if(r==a.escape&&(g.verbose("Escape key pressed, blurring search field"),C.trigger("blur")),S.filter(":visible").size()>0)if(r==a.enter){if(g.verbose("Enter key pressed, selecting active result"),o.filter("."+s).exists())return e.proxy(g.results.select,o.filter("."+s))(),t.preventDefault(),!1}else r==a.upArrow?(g.verbose("Up key pressed, changing active result"),n=0>l-1?l:l-1,i.removeClass(s),o.removeClass(s).eq(n).addClass(s).closest(i).addClass(s),t.preventDefault()):r==a.downArrow&&(g.verbose("Down key pressed, changing active result"),n=l+1>=c?l:l+1,i.removeClass(s),o.removeClass(s).eq(n).addClass(s).closest(i).addClass(s),t.preventDefault());else r==a.enter&&(g.verbose("Enter key pressed, executing query"),g.search.query(),T.addClass(h.down),C.one("keyup",function(){T.removeClass(h.down)}))},search:{cancel:function(){var e=x.data("xhr")||!1;e&&"resolved"!=e.state()&&(g.debug("Cancelling last search"),e.abort())},throttle:function(){var e=C.val(),t=e.length;clearTimeout(g.timer),t>=p.minCharacters?g.timer=setTimeout(g.search.query,p.searchThrottle):g.results.hide()},query:function(){var t=C.val(),o=g.search.cache.read(t);o?(g.debug("Reading result for '"+t+"' from cache"),g.results.add(o)):(g.debug("Querying for '"+t+"'"),"object"==typeof n?g.search.local(t):g.search.remote(t),e.proxy(p.onSearchQuery,x)(t))},local:function(t){var o,i=[],r=[],a=e.isArray(p.searchFields)?p.searchFields:[p.searchFields],s=RegExp("(?:s|^)"+t,"i"),l=RegExp(t,"i");x.addClass(h.loading),e.each(a,function(t,o){e.each(n,function(t,n){"string"==typeof n[o]&&-1==e.inArray(n,i)&&-1==e.inArray(n,r)&&(s.test(n[o])?i.push(n):l.test(n[o])&&r.push(n))})}),o=g.results.generate({results:e.merge(i,r)}),x.removeClass(h.loading),g.search.cache.write(t,o),g.results.add(o)},remote:function(t){var o,i={stateContext:x,url:n,urlData:{query:t},success:function(e){o=g.results.generate(e),g.search.cache.write(t,o),g.results.add(o)},failure:g.error};g.search.cancel(),g.debug("Executing search"),e.extend(!0,i,p.apiSettings),e.api(i)},cache:{read:function(e){var t=x.data("cache");return p.cache&&"object"==typeof t&&t[e]!==o?t[e]:!1},write:function(e,t){var n=x.data("cache")!==o?x.data("cache"):{};n[e]=t,x.data("cache",n)}}},results:{generate:function(t){g.debug("Generating html from response",t);var n=p.templates[p.type],o="";return e.isPlainObject(t.results)&&!e.isEmptyObject(t.results)||e.isArray(t.results)&&t.results.length>0?(p.maxResults>0&&(t.results=e.makeArray(t.results).slice(0,p.maxResults)),t.results.length>0&&(e.isFunction(n)?o=n(t):g.error(v.noTemplate,!1))):o=g.message(v.noResults,"empty"),e.proxy(p.onResults,x)(t),o},add:function(t){("default"==p.onResultsAdd||"default"==e.proxy(p.onResultsAdd,S)(t))&&S.html(t),g.results.show()},show:function(){0===S.filter(":visible").size()&&C.filter(":focus").size()>0&&""!==S.html()&&(S.stop().fadeIn(200),e.proxy(p.onResultsOpen,S)())},hide:function(){S.filter(":visible").size()>0&&(S.stop().fadeOut(200),e.proxy(p.onResultsClose,S)())},select:function(n){g.debug("Search result selected");var o=e(this),i=o.find(".title"),r=i.html();if("default"==p.onSelect||"default"==e.proxy(p.onSelect,this)(n)){var a=o.find("a[href]").eq(0),s=a.attr("href")||!1,l=a.attr("target")||!1;g.results.hide(),C.val(r),s&&("_blank"==l||n.ctrlKey?t.open(s):t.location.href=s)}}},setting:function(t,n){return g.debug("Changing setting",t,n),n===o?p[t]:(e.isPlainObject(t)?e.extend(!0,p,t):p[t]=n,o)},internal:function(t,n){return g.debug("Changing internal",t,n),n===o?g[t]:(e.isPlainObject(t)?e.extend(!0,g,t):g[t]=n,o)},debug:function(){p.debug&&(p.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,p.name+":"),g.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,p.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;p.performance&&(t=(new Date).getTime(),o=l||t,n=t-o,l=t,c.push({Element:k,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=p.name+":",n=0;l=!1,clearTimeout(g.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),a.size()>1&&(t+=" ("+a.size()+")"),(console.group!==o||console.table!==o)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var a,s,l;return n=n||f,i=k||i,"string"==typeof t&&P!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(P[i])&&n!=a)P=P[i];else{if(!e.isPlainObject(P[r])||n==a)return P[i]!==o?(s=P[i],!1):P[r]!==o?(s=P[r],!1):(g.error(v.method),!1);P=P[r]}})),e.isFunction(s)?l=s.apply(i,n):s!==o&&(l=s),e.isArray(r)?r.push(l):"string"==typeof r?r=[r,l]:l!==o&&(r=l),s}},d?(P===o&&g.initialize(),g.invoke(u)):(P!==o&&g.destroy(),g.initialize())}),r!==o?r:this},e.fn.search.settings={name:"Search Module",namespace:"search",debug:!0,verbose:!0,performance:!0,onSelect:"default",onResultsAdd:"default",onSearchQuery:function(){},onResults:function(){},onResultsOpen:function(){},onResultsClose:function(){},automatic:"true",type:"simple",minCharacters:3,searchThrottle:300,maxResults:7,cache:!0,searchFields:["title","description"],apiSettings:{},className:{active:"active",down:"down",focus:"focus",empty:"empty",loading:"loading"},error:{noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",method:"The method you called is not defined."},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result"},templates:{message:function(e,t){var n="";return e!==o&&t!==o&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},categories:function(t){var n="";return t.results!==o?(e.each(t.results,function(t,i){i.results!==o&&i.results.length>0&&(n+='<div class="category"><div class="name">'+i.name+"</div>",e.each(i.results,function(e,t){n+='<div class="result">',n+='<a href="'+t.url+'"></a>',t.image!==o&&(n+='<div class="image"> <img src="'+t.image+'">'+"</div>"),n+='<div class="info">',t.price!==o&&(n+='<div class="price">'+t.price+"</div>"),t.title!==o&&(n+='<div class="title">'+t.title+"</div>"),t.description!==o&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></div>"}),n+="</div>")}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1},simple:function(t){var n="";return t.results!==o?(e.each(t.results,function(e,t){n+='<a class="result" href="'+t.url+'">',t.image!==o&&(n+='<div class="image"> <img src="'+t.image+'">'+"</div>"),n+='<div class="info">',t.price!==o&&(n+='<div class="price">'+t.price+"</div>"),t.title!==o&&(n+='<div class="title">'+t.title+"</div>"),t.description!==o&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></a>"}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1}}}}(jQuery,window,document),function(e,t,n,o){e.fn.shape=function(t){var i,r=e(this),a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return r.each(function(){var d,f,g,p=r.selector||"",h=e.extend(!0,{},e.fn.shape.settings,t),m=h.namespace,v=h.selector,b=h.error,y=h.className,w="."+m,x="module-"+m,C=e(this),T=C.find(v.sides),S=C.find(v.side),k=this,P=C.data(x);g={initialize:function(){g.verbose("Initializing module for",k),g.set.defaultSide(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),P=g,C.data(x,P)},destroy:function(){g.verbose("Destroying previous module for",k),C.removeData(x).off(w)},refresh:function(){g.verbose("Refreshing selector cache for",k),C=e(k),T=e(this).find(v.shape),S=e(this).find(v.side)},repaint:function(){g.verbose("Forcing repaint event");var e=T.get(0)||n.createElement("div");e.offsetWidth},animate:function(e,t){g.verbose("Animating box with properties",e),t=t||function(e){g.verbose("Executing animation callback"),e!==o&&e.stopPropagation(),g.reset(),g.set.active()},h.useCSS?g.get.transitionEvent()?(g.verbose("Starting CSS animation"),C.addClass(y.animating),g.set.stageSize(),g.repaint(),C.addClass(y.css),d.addClass(y.hidden),T.css(e).one(g.get.transitionEvent(),t)):t():(g.verbose("Starting javascript animation"),C.addClass(y.animating).removeClass(y.css),g.set.stageSize(),g.repaint(),d.animate({opacity:0},h.duration,h.easing),T.animate(e,h.duration,h.easing,t))},queue:function(e){g.debug("Queueing animation of",e),T.one(g.get.transitionEvent(),function(){g.debug("Executing queued animation"),setTimeout(function(){C.shape(e)},0)})},reset:function(){g.verbose("Animating states reset"),C.removeClass(y.css).removeClass(y.animating).attr("style","").removeAttr("style"),T.attr("style","").removeAttr("style"),S.attr("style","").removeAttr("style").removeClass(y.hidden),f.removeClass(y.animating).attr("style","").removeAttr("style")},is:{animating:function(){return C.hasClass(y.animating)}},get:{transform:{up:function(){var e={y:-((d.outerHeight()-f.outerHeight())/2),z:-(d.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((d.outerHeight()-f.outerHeight())/2),z:-(d.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((d.outerWidth()-f.outerWidth())/2),z:-(d.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((d.outerWidth()-f.outerWidth())/2),z:-(d.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((d.outerWidth()-f.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((d.outerWidth()-f.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==o)return i[e]},nextSide:function(){return d.next(v.side).size()>0?d.next(v.side):C.find(v.side).first()}},set:{defaultSide:function(){d=C.find("."+h.className.active),f=d.next(v.side).size()>0?d.next(v.side):C.find(v.side).first(),g.verbose("Active side set to",d),g.verbose("Next side set to",f)},stageSize:function(){var e={width:f.outerWidth(),height:f.outerHeight()};g.verbose("Resizing stage to fit new content",e),C.css({width:e.width,height:e.height})},nextSide:function(e){f=C.find(e),0===f.size()&&g.error(b.side),g.verbose("Next side manually set to",f)},active:function(){g.verbose("Setting new side to active",f),S.removeClass(y.active),f.addClass(y.active),e.proxy(h.onChange,f)(),g.set.defaultSide()}},flip:{up:function(){g.debug("Flipping up",f),g.is.animating()?g.queue("flip up"):(g.stage.above(),g.animate(g.get.transform.up()))},down:function(){g.debug("Flipping down",f),g.is.animating()?g.queue("flip down"):(g.stage.below(),g.animate(g.get.transform.down()))},left:function(){g.debug("Flipping left",f),g.is.animating()?g.queue("flip left"):(g.stage.left(),g.animate(g.get.transform.left()))},right:function(){g.debug("Flipping right",f),g.is.animating()?g.queue("flip right"):(g.stage.right(),g.animate(g.get.transform.right()))},over:function(){g.debug("Flipping over",f),g.is.animating()?g.queue("flip over"):(g.stage.behind(),g.animate(g.get.transform.over()))},back:function(){g.debug("Flipping back",f),g.is.animating()?g.queue("flip back"):(g.stage.behind(),g.animate(g.get.transform.back()))}},stage:{above:function(){var e={origin:(d.outerHeight()-f.outerHeight())/2,depth:{active:f.outerHeight()/2,next:d.outerHeight()/2}};g.verbose("Setting the initial animation position as above",f,e),d.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(y.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(d.outerHeight()-f.outerHeight())/2,depth:{active:f.outerHeight()/2,next:d.outerHeight()/2}};g.verbose("Setting the initial animation position as below",f,e),d.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(y.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={origin:(d.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:d.outerWidth()/2}};g.verbose("Setting the initial animation position as left",f,e),d.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(y.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e={origin:(d.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:d.outerWidth()/2}};g.verbose("Setting the initial animation position as left",f,e),d.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(y.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e={origin:(d.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:d.outerWidth()/2}};g.verbose("Setting the initial animation position as behind",f,e),d.css({transform:"rotateY(0deg)"}),f.addClass(y.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){return n===o?h[t]:(e.isPlainObject(t)?e.extend(!0,h,t):h[t]=n,o)},internal:function(t,n){return n===o?g[t]:(e.isPlainObject(t)?e.extend(!0,g,t):g[t]=n,o)},debug:function(){h.debug&&(h.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,h.name+":"),g.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,h.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;h.performance&&(t=(new Date).getTime(),o=a||t,n=t-o,a=t,s.push({Element:k,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(g.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",p&&(t+=" '"+p+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==o||console.table!==o)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var a,s,l;return n=n||u,r=k||r,"string"==typeof t&&P!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(P[i])&&n!=a)P=P[i];else{if(!e.isPlainObject(P[r])||n==a)return P[i]!==o?(s=P[i],!1):P[r]!==o?(s=P[r],!1):(g.error(b.method),!1);P=P[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==o&&(l=s),e.isArray(i)?i.push(l):"string"==typeof i?i=[i,l]:l!==o&&(i=l),s}},c?(P===o&&g.initialize(),g.invoke(l)):(P!==o&&g.destroy(),g.initialize())}),i!==o?i:this},e.fn.shape.settings={name:"Shape",debug:!0,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},useCSS:!0,duration:1e3,easing:"easeInOutQuad",error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{css:"css",animating:"animating",hidden:"hidden",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,o){e.fn.sidebar=function(t){var i,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return r.each(function(){var f,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.sidebar.settings,t):e.extend({},e.fn.sidebar.settings),p=(g.selector,g.className),h=g.namespace,m=g.error,v="."+h,b="module-"+h,y=e(this),w=e("body"),x=e("head"),C=e("style[title="+h+"]"),T=this,S=y.data(b);f={initialize:function(){f.debug("Initializing sidebar",y),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),S=f,y.data(b,f)},destroy:function(){f.verbose("Destroying previous module for",y),y.off(v).removeData(b)},refresh:function(){f.verbose("Refreshing selector cache"),C=e("style[title="+h+"]")},attachEvents:function(t,n){var o=e(t);n=e.isFunction(f[n])?f[n]:f.toggle,o.size()>0?(f.debug("Attaching sidebar events to element",t,n),o.off(v).on("click"+v,n)):f.error(m.notFound)},show:function(){f.debug("Showing sidebar"),f.is.closed()?(g.overlay||f.pushPage(),f.set.active()):f.debug("Sidebar is already visible")},hide:function(){f.is.open()&&(g.overlay||(f.pullPage(),f.remove.pushed()),f.remove.active())},toggle:function(){f.is.closed()?f.show():f.hide()},pushPage:function(){var e=f.get.direction(),t=f.is.vertical()?y.outerHeight():y.outerWidth();g.useCSS?(f.debug("Using CSS to animate body"),f.add.bodyCSS(e,t),f.set.pushed()):f.animatePage(e,t,f.set.pushed)},pullPage:function(){var e=f.get.direction();g.useCSS?(f.debug("Resetting body position css"),f.remove.bodyCSS()):(f.debug("Resetting body position using javascript"),f.animatePage(e,0)),f.remove.pushed()},animatePage:function(e,t){var n={};n["padding-"+e]=t,f.debug("Using javascript to animate body",n),w.animate(n,g.duration,f.set.pushed)},add:{bodyCSS:function(e,t){var n;e!==p.bottom&&(n='<style title="'+h+'">'+"body.pushed {"+"  margin-"+e+": "+t+"px !important;"+"}"+"</style>"),x.append(n),f.debug("Adding body css to head",C)}},remove:{bodyCSS:function(){f.debug("Removing body css styles",C),f.refresh(),C.remove()},active:function(){y.removeClass(p.active)},pushed:function(){f.verbose("Removing body push state",f.get.direction()),w.removeClass(p[f.get.direction()]).removeClass(p.pushed)}},set:{active:function(){y.addClass(p.active)},pushed:function(){f.verbose("Adding body push state",f.get.direction()),w.addClass(p[f.get.direction()]).addClass(p.pushed)}},get:{direction:function(){return y.hasClass(p.top)?p.top:y.hasClass(p.right)?p.right:y.hasClass(p.bottom)?p.bottom:p.left},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==o)return i[e]}},is:{open:function(){return y.is(":animated")||y.hasClass(p.active)},closed:function(){return!f.is.open()},vertical:function(){return y.hasClass(p.top)}},setting:function(t,n){return n===o?g[t]:(e.isPlainObject(t)?e.extend(!0,g,t):g[t]=n,o)},internal:function(t,n){return n===o?f[t]:(e.isPlainObject(t)?e.extend(!0,f,t):f[t]=n,o)},debug:function(){g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+":"),f.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,g.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;g.performance&&(t=(new Date).getTime(),o=s||t,n=t-o,s=t,l.push({Element:T,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var t=g.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==o||console.table!==o)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var a,s,l;return n=n||d,r=T||r,"string"==typeof t&&S!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(S[i])&&n!=a)S=S[i];else{if(!e.isPlainObject(S[r])||n==a)return S[i]!==o?(s=S[i],!1):S[r]!==o?(s=S[r],!1):(f.error(m.method),!1);S=S[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==o&&(l=s),e.isArray(i)?i.push(l):"string"==typeof i?i=[i,l]:l!==o&&(i=l),s}},u?(S===o&&f.initialize(),f.invoke(c)):(S!==o&&f.destroy(),f.initialize())}),i!==o?i:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",verbose:!0,debug:!0,performance:!0,useCSS:!0,overlay:!1,duration:300,side:"left",onChange:function(){},onShow:function(){},onHide:function(){},className:{active:"active",pushed:"pushed",top:"top",left:"left",right:"right",bottom:"bottom"},error:{method:"The method you called is not defined.",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,o){e.fn.tab=function(n){var i,r,a,s,l,c=e.extend(!0,{},e.fn.tab.settings,n),u=e(this),d=e(c.context).find(c.selector.tabs),f=u.selector||"",g={},p=!0,h=0,m=this,v=(new Date).getTime(),b=[],y=c.className,w=c.metadata,x=c.error,C="."+c.namespace,T="module-"+c.namespace,S=u.data(T),k=arguments[0],P=S!==o&&"string"==typeof k,D=[].slice.call(arguments,1);return s={initialize:function(){if(s.debug("Initializing Tabs",u),c.auto&&(s.verbose("Setting up automatic tab retrieval from server"),c.apiSettings={url:c.path+"/{$tab}"}),c.history){if(e.address===o)return s.error(x.state),!1;if(c.path===!1)return s.error(x.path),!1;s.verbose("Address library found adding state change event"),e.address.state(c.path).unbind("change").bind("change",s.event.history.change)}e.isWindow(m)||(s.debug("Attaching tab activation events to element",u),u.on("click"+C,s.event.click)),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),u.data(T,s)},destroy:function(){s.debug("Destroying tabs",u),u.removeData(T).off(C)},event:{click:function(t){s.debug("Navigation clicked");var n=e(this).data(w.tab);n!==o?(c.history?e.address.value(n):s.changeTab(n),t.preventDefault()):s.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||s.get.initialPath(),i=c.templates.determineTitle(n)||!1;s.debug("History change event",n,t),a=t,n!==o&&s.changeTab(n),i&&e.address.title(i)}}},refresh:function(){i&&(s.debug("Refreshing tab",i),s.changeTab(i))},cache:{read:function(e){return e!==o?g[e]:!1},add:function(e,t){e=e||i,s.debug("Adding cached content for",e),g[e]=t},remove:function(e){e=e||i,s.debug("Removing cached content for",e),delete g[e]}},changeTab:function(n){var l=t.history&&t.history.pushState,u=l&&c.ignoreFirstLoad&&p,d=c.auto||e.isPlainObject(c.apiSettings),f=d&&!u?s.utilities.pathToArray(n):s.get.defaultPathArray(n);n=s.utilities.arrayToPath(f),s.deactivate.all(),e.each(f,function(t,l){var g,h,m,v=f.slice(0,t+1),b=s.utilities.arrayToPath(v),y=s.is.tab(b),w=t+1==f.length,C=s.get.tabElement(b);return s.verbose("Looking for tab",l),y?(s.verbose("Tab was found",l),i=b,r=s.utilities.filterArray(f,v),w?m=!0:(g=f.slice(0,t+2),h=s.utilities.arrayToPath(g),m=!s.is.tab(h),m&&s.verbose("Tab parameters found",g)),m&&d?(u?(s.debug("Ignoring remote content on first tab load",b),p=!1,s.cache.add(n,C.html()),s.activate.all(b),e.proxy(c.onTabInit,C)(b,r,a),e.proxy(c.onTabLoad,C)(b,r,a)):(s.activate.navigation(b),s.content.fetch(b,n)),!1):(s.debug("Opened local tab",b),s.activate.all(b),e.proxy(c.onTabLoad,C)(b,r,a),o)):(s.error(x.missingTab,l),!1)})},content:{fetch:function(t,n){var l,u,d=s.get.tabElement(t),f={dataType:"html",stateContext:d,success:function(o){s.cache.add(n,o),s.content.update(t,o),t==i?(s.debug("Content loaded",t),s.activate.tab(t)):s.debug("Content loaded in background",t),e.proxy(c.onTabInit,d)(t,r,a),e.proxy(c.onTabLoad,d)(t,r,a)},urlData:{tab:n}},g=d.data(w.promise)||!1,p=g&&"pending"===g.state();n=n||t,u=s.cache.read(n),c.cache&&u?(s.debug("Showing existing content",n),s.content.update(t,u),s.activate.tab(t),e.proxy(c.onTabLoad,d)(t,r,a)):p?(s.debug("Content is already loading",n),d.addClass(y.loading)):e.api!==o?(console.log(c.apiSettings),l=e.extend(!0,{headers:{"X-Remote":!0}},c.apiSettings,f),s.debug("Retrieving remote content",n,l),e.api(l)):s.error(x.api)},update:function(e,t){s.debug("Updating html for",e);var n=s.get.tabElement(e);n.html(t)}},activate:{all:function(e){s.activate.tab(e),s.activate.navigation(e)},tab:function(e){var t=s.get.tabElement(e);s.verbose("Showing tab content for",t),t.addClass(y.active)},navigation:function(e){var t=s.get.navElement(e);s.verbose("Activating tab navigation for",t,e),t.addClass(y.active)}},deactivate:{all:function(){s.deactivate.navigation(),s.deactivate.tabs()},navigation:function(){u.removeClass(y.active)},tabs:function(){d.removeClass(y.active+" "+y.loading)}},is:{tab:function(e){return e!==o?s.get.tabElement(e).size()>0:!1}},get:{initialPath:function(){return u.eq(0).data(w.tab)||d.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return s.utilities.pathToArray(s.get.defaultPath(e))},defaultPath:function(e){var t=u.filter("[data-"+w.tab+'^="'+e+'/"]').eq(0),n=t.data(w.tab)||!1;if(n){if(s.debug("Found default tab",n),c.maxDepth>h)return h++,s.get.defaultPath(n);s.error(x.recursion)}else s.debug("No default tabs found for",e,d);return h=0,e},navElement:function(e){return e=e||i,u.filter("[data-"+w.tab+'="'+e+'"]')},tabElement:function(e){var t,n,o,r;return e=e||i,o=s.utilities.pathToArray(e),r=s.utilities.last(o),t=d.filter("[data-"+w.tab+'="'+r+'"]'),n=d.filter("[data-"+w.tab+'="'+e+'"]'),t.size()>0?t:n},tab:function(){return i}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===o&&(e=i),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){return n===o?c[t]:(e.isPlainObject(t)?e.extend(!0,c,t):c[t]=n,o)},internal:function(t,n){return n===o?s[t]:(e.isPlainObject(t)?e.extend(!0,s,t):s[t]=n,o)},debug:function(){c.debug&&(c.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,c.name+":"),s.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,c.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;c.performance&&(t=(new Date).getTime(),o=v||t,n=t-o,v=t,b.push({Element:m,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,100)},display:function(){var t=c.name+":",n=0;v=!1,clearTimeout(s.performance.timer),e.each(b,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",f&&(t+=" '"+f+"'"),(console.group!==o||console.table!==o)&&b.length>0&&(console.groupCollapsed(t),console.table?console.table(b):e.each(b,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),b=[]}},invoke:function(t,n,i){var r,a,c;return n=n||D,i=m||i,"string"==typeof t&&S!==o&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var l=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(S[i])&&n!=r)S=S[i];else{if(!e.isPlainObject(S[l])||n==r)return S[i]!==o?(a=S[i],!1):S[l]!==o?(a=S[l],!1):(s.error(x.method),!1);S=S[l]}})),e.isFunction(a)?c=a.apply(i,n):a!==o&&(c=a),e.isArray(l)?l.push(c):"string"==typeof l?l=[l,c]:c!==o&&(l=c),a}},P?(S===o&&s.initialize(),s.invoke(k)):(S!==o&&s.destroy(),s.initialize()),l!==o?l:this},e.tab=function(n){e(t).tab(n)},e.fn.tab.settings={name:"Tab",verbose:!0,debug:!0,performance:!0,namespace:"tab",onTabInit:function(){},onTabLoad:function(){},templates:{determineTitle:function(){}},auto:!1,history:!1,path:!1,context:"body",maxDepth:25,ignoreFirstLoad:!1,alwaysRefresh:!1,cache:!0,apiSettings:!1,error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Tab cannot be found",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"The state library has not been initialized"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab"}}}(jQuery,window,document),function(e,t,n,o){e.fn.transition=function(){var i,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],c=arguments,u=c[0],d=[].slice.call(arguments,1),f="string"==typeof u;return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},r.each(function(){var t,g,p,h,m,v,b,y,w,x,C=e(this),T=this;x={initialize:function(){t=x.get.settings.apply(T,c),x.verbose("Converted arguments into settings object",t),p=t.error,h=t.className,y=t.namespace,m=t.metadata,w="module-"+y,v=x.get.animationEvent(),b=x.get.animationName(),g=C.data(w),g===o&&x.instantiate(),f&&(f=x.invoke(u)),f===!1&&x.animate()},instantiate:function(){x.verbose("Storing instance of module",x),g=x,C.data(w,g)},destroy:function(){x.verbose("Destroying previous module for",T),C.removeData(w)
},animate:function(e){return t=e||t,x.debug("Preparing animation",t.animation),x.is.animating()?(t.queue&&x.queue(t.animation),!1):(x.save.conditions(),x.set.duration(t.duration),x.set.animating(),x.repaint(),C.addClass(h.transition).addClass(t.animation).one(v,x.complete),!x.has.direction()&&x.can.transition()&&x.set.direction(),x.can.animate()?(x.show(),x.debug("Starting tween",t.animation,C.attr("class")),o):(x.restore.conditions(),x.error(p.noAnimation),!1))},queue:function(e){x.debug("Queueing animation of",e),g.queuing=!0,C.one(v,function(){g.queuing=!1,x.animate.apply(this,t)})},complete:function(){x.verbose("CSS animation complete",t.animation),x.is.looping()||(C.hasClass(h.outward)?(x.restore.conditions(),x.hide()):C.hasClass(h.inward)?(x.restore.conditions(),x.show()):x.restore.conditions(),x.remove.animating()),e.proxy(t.complete,this)()},repaint:function(e){x.verbose("Forcing repaint event"),e=T.offsetWidth},has:{direction:function(e){return e=e||t.animation,C.hasClass(h.inward)||C.hasClass(h.outward)?!0:o}},set:{animating:function(){C.addClass(h.animating)},direction:function(){C.is(":visible")?(x.debug("Automatically determining the direction of animation","Outward"),C.addClass(h.outward).removeClass(h.inward)):(x.debug("Automatically determining the direction of animation","Inward"),C.addClass(h.inward).removeClass(h.outward))},looping:function(){x.debug("Transition set to loop"),C.addClass(h.looping)},duration:function(e){e=e||t.duration,e="number"==typeof e?e+"ms":e,x.verbose("Setting animation duration",e),C.css({"-webkit-animation-duration":e,"-moz-animation-duration":e,"-ms-animation-duration":e,"-o-animation-duration":e,"animation-duration":e})}},save:{conditions:function(){x.cache={className:C.attr("class"),style:C.attr("style")},x.verbose("Saving original attributes",x.cache)}},restore:{conditions:function(){return typeof x.cache===o?(x.error(p.cache),!1):(x.cache.className?C.attr("class",x.cache.className):C.removeAttr("class"),x.cache.style?C.attr("style",x.cache.style):C.removeAttr("style"),x.is.looping()&&x.remove.looping(),x.verbose("Restoring original attributes",x.cache),o)}},remove:{animating:function(){C.removeClass(h.animating)},looping:function(){x.debug("Transitions are no longer looping"),C.removeClass(h.looping),x.repaint()}},get:{settings:function(t,n,o){return e.isPlainObject(t)?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof o?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:o,duration:n}):"string"==typeof n||"number"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend(!0,{},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:n}):e.extend(!0,{},e.fn.transition.settings,{animation:t})},animationName:function(){var e,t=n.createElement("div"),i={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(e in i)if(t.style[e]!==o)return x.verbose("Determining animation vendor name property",i[e]),i[e];return!1},animationEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(t.style[e]!==o)return x.verbose("Determining animation vendor end event",i[e]),i[e];return!1}},can:{animate:function(){return"none"!==C.css(b)?(x.debug("CSS definition found"),!0):(x.debug("Unable to find css definition"),!1)},transition:function(){var t=e("<div>").addClass(C.attr("class")).appendTo(e("body")),n=t.css(b),o=t.addClass(h.inward).css(b);return n!=o?(x.debug("In/out transitions exist"),t.remove(),!0):(x.debug("Static animation found"),t.remove(),!1)}},is:{animating:function(){return C.hasClass(h.animating)},looping:function(){return C.hasClass(h.looping)},visible:function(){return C.is(":visible")}},hide:function(){x.verbose("Hiding element"),C.removeClass(h.visible).addClass(h.transition).addClass(h.hidden),x.repaint()},show:function(){x.verbose("Showing element"),C.removeClass(h.hidden).addClass(h.transition).addClass(h.visible),x.repaint()},start:function(){x.verbose("Starting animation"),C.removeClass(h.disabled)},stop:function(){x.debug("Stopping animation"),C.addClass(h.disabled)},toggle:function(){x.debug("Toggling play status"),C.toggleClass(h.disabled)},setting:function(n,i){return i===o?t[n]:(e.isPlainObject(n)?e.extend(!0,t,n):t[n]=i,o)},internal:function(t,n){return n===o?x[t]:(e.isPlainObject(t)?e.extend(!0,x,t):x[t]=n,o)},debug:function(){t.debug&&(t.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,t.name+":"),x.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,t.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var n,o,i;t.performance&&(n=(new Date).getTime(),i=s||n,o=n-i,s=n,l.push({Element:T,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":o})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,100)},display:function(){var n=t.name+":",i=0;s=!1,clearTimeout(x.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),n+=" "+i+"ms",a&&(n+=" '"+a+"'"),r.size()>1&&(n+=" ("+r.size()+")"),(console.group!==o||console.table!==o)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var a,s,l;return n=n||d,r=T||r,"string"==typeof t&&g!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(g[i])&&n!=a)g=g[i];else{if(!e.isPlainObject(g[r])||n==a)return g[i]!==o?(s=g[i],!1):g[r]!==o?(s=g[r],!1):!1;g=g[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==o&&(l=s),e.isArray(i)?i.push(l):"string"==typeof i?i=[i,l]:l!==o&&(i=l),s||!1}},x.initialize()}),i!==o?i:this},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",complete:function(){},animation:"fade",duration:"700ms",queue:!0,className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"ui transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",method:"The method you called is not defined"}}}(jQuery,window,document),function(e,t,n,o){e.fn.video=function(t){var n,i=e(this),r=i.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return i.each(function(){var d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.video.settings,t):e.extend({},e.fn.video.settings),g=f.selector,p=f.className,h=f.error,m=f.metadata,v=f.namespace,b="."+v,y="module-"+v,w=e(this),x=w.find(g.placeholder),C=w.find(g.playButton),T=w.find(g.embed),S=this,k=w.data(y);d={initialize:function(){d.debug("Initializing video"),x.on("click"+b,d.play),C.on("click"+b,d.play),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),k=d,w.data(y,d)},destroy:function(){d.verbose("Destroying previous instance of video"),w.removeData(y).off(b),x.off(b),C.off(b)},change:function(e,t,n){d.debug("Changing video to ",e,t,n),w.data(m.source,e).data(m.id,t).data(m.url,n),f.onChange()},reset:function(){d.debug("Clearing video embed and showing placeholder"),w.removeClass(p.active),T.html(" "),x.show(),f.onReset()},play:function(){d.debug("Playing video");var e=w.data(m.source)||!1,t=w.data(m.url)||!1,n=w.data(m.id)||!1;T.html(d.generate.html(e,n,t)),w.addClass(p.active),f.onPlay()},generate:{html:function(e,t,n){d.debug("Generating embed html");var o,i="auto"==f.width?w.width():f.width,r="auto"==f.height?w.height():f.height;return e&&t?"vimeo"==e?o='<iframe src="http://player.vimeo.com/video/'+t+"?="+d.generate.url(e)+'"'+' width="'+i+'" height="'+r+'"'+' frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(o='<iframe src="http://www.youtube.com/embed/'+t+"?="+d.generate.url(e)+'"'+' width="'+i+'" height="'+r+'"'+' frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):n?o='<iframe src="'+n+'"'+' width="'+i+'" height="'+r+'"'+' frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':d.error(h.noVideo),o},url:function(e){var t=f.api?1:0,n=f.autoplay?1:0,o=f.hd?1:0,i=f.showUI?1:0,r=f.showUI?0:1,a="";return"vimeo"==e&&(a="api="+t+"&amp;title="+i+"&amp;byline="+i+"&amp;portrait="+i+"&amp;autoplay="+n,f.color&&(a+="&amp;color="+f.color)),"ustream"==e?(a="autoplay="+n,f.color&&(a+="&amp;color="+f.color)):"youtube"==e&&(a="enablejsapi="+t+"&amp;autoplay="+n+"&amp;autohide="+r+"&amp;hq="+o+"&amp;modestbranding=1",f.color&&(a+="&amp;color="+f.color)),a}},setting:function(t,n){return n===o?f[t]:(e.isPlainObject(t)?e.extend(!0,f,t):f[t]=n,o)},internal:function(t,n){return n===o?d[t]:(e.isPlainObject(t)?e.extend(!0,d,t):d[t]=n,o)},debug:function(){f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,o;f.performance&&(t=(new Date).getTime(),o=a||t,n=t-o,a=t,s.push({Element:S,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),i.size()>1&&(t+=" ("+i.size()+")"),(console.group!==o||console.table!==o)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,i,r){var a,s,l;return i=i||u,r=S||r,"string"==typeof t&&k!==o&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var r=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(k[i])&&n!=a)k=k[i];else{if(!e.isPlainObject(k[r])||n==a)return k[i]!==o?(s=k[i],!1):k[r]!==o?(s=k[r],!1):(d.error(h.method),!1);k=k[r]}})),e.isFunction(s)?l=s.apply(r,i):s!==o&&(l=s),e.isArray(n)?n.push(l):"string"==typeof n?n=[n,l]:l!==o&&(n=l),s}},c?(k===o&&d.initialize(),d.invoke(l)):(k!==o&&d.destroy(),d.initialize())}),n!==o?n:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!0,verbose:!0,performance:!0,metadata:{source:"source",id:"id",url:"url"},onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:!1,color:"#442359",hd:!0,showUI:!1,api:!0,error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}}}(jQuery,window,document),window.require.register("sprintf",function(e,t,n){var o=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.object_stringify=function(e,t,o,i){var r="";if(null!=e)switch(typeof e){case"function":return"[Function"+(e.name?": "+e.name:"")+"]";case"object":if(e instanceof Error)return"["+(""+e)+"]";if(t>=o)return"[Object]";if(i&&(i=i.slice(0),i.push(e)),null!=e.length){r+="[";var a=[];for(var s in e)i&&i.indexOf(e[s])>=0?a.push("[Circular]"):a.push(n.object_stringify(e[s],t+1,o,i));r+=a.join(", ")+"]"}else{if("getMonth"in e)return"Date("+e+")";r+="{";var a=[];for(var l in e)e.hasOwnProperty(l)&&(i&&i.indexOf(e[l])>=0?a.push(l+": [Circular]"):a.push(l+": "+n.object_stringify(e[l],t+1,o,i)));r+=a.join(", ")+"}"}return r;case"string":return'"'+e+'"'}return""+e},n.format=function(i,r){var a,s,l,c,u,d,f,g=1,p=i.length,h="",m=[];for(s=0;p>s;s++)if(h=e(i[s]),"string"===h)m.push(i[s]);else if("array"===h){if(c=i[s],c[2])for(a=r[g],l=0;c[2].length>l;l++){if(!a.hasOwnProperty(c[2][l]))throw Error(o('[sprintf] property "%s" does not exist',c[2][l]));a=a[c[2][l]]}else a=c[1]?r[c[1]]:r[g++];if(/[^sO]/.test(c[8])&&"number"!=e(a))throw Error(o('[sprintf] expecting number but found %s "'+a+'"',e(a)));switch(c[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=c[7]?a.toExponential(c[7]):a.toExponential();break;case"f":a=c[7]?parseFloat(a).toFixed(c[7]):parseFloat(a);break;case"O":a=n.object_stringify(a,0,parseInt(c[7])||5);break;case"o":a=a.toString(8);break;case"s":a=(a+="")&&c[7]?a.substring(0,c[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(c[8])&&c[3]&&a>=0?"+"+a:a,d=c[4]?"0"==c[4]?"0":c[4].charAt(1):" ",f=c[6]-(a+"").length,u=c[6]?t(d,f):"",m.push(c[5]?a+u:u+a)}return m.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],o=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))o.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))o.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosOuxX])/.exec(t)))throw Error("[sprintf] "+t);if(n[2]){i|=1;var r=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw Error("[sprintf] "+a);for(r.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))r.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw Error("[sprintf] "+a);r.push(s[1])}n[2]=r}else i|=2;if(3===i)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push(n)}t=t.substring(n[0].length)}return o},n}(),i=function(e,t){var n=t.slice();return n.unshift(e),o.apply(null,n)};n.exports=o,o.sprintf=o,o.vsprintf=i}),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};window.Waveform=t=function(){function t(e){if(this.redraw=n(this.redraw,this),this.container=e.container,this.canvas=e.canvas,this.data=e.data||[],this.outerColor=e.outerColor||"transparent",this.innerColor=e.innerColor||"#000000",this.interpolate=!0,e.interpolate===!1&&(this.interpolate=!1),null==this.canvas){if(!this.container)throw"Either canvas or container option must be passed";this.canvas=this.createCanvas(this.container,e.width||this.container.clientWidth,e.height||this.container.clientHeight)}this.patchCanvasForIE(this.canvas),this.context=this.canvas.getContext("2d"),this.width=parseInt(this.context.canvas.width,10),this.height=parseInt(this.context.canvas.height,10),e.data&&this.update(e)}return t.name="Waveform",t.prototype.setData=function(e){return this.data=e},t.prototype.setDataInterpolated=function(e){return this.setData(this.interpolateArray(e,this.width))},t.prototype.setDataCropped=function(e){return this.setData(this.expandArray(e,this.width))},t.prototype.update=function(e){return null!=e.interpolate&&(this.interpolate=e.interpolate),this.interpolate===!1?this.setDataCropped(e.data):this.setDataInterpolated(e.data),this.redraw()},t.prototype.redraw=function(){var e,t,n,o,i,r,a,s;for(this.clear(),this.context.fillStyle=this.innerColor,n=this.height/2,t=0,a=this.data,s=[],i=0,r=a.length;r>i;i++)e=a[i],o=this.width/this.data.length,"function"==typeof this.innerColor&&(this.context.fillStyle=this.innerColor(t/this.width,e)),this.context.clearRect(o*t,n-n*e,o,2*n*e),this.context.fillRect(o*t,n-n*e,o,2*n*e),s.push(t++);return s},t.prototype.clear=function(){return this.context.fillStyle=this.outerColor,this.context.clearRect(0,0,this.width,this.height),this.context.fillRect(0,0,this.width,this.height)},t.prototype.patchCanvasForIE=function(e){var t;return window.G_vmlCanvasManager!==void 0?(e=window.G_vmlCanvasManager.initElement(e),t=e.getContext,e.getContext=function(){var n;return n=t.apply(e,arguments),e.getContext=t,n}):void 0},t.prototype.createCanvas=function(e,t,n){var o;return o=document.createElement("canvas"),e.appendChild(o),o.width=t,o.height=n,o},t.prototype.expandArray=function(e,t,n){var o,i,r,a;if(null==n&&(n=0),i=[],e.length>t)i=e.slice(e.length-t,e.length);else for(o=r=0,a=t-1;a>=0?a>=r:r>=a;o=a>=0?++r:--r)i[o]=e[o]||n;return i},t.prototype.linearInterpolate=function(e,t,n){return e+(t-e)*n},t.prototype.interpolateArray=function(e,t){var n,o,i,r,a,s,l;for(a=[],s=new Number((e.length-1)/(t-1)),a[0]=e[0],r=1;t-1>r;)l=r*s,i=new Number(Math.floor(l)).toFixed(),n=new Number(Math.ceil(l)).toFixed(),o=l-i,a[r]=this.linearInterpolate(e[i],e[n],o),r++;return a[t-1]=e[e.length-1],a},t.prototype.optionsForSyncedStream=function(e){var t,n;return null==e&&(e={}),t=!1,n=this,{whileplaying:this.redraw,whileloading:function(){var o;return t||(o=this,n.innerColor=function(t){return o.position/o.durationEstimate>t?e.playedColor||"rgba(255,  102, 0, 0.8)":o.bytesLoaded/o.bytesTotal>t?e.loadedColor||"rgba(0, 0, 0, 0.8)":e.defaultColor||"rgba(0, 0, 0, 0.4)"},t=!0),this.redraw}}},t.prototype.dataFromSoundCloudTrack=function(t){var n=this;return e.get("http://www.waveformjs.org/w",{url:t.waveform_url},function(e){return n.update({data:e})})},t}(),e=function(){var e,t,n,o,i,r,a,s,l,c;return a=function(e){var t,n,o;return o=document.createElement("script"),t=!1,o.src=e,o.async=!0,o.onload=o.onreadystatechange=function(){return t||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t=!0,o.onload=o.onreadystatechange=null,!o||!o.parentNode)?void 0:o.parentNode.removeChild(o)},n||(n=document.getElementsByTagName("head")[0]),n.appendChild(o)},n=function(e){return encodeURIComponent(e)},i=function(o,r,s,l){var u,d;d=-1===(o||"").indexOf("?")?"?":"&",r=r||{};for(u in r)r.hasOwnProperty(u)&&(d+=n(u)+"="+n(r[u])+"&");return i="json"+ ++t,c[i]=function(e){s(e);try{delete c[i]}catch(t){}return c[i]=null},a(o+d+(l||e.callbackName||"callback")+"="+i),i},l=function(e){var t;return t=e},t=0,o=void 0,s=void 0,r=void 0,c=this,e={},{get:i,init:l}}()}.call(this),window.require.register("zhutil",function(e,t,n){function o(e,t){for(var n=-1,o=t.length>>>0;o>++n;)if(e===t[n]&&n in t)return!0;return!1}var i,r,a,s,l,c,u,d,f,g,p,h,m;for(i=["‚óã","‰∏Ä","‰∫å","‰∏â","Âõõ","‰∫î","ÂÖ≠","‰∏É","ÂÖ´","‰πù"],r=["Èõ∂","Â£π","Ë≤≥","ÂèÉ","ËÇÜ","‰ºç","Èô∏","Êüí","Êçå","Áéñ"],s={},l=0,c=i.length;c>l;++l)u=l,d=i[l],s[d]=u;a=s,g=function(){var e,t,n,o={};for(e=0,n=(t=i).length;n>e;++e)u=e,d=t[e],o[r[u]]=d;return o}(),g["Ôºê"]="‚óã",g["ÂÖ©"]="‰∫å",g["Êãæ"]="ÂçÅ",g["‰Ω∞"]="Áôæ",g["‰ªü"]="ÂçÉ",f=g,p={"ÂçÅ":10,"Áôæ":100,"ÂçÉ":1e3,"Ëê¨":1e4,"ÂÑÑ":Math.pow(10,8),"ÂÖÜ":Math.pow(10,12)},h=["Ëê¨","ÂÑÑ","ÂÖÜ"],m=function(e){var t,n,i,r,s,l,c;for(t=0,n=0,i=0,r=0,l=(s=e.split("")).length;l>r;++r)c=s[r],null!=f[c]&&(c=f[c]),c in a?i=a[c]:o(c,h)?(t+=(n+i)*p[c],n=0,i=0):("ÂçÅ"===c&&0===i&&(i=1),n+=i*p[c],i=0);return t+n+i},n.exports={parseZHNumber:m}});